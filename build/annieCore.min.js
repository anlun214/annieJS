<<<<<<< HEAD
var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},annie;!function(e){var t=function(){function e(){this._instanceId=0,this._instanceType="AObject",this._instanceId=e._object_id++}return Object.defineProperty(e.prototype,"instanceId",{get:function(){return this._instanceId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"instanceType",{get:function(){return this._instanceType},enumerable:!0,configurable:!0}),e._object_id=0,e}();e.AObject=t;var n=function(t){function n(){t.call(this),this.eventTypes=null,this._instanceType="annie.EventDispatcher",this.eventTypes={}}return __extends(n,t),n.getMouseEventCount=function(e){void 0===e&&(e="");var t=0;if(""==e)for(var i in n._MECO)0==i.indexOf("onMouse")&&(t+=n._MECO[i]);else n._MECO[e]&&(t=n._MECO[e]);return t},n.prototype.addEventListener=function(e,t){if(!e)throw new Error("添加侦听的type值为undefined");if(!t)throw new Error("侦听回调函数不能为null");var n=this;n.eventTypes[e]||(n.eventTypes[e]=[]),n.eventTypes[e].indexOf(t)<0&&(n.eventTypes[e].unshift(t),0==e.indexOf("onMouse")&&n._changeMouseCount(e,!0))},n.prototype.on=function(e,t){this.addEventListener.apply(this,arguments)},n.prototype._changeMouseCount=function(e,t){var i=t?1:-1;n._MECO[e]||(n._MECO[e]=0),n._MECO[e]+=i,n._MECO[e]<0&&(n._MECO[e]=0),n._totalMEC+=i},n.prototype.dispatchEvent=function(t,n){void 0===n&&(n=null);var i=this;"string"==typeof t&&(t=new e.Event(t));var r=i.eventTypes[t.type];if(r){var a=r.length;null==t.target&&(t.target=i),null!=n&&(t.data=n);for(var o=a-1;o>=0;o--)r[o]?r[o](t):r.splice(o,1);return!0}return!1},n.prototype.trigger=function(e,t){return void 0===t&&(t=null),this.dispatchEvent.apply(this,arguments)},n.prototype.hasEventListener=function(e){return!!(this.eventTypes[e]&&this.eventTypes[e].length>0)},n.prototype.removeEventListener=function(e,t){var n=this,i=n.eventTypes[e];if(i)for(var r=i.length,a=r-1;a>=0;a--)i[a]===t&&(i.splice(a,1),0==e.indexOf("onMouse")&&n._changeMouseCount(e,!1))},n.prototype.off=function(e,t){this.removeAllEventListener.apply(this,arguments)},n.prototype.removeAllEventListener=function(){var e=this;for(var t in e.eventTypes)if(0==t.indexOf("onMouse"))for(var n=0;n<e.eventTypes[t].length;n++)e._changeMouseCount(t,!1);e.eventTypes={}},n._MECO={},n._totalMEC=0,n}(t);e.EventDispatcher=n}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t){e.call(this),this.type="",this.target=null,this.data=null,this._pd=!1,this._instanceType="annie.Event",this.type=t}return __extends(t,e),t.prototype.preventDefault=function(){this._pd=!0},t.RESIZE="onResize",t.ON_PLAY_UPDATE="onPlayUpdate",t.ON_PLAY_END="onPlayEnd",t.ON_PLAY_START="onPlayStart",t.ON_FLIP_START="onFlipStart",t.ON_FLIP_STOP="onFlipStop",t.ON_SCROLL_TO_HEAD="onScrollToHead",t.ON_SCROLL_STOP="onScrollStop",t.ON_SCROLL_START="onScrollStart",t.ON_SCROLL_TO_END="onScrollToEnd",t.ON_SLIDE_START="onSlideStart",t.ON_SLIDE_END="onSlideEnd",t.INIT_TO_STAGE="onInitStage",t.ADD_TO_STAGE="onAddToStage",t.REMOVE_TO_STAGE="onRemoveToStage",t.ENTER_FRAME="onEnterFrame",t.END_FRAME="onEndFrame",t.CALL_FRAME="onCallFrame",t.COMPLETE="onComplete",t.PROGRESS="onProgress",t.ERROR="onError",t.ABORT="onAbort",t.START="onStart",t.TIMER="onTimer",t.TIMER_COMPLETE="onTimerComplete",t}(e.AObject);e.Event=t}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t){e.call(this,t),this.clientX=0,this.clientY=0,this.stageX=0,this.stageY=0,this.localX=0,this.localY=0,this.currentTarget=null,this.identifier=0,this._instanceType="annie.MouseEvent"}return __extends(t,e),t.prototype.updateAfterEvent=function(){this.target.stage._cp=!0},t.MOUSE_DOWN="onMouseDown",t.MOUSE_UP="onMouseUp",t.CLICK="onMouseClick",t.MOUSE_MOVE="onMouseMove",t.MOUSE_OVER="onMouseOver",t.MOUSE_OUT="onMouseOut",t}(e.Event);e.MouseEvent=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(n){t.call(this,n),this.clientPoint1=new e.Point,this.clientPoint2=new e.Point,this.scale=0,this.rotate=0,this._instanceType="annie.TouchEvent"}return __extends(n,t),n.prototype.updateAfterEvent=function(){this.target.stage._cp=!0},n.ON_MULTI_TOUCH="onMultiTouch",n}(e.Event);e.TouchEvent=t}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t,n){void 0===t&&(t=0),void 0===n&&(n=0),e.call(this),this.x=0,this.y=0;var i=this;i._instanceType="annie.Point",i.x=t,i.y=n}return __extends(t,e),t.distance=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=e.length;return 4==n?Math.sqrt((e[0]-e[2])*(e[0]-e[2])+(e[1]-e[3])*(e[1]-e[3])):2==n?Math.sqrt((e[0].x-e[1].x)*(e[0].x-e[1].x)+(e[0].y-e[1].y)*(e[0].y-e[1].y)):void 0},t}(e.AObject);e.Point=t}(annie||(annie={}));var annie;!function(e){function t(e){switch(e){case r:case-a:return 0;case i:case-i:return-1;case a:case-r:return 0;default:return Math.cos(e)}}function n(e){switch(e){case r:case-a:return 1;case i:case-i:return 0;case a:case-r:return-1;default:return Math.sin(e)}}var i=Math.PI,r=i>>1,a=i+r,o=Math.PI/180,s=function(i){function r(t,n,r,a,o,s){void 0===t&&(t=1),void 0===n&&(n=0),void 0===r&&(r=0),void 0===a&&(a=1),void 0===o&&(o=0),void 0===s&&(s=0),i.call(this),this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.transformPoint=function(t,n,i){void 0===i&&(i=null);var r=this;return i||(i=new e.Point),i.x=t*r.a+n*r.c+r.tx,i.y=t*r.b+n*r.d+r.ty,i},this.prepend=function(e){var t=this,n=e.a,i=e.b,r=e.c,a=e.d,o=e.tx,s=e.ty,l=t.a,u=t.c,d=t.tx;t.a=n*l+r*t.b,t.b=i*l+a*t.b,t.c=n*u+r*t.d,t.d=i*u+a*t.d,t.tx=n*d+r*t.ty+o,t.ty=i*d+a*t.ty+s};var l=this;l._instanceType="annie.Matrix",l.a=t,l.b=n,l.c=r,l.d=a,l.tx=o,l.ty=s}return __extends(r,i),r.prototype.clone=function(){var e=this;return new r(e.a,e.b,e.c,e.d,e.tx,e.ty)},r.prototype.setFrom=function(e){var t=this;t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t.tx=e.tx,t.ty=e.ty},r.prototype.identity=function(){var e=this;e.a=e.d=1,e.b=e.c=e.tx=e.ty=0},r.prototype.invert=function(){var e=this,t=new r(e.a,e.b,e.c,e.d,e.tx,e.ty),n=e.a,i=e.b,a=e.c,o=e.d,s=e.tx,l=e.ty;if(0==i&&0==a)return 0==n||0==o?t.a=t.d=t.tx=t.ty=0:(n=t.a=1/n,o=t.d=1/o,t.tx=-n*s,t.ty=-o*l),t;var u=n*o-i*a;if(0==u)return t.identity(),t;u=1/u;var d=t.a=o*u;return i=t.b=-i*u,a=t.c=-a*u,o=t.d=n*u,t.tx=-(d*s+a*l),t.ty=-(i*s+o*l),t},r.prototype.createBox=function(e,i,r,a,s,l,u,d,c){var h=this;if(0!=s?l=u=s%360:(l%=360,u%=360),0==l&&0==u)h.a=r,h.b=h.c=0,h.d=a;else{l*=o,u*=o;var p=t(l),f=n(l);l==u?(h.a=p*r,h.b=f*r):(h.a=t(u)*r,h.b=n(u)*r),h.c=-f*a,h.d=p*a}h.tx=e+d-(d*h.a+c*h.c),h.ty=i+c-(d*h.b+c*h.d)},r.isEqual=function(e,t){return e.tx==t.tx&&e.ty==t.ty&&e.a==t.a&&e.b==t.b&&e.c==t.c&&e.d==t.d},r.prototype.concat=function(e){var t=this,n=t.a,i=t.b,r=t.c,a=t.d,o=t.tx,s=t.ty,l=e.a,u=e.b,d=e.c,c=e.d,h=e.tx,p=e.ty;t.a=n*l+i*d,t.b=n*u+i*c,t.c=r*l+a*d,t.d=r*u+a*c,t.tx=o*l+s*d+h,t.ty=o*u+s*c+p},r.prototype.rotate=function(e){var t=this,n=Math.sin(e),i=Math.cos(e),r=t.a,a=t.b,o=t.c,s=t.d,l=t.tx,u=t.ty;t.a=r*i-a*n,t.b=r*n+a*i,t.c=o*i-s*n,t.d=o*n+s*i,t.tx=l*i-u*n,t.ty=l*n+u*i},r.prototype.scale=function(e,t){var n=this;n.a*=e,n.d*=t,n.c*=e,n.b*=t,n.tx*=e,n.ty*=t},r.prototype.translate=function(e,t){var n=this;n.tx+=e,n.ty+=t},r}(e.AObject);e.Matrix=s}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t,n,i,r){void 0===t&&(t=0),void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=0),e.call(this),this.x=0,this.y=0,this.width=0,this.height=0;var a=this;a._instanceType="annie.Rectangle",a.x=t,a.y=n,a.height=r,a.width=i}return __extends(t,e),t.prototype.isPointIn=function(e){var t=this;return e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height},t.createFromRects=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(0==e.length)return null;if(1==e.length)return e[0];for(var n=e[0],i=n.x,r=n.y,a=n.width,o=n.height,s=void 0,l=void 0,u=void 0,d=void 0,c=1;c<e.length;c++)s=i+a,u=r+o,l=e[c].x+e[c].width,d=e[c].y+e[c].height,(i>e[c].x||0==s)&&(i=e[c].x),(r>e[c].y||0==u)&&(r=e[c].y),s<l&&(s=l),u<d&&(u=d),n.x=i,n.y=r,n.width=s-i,n.height=u-r;return n},t.createFromPoints=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=t[0].x,r=t[0].y,a=t[0].x,o=t[0].y,s=1;s<t.length;s++)null!=t[s]&&(i>t[s].x&&(i=t[s].x),r>t[s].y&&(i=t[s].y),a<t[s].x&&(a=t[s].x),o<t[s].y&&(o=t[s].y));return e.x=i,e.y=r,e.width=a-i,e.height=o-r,e},t.createRectform2Point=function(e,t,n){var i=t.x,r=t.y,a=t.x,o=t.y;i>n.x&&(i=n.x),r>n.y&&(i=n.y),a<n.x&&(a=n.x),o<n.y&&(o=n.y),e.x=i,e.y=r,e.width=a-i,e.height=o-r},t.testRectCross=function(e,t){var n,i,r,a;return n=e.x+e.width/2,i=e.y+e.height/2,r=t.x+t.width/2,a=t.y+t.height/2,Math.abs(n-r)<=e.width/2+t.width/2&&Math.abs(i-a)<=e.height/2+t.height/2},t}(e.AObject);e.Rectangle=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){t.call(this),this._UI={UD:!1,UM:!0,UA:!0,UF:!1},this.stage=null,this.parent=null,this.cAlpha=1,this.isUseToMask=!1,this.cMatrix=new e.Matrix,this._enterFrameEvent=null,this.mouseEnable=!0,this.cFilters=[],this.name="",this._x=0,this._y=0,this._scaleX=1,this._scaleY=1,this._rotation=0,this._alpha=1,this._skewX=0,this._skewY=0,this._anchorX=0,this._anchorY=0,this._visible=!0,this.blendMode="normal",this._matrix=new e.Matrix,this.mask=null,this._filters=[],this._cp=!0,this._dragBounds=new e.Rectangle,this._isDragCenter=!1,this._lastDragPoint=new e.Point,this._texture=null,this._offsetX=0,this._offsetY=0,this._bounds=new e.Rectangle,this._drawRect=new e.Rectangle,this._instanceType="annie.DisplayObject"}return __extends(n,t),Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(e){this._setProperty("_x",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(e){this._setProperty("_y",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scaleX",{get:function(){return this._scaleX},set:function(e){this._setProperty("_scaleX",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scaleY",{get:function(){return this._scaleY},set:function(e){this._setProperty("_scaleY",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._setProperty("_rotation",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"alpha",{get:function(){return this._alpha},set:function(e){this._setProperty("_alpha",e,1)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"skewX",{get:function(){return this._skewX},set:function(e){this._setProperty("_skewX",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"skewY",{get:function(){return this._skewY},set:function(e){this._setProperty("_skewY",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"anchorX",{get:function(){return this._anchorX},set:function(e){this._setProperty("_anchorX",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"anchorY",{get:function(){return this._anchorY},set:function(e){this._setProperty("_anchorY",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visible",{get:function(){return this._visible},set:function(e){this._setProperty("_visible",e,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"matrix",{get:function(){return this._matrix},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filters",{get:function(){return this._filters},set:function(e){this._setProperty("_filters",e,2)},enumerable:!0,configurable:!0}),n.prototype.globalToLocal=function(e,t){return void 0===t&&(t=null),this.cMatrix.invert().transformPoint(e.x,e.y,t)},n.prototype.localToGlobal=function(e,t){return void 0===t&&(t=null),this.parent?this.parent.cMatrix.transformPoint(e.x,e.y,t):this.cMatrix.transformPoint(e.x,e.y,t)},n.prototype.startDrag=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=null);var i=this;if(!i.stage)return void trace("The DisplayObject is not on stage");e.Stage._dragDisplay=i,i._isDragCenter=t,i._lastDragPoint.x=Number.MAX_VALUE,i._lastDragPoint.y=Number.MAX_VALUE,n?(i._dragBounds.x=n.x,i._dragBounds.y=n.y,i._dragBounds.width=n.width,i._dragBounds.height=n.height):(i._dragBounds.x=0,i._dragBounds.y=0,i._dragBounds.width=0,i._dragBounds.height=0)},n.prototype.stopDrag=function(){e.Stage._dragDisplay==this&&(e.Stage._dragDisplay=null)},n.prototype.hitTestPoint=function(e,t){void 0===t&&(t=!1);var i=this;if(!i.visible)return null;if(t&&!i.mouseEnable)return null;if(t){if(i.getBounds().isPointIn(i.globalToLocal(e,n._bp)))return i}else if(i.getBounds().isPointIn(e))return i;return null},n.prototype.getBounds=function(){return this._bounds},n.prototype.getDrawRect=function(){var t=this,i=t.getBounds();if(t.mask){var r=t.mask.getDrawRect();i.x<r.x&&(i.x=r.x),i.y<r.y&&(i.y=r.y),i.width>r.width&&(i.width=r.width),i.height>r.height&&(i.height=r.height)}return t.matrix.transformPoint(i.x,i.y,n._p1),t.matrix.transformPoint(i.x+i.width,i.y,n._p2),t.matrix.transformPoint(i.x+i.width,i.y+i.height,n._p3),t.matrix.transformPoint(i.x,i.y+i.height,n._p4),e.Rectangle.createFromPoints(t._drawRect,n._p1,n._p2,n._p3,n._p4),t._drawRect},n.prototype.update=function(t){void 0===t&&(t=!1);var n=this;n.hasEventListener("onEnterFrame")&&(n._enterFrameEvent||(n._enterFrameEvent=new e.Event("onEnterFrame")),n.dispatchEvent(n._enterFrameEvent));var i=n._UI;if(n._cp&&(i.UM=i.UA=i.UF=!0,n._cp=!1),i.UM&&n._matrix.createBox(n._x,n._y,n._scaleX,n._scaleY,n._rotation,n._skewX,n._skewY,n._anchorX,n._anchorY),n.parent){var r=n.parent._UI;r.UM&&(i.UM=!0),r.UA&&(i.UA=!0),r.UF&&(i.UF=!0)}if(i.UM&&(n.cMatrix.setFrom(n._matrix),n.parent&&n.cMatrix.prepend(n.parent.cMatrix)),i.UA&&(n.cAlpha=n._alpha,n.parent&&(n.cAlpha*=n.parent.cAlpha)),i.UF){n.cFilters.length=0;var a=n._filters;if(a)for(var o=a.length,s=0;s<o;s++)n.cFilters.push(a[s]);if(n.parent&&n.parent.cFilters.length>0)for(var o=n.parent.cFilters.length,l=n.parent.cFilters,s=o-1;s>=0;s--)n.cFilters.unshift(l[s])}},n.prototype.render=function(e){var t=this,n=t.cFilters,i=n.length,r=-1;if(i)for(var a=0;a<i;a++)if("Shadow"==t.cFilters[a].type){r=a;break}if(r>=0){var o=e._ctx;o.shadowBlur=n[r].blur,o.shadowColor=n[r].color,o.shadowOffsetX=n[r].offsetX,o.shadowOffsetY=n[r].offsetY,e.draw(t),o.shadowBlur=0,o.shadowOffsetX=0,o.shadowOffsetY=0}else e.draw(t)},n.prototype._onDispatchBubbledEvent=function(e,t){void 0===t&&(t=!1);var n=this;("onRemoveToStage"!=e||n.stage)&&(n.stage=n.parent.stage,n.dispatchEvent(e),"onRemoveToStage"==e&&(n.stage=null))},Object.defineProperty(n.prototype,"width",{get:function(){return this.getWH().width},set:function(e){var t=this,n=t.width;if(e>0&&n>0){var i=e/n;t.scaleX*=i}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.getWH().height},set:function(e){var t=this,n=t.height;if(e>0&&n>0){var i=e/n;t.scaleY*=i}},enumerable:!0,configurable:!0}),n.prototype.getWH=function(){var e=this;e.update();var t=e.getDrawRect();return{width:t.width,height:t.height}},n.prototype._setProperty=function(e,t,n){var i=this;if(i[e]!=t){i[e]=t;var r=i._UI;0==n?r.UM=!0:1==n?r.UA=!0:2==n?r.UF=!0:3==n&&(r.UD=!0)}},n._bp=new e.Point,n._p1=new e.Point,n._p2=new e.Point,n._p3=new e.Point,n._p4=new e.Point,n._canvas=window.document.createElement("canvas"),n}(e.EventDispatcher);e.DisplayObject=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(e,n){void 0===e&&(e=null),void 0===n&&(n=null),t.call(this),this._bitmapData=null,this._realCacheImg=null,this.rect=null,this._isCache=!1,this.hitTestWidthPixel=!1;var i=this;i._instanceType="annie.Bitmap",i.rect=n,i.bitmapData=e}return __extends(n,t),Object.defineProperty(n.prototype,"bitmapData",{get:function(){return this._bitmapData},set:function(e){var t=this;t._setProperty("_bitmapData",e,3),e?(t._bounds.width=t.rect?t.rect.width:e.width,t._bounds.height=t.rect?t.rect.height:e.height):t._bounds.width=t._bounds.height=0},enumerable:!0,configurable:!0}),n.prototype.update=function(e){void 0===e&&(e=!1);var n=this;if(n._visible){t.prototype.update.call(this,e);var i=n._bitmapData;if((n._UI.UD||n._UI.UF)&&i){if(0==i.width||0==i.height)return;if(n._UI.UD=!1,n.cFilters.length>0){n._realCacheImg||(n._realCacheImg=window.document.createElement("canvas"));var r=n._realCacheImg,a=n.rect,o=a?a.width:i.width,s=a?a.height:i.height,l=o+20,u=s+20;r.width=l,r.height=u;var d=r.getContext("2d");d.clearRect(0,0,l,u),d.translate(10,10),d.shadowBlur=0,d.shadowColor="#0",d.shadowOffsetX=0,d.shadowOffsetY=0,a?d.drawImage(n._bitmapData,a.x,a.y,o,s,0,0,o,s):d.drawImage(n._bitmapData,0,0);var c=n.cFilters,h=c.length;if(h>0){for(var p=d.getImageData(0,0,l,u),f=0;f<h;f++)c[f].drawFilter(p);d.putImageData(p,0,0)}n._texture=n._realCacheImg,n._offsetX=-10,n._offsetY=-10,n._isCache=!0}else n._isCache=!1,n._offsetX=0,n._offsetY=0,n._texture=i;var _=void 0,v=void 0;n.rect?(_=n.rect.width,v=n.rect.height):(_=n._texture.width+2*n._offsetX,v=n._texture.height+2*n._offsetY),n._bounds.width=_,n._bounds.height=v}n._UI.UF=!1,n._UI.UM=!1,n._UI.UA=!1}},n.convertToImage=function(e,t){if(void 0===t&&(t=!0),e.rect){var n=window.document.createElement("canvas"),i=e.rect.width,r=e.rect.height;n.width=i,n.height=r;var a=n.getContext("2d"),o=e.rect;if(a.drawImage(e.bitmapData,o.x,o.y,i,r,0,0,i,r),t){var s=new Image;return s.src=n.toDataURL(),s}return n}return e.bitmapData},n.prototype.hitTestPoint=function(t,n){void 0===n&&(n=!1);var i=this;if(n&&!i.mouseEnable)return null;var r=i.globalToLocal(t);if(r.x+=i._offsetX,r.y+=i._offsetY,i.getBounds().isPointIn(r)){if(!i.hitTestWidthPixel)return i;var a=i._texture;if(!a||0==a.width||0==a.height)return null;var o=e.DisplayObject._canvas;o.width=1,o.height=1;var s=o.getContext("2d");if(s.clearRect(0,0,1,1),i.rect&&(r.x+=i.rect.x,r.y+=i.rect.y),s.setTransform(1,0,0,1,-r.x,-r.y),s.drawImage(a,0,0),s.getImageData(0,0,1,1).data[3]>0)return i}return null},n}(e.DisplayObject);e.Bitmap=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){t.call(this),this._command=[],this.hitTestWidthPixel=!0,this.beginRadialGradientFill=function(e,t,i){this._fill(n.getGradientColor(e,t,i))},this.beginRadialGradientStroke=function(e,t,i,r,a,o,s){void 0===r&&(r=1),void 0===a&&(a="butt"),void 0===o&&(o="miter"),void 0===s&&(s=10),this._stroke(n.getGradientColor(e,t,i),r,a,o,s)},this.decodePath=function(e){for(var t,i=this,r=["moveTo","lineTo","quadraticCurveTo","bezierCurveTo","closePath"],a=[2,2,4,6,0],o=0,s=e.length,l=0,u=0,d=n.BASE_64;o<s;){var c=e.charAt(o),h=d[c],p=h>>3,f=r[p];if(!f||3&h)throw"bad path data (@"+o+"): "+c;var _=a[p];p||(l=u=0),t=[],o++;for(var v=2+(h>>2&1),m=0;m<_;m++){var g=d[e.charAt(o)],y=g>>5?-1:1;g=(31&g)<<6|d[e.charAt(o+1)],3==v&&(g=g<<6|d[e.charAt(o+2)]),g=y*g/10,m%2?l=g+=l:u=g+=u,t[m]=g,o+=v}i.addDraw(f,t)}},this._instanceType="annie.Shape",this._texture=window.document.createElement("canvas")}return __extends(n,t),n.getGradientColor=function(t,n,i){var r,a=e.DisplayObject._canvas.getContext("2d");r=4==i.length?a.createLinearGradient(i[0],i[1],i[2],i[3]):a.createRadialGradient(i[0],i[1],i[2],i[3],i[4],i[5]);for(var o=0,s=t.length;o<s;o++)r.addColorStop(n[o],t[o]);return r},n.getBitmapStyle=function(t){return e.DisplayObject._canvas.getContext("2d").createPattern(t,"repeat")},n.getRGBA=function(e,t){if(0==e.indexOf("0x")&&(e=e.replace("0x","#")),e.length<7&&(e="#000000"),1!=t){e="rgba("+parseInt("0x"+e.substr(1,2))+","+parseInt("0x"+e.substr(3,2))+","+parseInt("0x"+e.substr(5,2))+","+t+")"}return e},n.prototype.addDraw=function(e,t){var n=this;n._UI.UD=!0,n._command.push([1,e,t])},n.prototype.drawRoundRect=function(e,t,n,i,r,a,o,s){void 0===r&&(r=0),void 0===a&&(a=0),void 0===o&&(o=0),void 0===s&&(s=0);var l=(n<i?n:i)/2,u=0,d=0,c=0,h=0;r<0&&(r*=u=-1),r>l&&(r=l),a<0&&(a*=d=-1),a>l&&(a=l),s<0&&(s*=c=-1),s>l&&(s=l),o<0&&(o*=h=-1),o>l&&(o=l);var p=this._command;p.push([1,"moveTo",[e+n-a,t]]),p.push([1,"arcTo",[e+n+a*d,t-a*d,e+n,t+a,a]]),p.push([1,"lineTo",[e+n,t+i-s]]),p.push([1,"arcTo",[e+n+s*c,t+i+s*c,e+n-s,t+i,s]]),p.push([1,"lineTo",[e+o,t+i]]),p.push([1,"arcTo",[e-o*h,t+i+o*h,e,t+i-o,o]]),p.push([1,"lineTo",[e,t+r]]),p.push([1,"arcTo",[e-r*u,t-r*u,e+r,t,r]]),p.push([1,"closePath",[]])},n.prototype.moveTo=function(e,t){this._command.push([1,"moveTo",[e,t]])},n.prototype.lineTo=function(e,t){this._command.push([1,"lineTo",[e,t]])},n.prototype.arcTo=function(e,t){this._command.push([1,"arcTo",[e,t]])},n.prototype.quadraticCurveTo=function(e,t,n,i){this._command.push([1,"quadraticCurveTo",[e,t,n,i]])},n.prototype.bezierCurveTo=function(e,t,n,i,r,a){this._command.push([1,"bezierCurveTo",[e,t,n,i,r,a]])},n.prototype.closePath=function(){this._command.push([1,"closePath",[]])},n.prototype.drawRect=function(e,t,n,i){var r=this._command;r.push([1,"moveTo",[e,t]]),r.push([1,"lineTo",[e+n,t]]),r.push([1,"lineTo",[e+n,t+i]]),r.push([1,"lineTo",[e,t+i]]),r.push([1,"closePath",[]])},n.prototype.drawArc=function(e,t,n,i,r){this._command.push([1,"arc",[e,t,n,i/180*Math.PI,r/180*Math.PI]])},n.prototype.drawCircle=function(e,t,n){this._command.push([1,"arc",[e,t,n,0,2*Math.PI]])},n.prototype.drawEllipse=function(e,t,n,i){var r=.5522848,a=n/2*r,o=i/2*r,s=e+n,l=t+i,u=e+n/2,d=t+i/2,c=this._command;c.push([1,"moveTo",[e,d]]),c.push([1,"bezierCurveTo",[e,d-o,u-a,t,u,t]]),c.push([1,"bezierCurveTo",[u+a,t,s,d-o,s,d]]),c.push([1,"bezierCurveTo",[s,d+o,u+a,l,u,l]]),c.push([1,"bezierCurveTo",[u-a,l,e,d+o,e,d]])},n.prototype.clear=function(){var e=this;e._command=[],e._UI.UD=!0,e._texture&&(e._texture.width=0,e._texture.height=0),e._offsetX=0,e._offsetY=0,e._bounds.width=0,e._bounds.height=0},n.prototype.beginFill=function(e){this._fill(e)},n.prototype.beginLinearGradientFill=function(e,t,i){this._fill(n.getGradientColor(e,t,i))},n.prototype.beginBitmapFill=function(e,t){var i=this;t&&(i._isBitmapFill=t),i._fill(n.getBitmapStyle(e))},n.prototype._fill=function(e){var t=this._command;t.push([0,"fillStyle",e]),t.push([1,"beginPath",[]]),this._UI.UD=!0},n.prototype.beginStroke=function(e,t,n,i,r){void 0===t&&(t=1),void 0===n&&(n=""),void 0===i&&(i=""),void 0===r&&(r=0),this._stroke(e,t,n,i,r)},n.prototype.beginLinearGradientStroke=function(e,t,i,r,a,o,s){void 0===r&&(r=1),void 0===a&&(a="butt"),void 0===o&&(o="miter"),void 0===s&&(s=10),this._stroke(n.getGradientColor(e,t,i),r,a,o,s)},n.prototype.beginBitmapStroke=function(e,t,i,r,a,o){void 0===i&&(i=1),void 0===r&&(r="butt"),void 0===a&&(a="miter"),void 0===o&&(o=10);var s=this;t&&(s._isBitmapStroke=t),s._stroke(n.getBitmapStyle(e),i,r,a,o)},n.prototype._stroke=function(e,t,n,i,r){var a=this._command;a.push([0,"lineWidth",t]),a.push([0,"lineCap",n]),a.push([0,"lineJoin",i]),a.push([0,"miterLimit",r]),a.push([0,"strokeStyle",e]),a.push([1,"beginPath",[]]),this._UI.UD=!0},n.prototype.endFill=function(){var e=this,t=e._command,n=e._isBitmapFill;n&&t.push([2,"setTransform",[n.a,n.b,n.c,n.d,n.tx,n.ty]]),t.push([1,"fill",[]]),n&&(e._isBitmapFill=null)},n.prototype.endStroke=function(){var e=this,t=e._command,n=e._isBitmapStroke;n&&t.push([2,"setTransform",[n.a,n.b,n.c,n.d,n.tx,n.ty]]),t.push([1,"stroke",[]]),n&&(e._isBitmapStroke=null)},n.prototype.update=function(e){void 0===e&&(e=!1);var n=this;if(n._visible){if(t.prototype.update.call(this,e),n._UI.UD||n._UI.UF){var i=n._command.length,r=void 0,a=void 0,o=void 0,s=void 0,l=void 0;if(i>0){var u=void 0,d=0,c=0,h=0;for(l=0;l<i;l++)if(u=n._command[l],1==u[0]){if("moveTo"==u[1]||"lineTo"==u[1]||"arcTo"==u[1]||"bezierCurveTo"==u[1])void 0==r&&(r=u[2][0]),void 0==a&&(a=u[2][1]),void 0==o&&(o=u[2][0]),void 0==s&&(s=u[2][1]),"bezierCurveTo"==u[1]?(r=Math.min(r,u[2][0],u[2][2],u[2][4]),a=Math.min(a,u[2][1],u[2][3],u[2][5]),o=Math.max(o,u[2][0],u[2][2],u[2][4]),s=Math.max(s,u[2][1],u[2][3],u[2][5]),d=u[2][4],c=u[2][5]):(r=Math.min(r,u[2][0]),a=Math.min(a,u[2][1]),o=Math.max(o,u[2][0]),s=Math.max(s,u[2][1]),d=u[2][0],c=u[2][1]);else if("quadraticCurveTo"==u[1]){var p=.5*(d+u[2][0]),f=.5*(c+u[2][1]),_=.5*(u[2][0]+u[2][2]),v=.5*(u[2][1]+u[2][3]);void 0==r&&(r=p),void 0==a&&(a=f),void 0==o&&(o=p),void 0==s&&(s=f),r=Math.min(r,p,_,u[2][2]),a=Math.min(a,f,v,u[2][3]),o=Math.max(o,p,_,u[2][2]),s=Math.max(s,f,v,u[2][3]),d=u[2][2],c=u[2][3]}else if("arc"==u[1]){var m=u[2][0],g=u[2][1],y=u[2][2],b=m-y,x=g-y,w=m+y,E=g+y;void 0==r&&(r=b),void 0==a&&(a=x),void 0==o&&(o=w),void 0==s&&(s=E),r=Math.min(r,b),a=Math.min(a,x),o=Math.max(o,w),s=Math.max(s,E)}}else"lineWidth"==u[1]&&h<u[2]&&(h=u[2]);if(void 0!=r||h>0){void 0==r&&(r=0,a=0),r-=20+h>>1,a-=20+h>>1,o+=20+h>>1,s+=20+h>>1;var T=o-r,M=s-a;if(n._offsetX=r,n._offsetY=a,n._bounds.x=r,n._bounds.y=a,n._bounds.width=T-20,n._bounds.height=M-20,!n.isUseToMask&&!n.parent.isUseToMask){var F=n._texture,L=F.getContext("2d");F.width=T,F.height=M,L.clearRect(0,0,T,M),L.setTransform(1,0,0,1,-r,-a),n._drawShape(L);var C=n.cFilters,P=C.length;if(P>0){for(var O=L.getImageData(0,0,T,M),S=0;S<P;S++)C[S].drawFilter(O);L.putImageData(O,0,0)}}}}n._UI.UD=!1}n._UI.UM=!1,n._UI.UA=!1,n._UI.UF=!1}},n.prototype._drawShape=function(e){for(var t,n=this,i=n._command,r=i.length,a=n._offsetX,o=n._offsetY,s=0;s<r;s++)if(t=i[s],t[0]>0){var l=t[2].length;if(0==l)e[t[1]]();else if(2==l)e[t[1]](t[2][0],t[2][1]);else if(4==l)e[t[1]](t[2][0],t[2][1],t[2][2],t[2][3]);else if(5==l)e[t[1]](t[2][0],t[2][1],t[2][2],t[2][3],t[2][4]);else if(6==l){var u=t[2][4],d=t[2][5];2==t[0]&&(u-=a,d-=o),e[t[1]](t[2][0],t[2][1],t[2][2],t[2][3],u,d)}}else e[t[1]]=t[2]},n.prototype.hitTestPoint=function(t,n){void 0===n&&(n=!1);var i=this;if(n&&!i.mouseEnable)return null;var r=t;if(n&&(r=i.globalToLocal(t)),i.getBounds().isPointIn(r)){if(!i.hitTestWidthPixel)return i;var a=i._texture;if(!a||0==a.width||0==a.height)return null;var o=e.DisplayObject._canvas;o.width=1,o.height=1,r.x-=i._offsetX,r.y-=i._offsetY;var s=o.getContext("2d");if(s.clearRect(0,0,1,1),s.setTransform(1,0,0,1,-r.x,-r.y),s.drawImage(a,0,0),s.getImageData(0,0,1,1).data[3]>0)return i}return null},n.prototype.changeColor=function(e){for(var t=this,n=t._command.length,i=t._command,r=0;r<n;r++)0==i[r][0]&&("fillStyle"==i[r][1]&&e.fillColor&&i[r][2]!=e.fillColor&&(i[r][2]=e.fillColor,t._UI.UD=!0),"strokeStyle"==i[r][1]&&e.strokeColor&&i[r][2]!=e.strokeColor&&(i[r][2]=e.strokeColor,t._UI.UD=!0),"lineWidth"==i[r][1]&&e.lineWidth&&i[r][2]!=e.lineWidth&&(i[r][2]=e.lineWidth,t._UI.UD=!0))},n.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63},n}(e.DisplayObject);e.Shape=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){t.call(this),this.mouseChildren=!0,this.children=[],this._instanceType="annie.Sprite"}return __extends(n,t),Object.defineProperty(n.prototype,"cacheAsBitmap",{get:function(){return this._cacheAsBitmap},set:function(t){var n=this;n._texture||(n._texture=new Image),t?n._texture.src=e.toDisplayDataURL(n):(n._texture.src="",n._offsetX=0,n._offsetY=0),n._cacheAsBitmap=t},enumerable:!0,configurable:!0}),n.prototype.addChild=function(e){this.addChildAt(e,this.children.length)},n.prototype.removeChild=function(e){for(var t=this,n=t.children.length,i=0;i<n;i++)if(t.children[i]==e){t.removeChildAt(i);break}},n._getElementsByName=function(e,t,i,r,a){var o=t.children.length;if(o>0)for(var s,l=void 0,u=0;u<o;u++){if(l=t.children[u],(s=l.name)&&""!=s&&e.test(s)&&(a.push(l),i))return;r&&null!=l.children&&n._getElementsByName(e,l,i,r,a)}},n.prototype.getChildByName=function(e,t,i){if(void 0===t&&(t=!0),void 0===i&&(i=!1),!e)return null;var r,a=this;r="string"==typeof e?new RegExp("^"+e+"$"):e;var o=[];n._getElementsByName(r,a,t,i,o);var s=o.length;return 0==s?null:1==s?o[0]:o},n.prototype.addChildAt=function(e,t){if(e){var n,i=this,r=i==e.parent;if(e.parent)if(r){n=i.children.length;for(var a=0;a<n;a++)if(i.children[a]==e){i.children.splice(a,1);break}}else e.parent.removeChild(e);e.parent=i,n=i.children.length,t>=n?i.children.push(e):0==t?i.children.unshift(e):i.children.splice(t,0,e),i.stage&&!r&&(e._cp=!0,e._onDispatchBubbledEvent("onAddToStage"))}},n.prototype.getChildAt=function(e){return this.children.length-1>=e?this.children[e]:null},n.prototype.getChildIndex=function(e){for(var t=this.children.length,n=0;n<t;n++)if(this.children[n]==e)return n;return-1},n.prototype._onDispatchBubbledEvent=function(e,n){void 0===n&&(n=!1);var i=this,r=i.children.length;if("onRemoveToStage"!=e||i.stage){i.stage=i.parent.stage;for(var a=0;a<r;a++)i.children[a]._onDispatchBubbledEvent(e,n);t.prototype._onDispatchBubbledEvent.call(this,e,n)}},n.prototype.removeChildAt=function(e){var t,n=this,i=n.children.length-1;i<0||(t=e==i?n.children.pop():0==e?n.children.shift():n.children.splice(e,1)[0],t._onDispatchBubbledEvent("onRemoveToStage"),t.parent=null)},n.prototype.removeAllChildren=function(){for(var e=this,t=e.children.length,n=t-1;n>=0;n--)e.removeChildAt(0)},n.prototype.update=function(e){void 0===e&&(e=!1);var n=this;if(n._visible){if(t.prototype.update.call(this,e),!n._cacheAsBitmap)for(var i=n.children.length,r=void 0,a=[],o=i-1;o>=0;o--)if(r=n.children[o],n._visible){if(r.mask&&a.indexOf(r.mask.instanceId)<0){var s=void 0;r.mask.parent=n,n.totalFrames&&r.mask.totalFrames?(r.mask.gotoAndStop(n.currentFrame),(s=r.mask.getChildAt(0))&&(s.isUseToMask=!0,s.hitTestWidthPixel=!1)):(r.mask.isUseToMask=!0,r.mask.hitTestWidthPixel=!1),r.mask._cp=!0,r.mask.update(e),r.mask.isUseToMask=!1,s&&(s.isUseToMask=!1),a.push(r.mask.instanceId)}r.update(e)}n._UI.UM=!1,n._UI.UA=!1,n._UI.UF=!1}},n.prototype.hitTestPoint=function(t,n){void 0===n&&(n=!1);var i=this;if(!i._visible)return null;if(n&&!i.mouseEnable)return null;if(i._cacheAsBitmap){var r=i.globalToLocal(t),a=i._texture;if(!a||0==a.width||0==a.height)return null;var o=e.DisplayObject._canvas;o.width=1,o.height=1,r.x-=i._offsetX,r.y-=i._offsetY;var s=o.getContext("2d");if(s.clearRect(0,0,1,1),s.setTransform(1,0,0,1,-r.x,-r.y),s.drawImage(a,0,0),s.getImageData(0,0,1,1).data[3]>0)return i}else for(var l=i.children.length,u=void 0,d=void 0,c=l-1;c>=0;c--)if(d=i.children[c],(!d.mask||d.mask.hitTestPoint(t,n))&&(u=d.hitTestPoint(t,n)))return u;return null},n.prototype.getBounds=function(){var t=this,n=t._bounds;if(n.x=0,n.y=0,n.width=0,n.height=0,t._cacheAsBitmap)t._texture&&(n.x=t._offsetX,n.y=t._offsetY,n.width=t._texture.width,n.height=t._texture.height);else{var i=t.children.length;if(i>0){for(var r=0;r<i;r++)t.children[r].visible&&e.Rectangle.createFromRects(n,t.children[r].getDrawRect());if(t.mask){var a=t.mask.getDrawRect();n.x<a.x&&(n.x=a.x),n.y<a.y&&(n.y=a.y),n.width>a.width&&(n.width=a.width),n.height>a.height&&(n.height=a.height)}}}return n},n.prototype.render=function(e){var n=this;if(!n._cp)if(n._cacheAsBitmap)t.prototype.render.call(this,e);else if(n.cAlpha>0&&n._visible){for(var i=void 0,r=void 0,a=n.children.length,o=0;o<a;o++)r=n.children[o],r.cAlpha>0&&r._visible&&(i?r.mask?r.mask!=i&&(e.endMask(),i=r.mask,e.beginMask(i)):(e.endMask(),i=null):r.mask&&(i=r.mask,e.beginMask(i)),r.render(e));i&&e.endMask()}},n}(e.DisplayObject);e.Sprite=t}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t,n){e.call(this),this.media=null,this.type="",this._loop=0;var i=this;i._instanceType="annie.Media","string"==typeof t?(i.media=document.createElement(n),i.media.src=t):i.media=t,i._SBWeixin=i._weixinSB.bind(i),i.media.addEventListener("ended",function(){i._loop--,i._loop>0?i.play(0,i._loop):i.media.pause(),i.dispatchEvent("onPlayEnd")}.bind(i)),i.type=n.toLocaleUpperCase(),i.media.addEventListener("timeupdate",function(){i.dispatchEvent("onPlayUpdate",{currentTime:i.media.currentTime})}),i.media.addEventListener("play",function(){i.dispatchEvent("onPlayStart")})}return __extends(t,e),
t.prototype.play=function(e,t){void 0===e&&(e=0),void 0===t&&(t=1);var n=this;n._loop=t;try{n.media.currentTime=e}catch(e){trace(e)}var i=window;if(i.WeixinJSBridge)try{i.WeixinJSBridge.invoke("getNetworkType",{},n._SBWeixin)}catch(e){n.media.play()}else n.media.play()},t.prototype._weixinSB=function(){this.media.play()},t.prototype.stop=function(){this.media.pause(),this.media.currentTime=0},t.prototype.pause=function(e){void 0===e&&(e=!0),e?this.media.pause():this.media.play()},Object.defineProperty(t.prototype,"volume",{get:function(){return this.media.volume},set:function(e){this.media.volume=e,this.media.muted=0==e},enumerable:!0,configurable:!0}),t}(e.EventDispatcher);e.Media=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(i){t.call(this,i,"Audio");var r=this;r._instanceType="annie.Sound",e.Sound._soundList.push(r),r.volume=n._volume}return __extends(n,t),n.prototype.destory=function(){for(var t=e.Sound._soundList.length,n=t-1;n>=0;n--)e.Sound._soundList[n]&&e.Sound._soundList[n]!=this||e.Sound._soundList.splice(n,1)},n.stopAllSounds=function(){for(var t=e.Sound._soundList.length,n=t-1;n>=0;n--)e.Sound._soundList[n]?e.Sound._soundList[n].stop():e.Sound._soundList.splice(n,1)},n.setAllSoundsVolume=function(t){for(var i=e.Sound._soundList.length,r=i-1;r>=0;r--)e.Sound._soundList[r]?e.Sound._soundList[r].volume=t:e.Sound._soundList.splice(r,1);n._volume=t},n._soundList=[],n._volume=1,n}(e.Media);e.Sound=t}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t,n,i){void 0===n&&(n=0),void 0===i&&(i=0),e.call(this,t,"Video");var r=this;r._instanceType="annie.Video",r.media.setAttribute("playsinline","true"),r.media.setAttribute("webkit-playsinline","true"),r.media.setAttribute("x-webkit-airplay","true"),r.media.setAttribute("x5-video-player-type","h5"),r.media.poster="",r.media.preload="auto",r.media.controls=!1,n&&i&&(r.media.width=n,r.media.height=i)}return __extends(t,e),t}(e.Media);e.Video=t}(annie||(annie={}));var annie;!function(e){var t=function(){function e(){var e=this;e.frameChildList=new Array,e.keyIndex=0,e.eventName="",e.soundName="",e.soundScene="",e.soundTimes=1}return e.prototype.setDisplayInfo=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null);var i=this,r={display:e,x:0,y:0,scaleX:1,scaleY:1,rotation:0,skewX:0,skewY:0,alpha:1};Flash2x.d(r,t,n),i.frameChildList.push(r)},e.prototype.setGraphicInfo=function(e,t,n){var i=this,r=i.frameChildList.length-1;i.frameChildList[r].graphicInfo={loopType:e,firstFrame:t,parentFrameIndex:n}},e}(),n=function(n){function i(){n.call(this),this._timeline=[],this.floatView=new e.Sprite,this.currentFrame=1,this.isPlaying=!0,this.isFront=!0,this.totalFrames=1,this._scriptLayer=[],this._labelFrame={},this._frameLabel={},this._isNeedUpdateChildren=!0,this._isUpdateFrame=!1,this._goFrame=1,this._mouseEvent=function(e){var t=this,n=2;"onMouseDown"==e.type?t.currentFrame>2&&(n=3):n=1,t.gotoAndStop(n)};var t=this;t._instanceType="annie.MovieClip",t.addChild(t.floatView)}return __extends(i,n),i.prototype.stop=function(){this.isPlaying=!1},i.prototype.as=function(e,t){this._scriptLayer[t]=e},i.prototype.addFrameScript=function(e,t){this.as(t,e)},i.prototype.removeFrameScript=function(e){var t=this;t._scriptLayer[e]&&(t._scriptLayer[e]=null)},i.prototype.a=function(){var e=this;return e._currentLayer=[],e._timeline.unshift(e._currentLayer),e},i.prototype.b=function(e){var n=this;n._currentLayerFrame=new t,n._currentLayerFrame.keyIndex=n._currentLayer.length;for(var i=0;i<e;i++)n._currentLayer.push(n._currentLayerFrame);return n.totalFrames<n._currentLayer.length&&(n.totalFrames=n._currentLayer.length),n},i.prototype.c=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null);var i=this;return i._currentLayerFrame.setDisplayInfo(e,t,n),i},i.prototype.g=function(e,t,n){var i=this;return i._currentLayerFrame.setGraphicInfo(e,t,n),i},i.prototype.setGraphicInfo=function(e){this._graphicInfo=e},i.prototype.initButton=function(){var e=this;e.mouseChildren=!1,e.totalFrames>1&&(e._scriptLayer[0]=function(){e.stop()},e.addEventListener("onMouseDown",e._mouseEvent.bind(e)),e.addEventListener("onMouseUp",e._mouseEvent.bind(e)),e.addEventListener("onMouseOut",e._mouseEvent.bind(e)))},i.prototype.d=function(e,t){var n=this;return n._labelFrame[e]=t+1,n._frameLabel[t+1]=e,n},i.prototype.getCurrentLabel=function(){var e=this;return e._frameLabel[e.currentFrame]?e._frameLabel[e.currentFrame]:""},i.prototype.e=function(e){var t=this;return t._currentLayerFrame.eventName=e,t},i.prototype.f=function(e,t,n){var i=this;return i._currentLayerFrame.soundName=t,i._currentLayerFrame.soundScene=e,i._currentLayerFrame.soundTimes=n,i},i.prototype.nextFrame=function(){var e=this;e._goFrame<e.totalFrames&&(e._goFrame++,e._isNeedUpdateChildren=!0),e.isPlaying=!1,e._isUpdateFrame=!1},i.prototype.prevFrame=function(){var e=this;e._goFrame>1&&(e._goFrame--,e._isNeedUpdateChildren=!0),e.isPlaying=!1,e._isUpdateFrame=!1},i.prototype.gotoAndStop=function(e){var t=this;t.isPlaying=!1;var n;"string"==typeof e?void 0!=t._labelFrame[e]?n=t._labelFrame[e]:trace("未找到帧标签叫'"+e+"'的帧"):"number"==typeof e&&(e>t.totalFrames&&(e=t.totalFrames),e<1&&(e=1),n=e),t._goFrame!=n&&(t._goFrame=n,t._isNeedUpdateChildren=!0,t._isUpdateFrame=!1)},i.prototype.play=function(e){void 0===e&&(e=!0);var t=this;t.isPlaying=!0,t.isFront=void 0==e||e,t._isUpdateFrame=!0},i.prototype.gotoAndPlay=function(e,t){void 0===t&&(t=!0);var n=this;n.isFront=void 0==t||t,n.isPlaying=!0;var i;"string"==typeof e?void 0!=n._labelFrame[e]?i=n._labelFrame[e]:trace("未找到帧标签叫'"+e+"'的帧"):"number"==typeof e&&(e>n.totalFrames&&(e=n.totalFrames),e<1&&(e=1),i=e),n._goFrame!=i&&(n._goFrame=i,n._isUpdateFrame=!1,n._isNeedUpdateChildren=!0)},i.prototype.setFrameChild=function(e,t){e._donotUpdateinMC=e._donotUpdateinMC||{};for(var n in t)null!=t[n]?e._donotUpdateinMC[n]=t[n]:delete e._donotUpdateinMC[t[n]]},i.prototype.update=function(t){void 0===t&&(t=!1);var i=this;if(!i._cacheAsBitmap&&t){if(i._graphicInfo){var r=i.parent.currentFrame?i.parent.currentFrame:1,a=1,o=i._graphicInfo.parentFrameIndex+1,s=i._graphicInfo.firstFrame+1;"play once"==i._graphicInfo.loopType?r-o>=0&&(a=r-o+s)>i.totalFrames&&(a=i.totalFrames):"loop"==i._graphicInfo.loopType?(r-o>=0&&(a=(r-o+s)%i.totalFrames),0==a&&(a=i.totalFrames)):a=s,i._goFrame!=a&&(i._goFrame=a,i._isNeedUpdateChildren=!0),i.isPlaying=!1}else i.isPlaying&&i._isUpdateFrame&&(i.isFront?++i._goFrame>i.totalFrames&&(i._goFrame=1):--i._goFrame<1&&(i._goFrame=i.totalFrames),i._isNeedUpdateChildren=!0);var l=i.currentFrame=i._goFrame;if(i._isUpdateFrame=!0,i._isNeedUpdateChildren){var u=-1,d=i._timeline.length,c=0,h=null,p=null,f=null,_=0,v=i.children,m=void 0,g=[];for(m=0;m<i.children.length-1;m++)v[m].parent=null;for(i.children=[],m=0;m<d;m++)if(c=i._timeline[m].length,l<=c){if(void 0==(h=i._timeline[m][l-1]))continue;if(h.keyIndex==l-1&&(""!=h.soundName&&Flash2x.getMediaByName(h.soundScene,h.soundName).play(0,h.soundTimes),""!=h.eventName&&i.hasEventListener(e.Event.CALL_FRAME))){var y=new e.Event(e.Event.CALL_FRAME);y.data={frameIndex:l,frameName:h.eventName},g.push(y)}_=h.frameChildList.length;for(var b=0;b<_;b++){if(f=h.frameChildList[b],p=f.display,p.x=f.x,p.y=f.y,p.scaleX=f.scaleX,p.scaleY=f.scaleY,p.rotation=f.rotation,p.skewX=f.skewX,p.skewY=f.skewY,p.alpha=f.alpha,f.filters?p.filters=f.filters:p.filters=null,f.graphicInfo?p._graphicInfo=f.graphicInfo:p._graphicInfo&&(p._graphicInfo=null),void 0!=p._donotUpdateinMC)for(var x in p._donotUpdateinMC)void 0!=p._donotUpdateinMC[x]&&(p[x]=p._donotUpdateinMC[x]);p.parent=i,i.children.push(p),u=v.indexOf(p),u<0?(p._onDispatchBubbledEvent("onAddToStage"),p._cp=!0):v.splice(u,1)}}i._isNeedUpdateChildren=!1;var w=v.length;for(m=0;m<w;m++)v[m].parent||(v[m].parent=i,v[m]._onDispatchBubbledEvent("onRemoveToStage",!0),v[m]._cp=!0,v[m].parent=null);if(i.children.push(i.floatView),(1==l&&!i.isFront||l==i.totalFrames&&i.isFront)&&i.hasEventListener(e.Event.END_FRAME)){var E=new e.Event(e.Event.END_FRAME);E.data={frameIndex:l,frameName:1==l?"firstFrame":"endFrame"},g.push(E)}for(w=g.length,m=0;m<w;m++)i.dispatchEvent(g[m]);void 0!=i._scriptLayer[l-1]&&i._scriptLayer[l-1]()}}n.prototype.update.call(this,t)},i.prototype._onDispatchBubbledEvent=function(e,t){if(void 0===t&&(t=!1),n.prototype._onDispatchBubbledEvent.call(this,e),t){var i=this;i._goFrame=1,i.currentFrame=1,i.isPlaying=!0,i.isFront=!0,i._isNeedUpdateChildren=!0,i._isUpdateFrame=!1}},i}(e.Sprite);e.MovieClip=n}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){t.call(this),this.htmlElement=null,this._isAdded=!1;var n=this;n._instanceType="annie.FloatDisplay",n.addEventListener(e.Event.REMOVE_TO_STAGE,function(e){n.htmlElement&&(n.htmlElement.style.display="none")}),n.addEventListener(e.Event.ADD_TO_STAGE,function(e){if(n.htmlElement){var t=n.htmlElement.style;n._isAdded?n.htmlElement&&n.visible&&(t.display="block"):(n._isAdded=!0,n.stage.rootDiv.insertBefore(n.htmlElement,n.stage.rootDiv.childNodes[0]),n.stage._floatDisplayList.push(n))}})}return __extends(n,t),n.prototype.init=function(e){var t,n=this;t="string"==typeof e?document.getElementById(e):"annie.Video"==e._instanceType?e.media:e;var i=t.style;i.position="absolute",i.display="none",i.transformOrigin=i.WebkitTransformOrigin="0 0 0";var r=n.getStyle(t,"width"),a=n.getStyle(t,"height"),o=0,s=0;r.indexOf("px")&&(o=parseInt(r)),a.indexOf("px")&&(s=parseInt(a)),n._bounds.width=o,n._bounds.height=s,n.htmlElement=t},n.prototype.delElement=function(){var e=this,t=e.htmlElement;t&&(t.style.display="none",t.parentNode&&t.parentNode.removeChild(t),e._isAdded=!1,e.htmlElement=null);for(var n=e.stage._floatDisplayList,i=n.length,r=0;r<i;r++)if(n[r]==e){n.splice(r,1);break}},n.prototype.getStyle=function(e,t){if(e.style[t])return e.style[t];if(document.defaultView&&document.defaultView.getComputedStyle){t=t.replace(/([A-Z])/g,"-$1"),t=t.toLowerCase();var n=document.defaultView.getComputedStyle(e,"");return n&&n.getPropertyValue(t)}return null},n.prototype.updateStyle=function(){var t=this,n=t.htmlElement;if(n){var i=n.style,r=t._visible;if(r)for(var a=t.parent;a;){if(!a._visible){r=!1;break}a=a.parent}var o=r?"block":"none";if(o!=i.display&&(i.display=o),r||t._UI.UM||t._UI.UA||t._UI.UF){if(t._UI.UM){var s=t.cMatrix,l=e.devicePixelRatio;i.transform=i.webkitTransform="matrix("+(s.a/l).toFixed(4)+","+(s.b/l).toFixed(4)+","+(s.c/l).toFixed(4)+","+(s.d/l).toFixed(4)+","+(s.tx/l).toFixed(4)+","+(s.ty/l).toFixed(4)+")"}t._UI.UA&&(i.opacity=t.cAlpha),t._UI.UF=!1,t._UI.UM=!1,t._UI.UA=!1}}},n}(e.DisplayObject);e.FloatDisplay=t}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(){e.call(this),this._textAlign="left",this._lineHeight=0,this._lineWidth=0,this._lineType="single",this._text="",this._font="Arial",this._size=12,this._color="#fff",this._italic=!1,this._bold=!1,this._border=!1,this._instanceType="annie.TextField",this._texture=window.document.createElement("canvas")}return __extends(t,e),Object.defineProperty(t.prototype,"textAlign",{get:function(){return this._textAlign},set:function(e){this._setProperty("_textAlign",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._setProperty("_lineHeight",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineWidth",{get:function(){return this._lineWidth},set:function(e){this._setProperty("_lineWidth",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineType",{get:function(){return this._lineType},set:function(e){this._setProperty("_lineType",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){this._setProperty("_text",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){return this._font},set:function(e){this._setProperty("_font",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(e){this._setProperty("_size",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(e){this._setProperty("_color",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"italic",{get:function(){return this._italic},set:function(e){this._setProperty("_italic",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bold",{get:function(){return this._bold},set:function(e){this._setProperty("_bold",e,3)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"border",{get:function(){return this._border},set:function(e){this._setProperty("_border",e,3)},enumerable:!0,configurable:!0}),t.prototype._prepContext=function(e){var t=this,n=t.size||12;n+="px ",n+=t.font,t._bold&&(n="bold "+n),t._italic&&(n="italic "+n),e.font=n,e.textAlign=this._textAlign||"left",e.textBaseline="top",e.fillStyle=this._color},t.prototype._getMeasuredWidth=function(e){return this._texture.getContext("2d").measureText(e).width},t.prototype.update=function(t){void 0===t&&(t=!1),e.prototype.update.call(this,t);var n=this;if(n._visible){if(n._UI.UD||n._UI.UF){n._text+="";var i=n._texture,r=i.getContext("2d"),a=n._text.toString().split(/(?:\r\n|\r|\n)/),o=[];n._prepContext(r);var s=void 0;if(s=n.lineHeight?n.lineHeight:1.2*n._getMeasuredWidth("M"),n.lineWidth?n.lineWidth<s&&(n.lineWidth=s):n.lineWidth=10*s,n._text.indexOf("\n")<0&&"single"==n.lineType){o.push(a[0]);var l=a[0];if(n._getMeasuredWidth(l)>n.lineWidth)for(var u=n._getMeasuredWidth(l[0]),d=l[0],c=0,h=l.length,p=1;p<h;p++){if(c=r.measureText(l[p]).width,(u+=c)>n.lineWidth){o[0]=d;break}d+=l[p]}}else for(var f=0,_=a.length;f<_;f++){var l=a[f];if(l){for(var u=n._getMeasuredWidth(l[0]),d=l[0],c=0,h=l.length,p=1;p<h;p++)c=r.measureText(l[p]).width,u+=c,u>this.lineWidth?(o.push(d),d=l[p],u=c):d+=l[p];o.push(d)}}var v=s*o.length,m=n.lineWidth,g=0;"center"==n.textAlign?g=.5*m:"right"==n.textAlign&&(g=m),i.width=m+20,i.height=v+20,r.clearRect(0,0,i.width,i.width),n.border&&(r.beginPath(),r.strokeStyle="#000",r.lineWidth=1,r.strokeRect(10.5,10.5,m,v),r.closePath()),r.setTransform(1,0,0,1,g+10,10),n._prepContext(r);for(var f=0;f<o.length;f++)r.fillText(o[f],0,f*s,m);var y=n.cFilters,b=y.length;if(b>0){for(var x=r.getImageData(0,0,m,v),f=0;f<b;f++)y[f].drawFilter(x);r.putImageData(x,0,0)}n._offsetX=-10,n._offsetY=-10,n._UI.UD=!1,n._bounds.height=v,n._bounds.width=m}n._UI.UM=!1,n._UI.UA=!1,n._UI.UF=!1}},t.prototype.getBounds=function(){return this._bounds},t}(e.DisplayObject);e.TextField=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(n){t.call(this),this.inputType="singleline",this.isAutoDownKeyBoard=!0;var i=null,r=this;r._instanceType="annie.InputText","multiline"!=n?(i=document.createElement("input"),n.indexOf("multiline")>=0&&(n="input"),i.type=n):(i=document.createElement("textarea"),i.style.resize="none",i.style.overflow="hidden"),r.inputType=n;var a=function(){r.isAutoDownKeyBoard&&"pc"!=e.osType&&r.htmlElement&&r.htmlElement.blur()}.bind(r);r.addEventListener(e.Event.REMOVE_TO_STAGE,function(t){r.stage.removeEventListener(e.MouseEvent.MOUSE_UP,a)}),r.addEventListener(e.Event.ADD_TO_STAGE,function(t){r.stage.addEventListener(e.MouseEvent.MOUSE_UP,a)}),r.init(i)}return __extends(n,t),n.prototype.init=function(e){t.prototype.init.call(this,e);var n=this;n.htmlElement.style.outline="none",n.htmlElement.style.borderWidth="thin",n.htmlElement.style.borderColor="#000"},n.prototype.initInfo=function(e,t,n,i,r,a,o,s,l){var u=this;u.htmlElement.placeholder=e,u.htmlElement.style.width=t+"px",u.htmlElement.style.height=n+"px",u.htmlElement.style.font=a+"px "+o,u.htmlElement.style.color=i,u.htmlElement.style.textAlign=r,u.border=s,"multiLine"==u.inputType&&(u.htmlElement.style.lineHeight=l+"px")},Object.defineProperty(n.prototype,"bold",{get:function(){return"bold"==this.htmlElement.style.fontWeight},set:function(e){var t=this.htmlElement.style;t.fontWeight=e?"bold":"normal"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"italic",{get:function(){return"italic"==this.htmlElement.style.fontStyle},set:function(e){var t=this.htmlElement.style;t.fontStyle=e?"italic":"normal"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"color",{get:function(){return this.htmlElement.style.color},set:function(e){this.htmlElement.style.color=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"border",{get:function(){return"none"!=this.htmlElement.style.borderStyle},set:function(e){var t=this;e?(t.htmlElement.style.borderStyle="inset",t.htmlElement.style.backgroundColor="#fff"):(t.htmlElement.style.borderStyle="none",t.htmlElement.style.backgroundColor="transparent")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){var e=this;if(e.htmlElement)return e.htmlElement.value},set:function(e){var t=this;t.htmlElement&&(t.htmlElement.value=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxCharacters",{get:function(){var e=this.htmlElement.getAttribute("maxlength");return null===e?0:e},set:function(e){this.htmlElement.setAttribute("maxlength",e)},enumerable:!0,configurable:!0}),n}(e.FloatDisplay);e.InputText=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(i,r,a,o,s,l){void 0===i&&(i="annieEngine"),void 0===r&&(r=640),void 0===a&&(a=1040),void 0===o&&(o=30),void 0===s&&(s="fixedHeight"),void 0===l&&(l=0),t.call(this),this.iosTouchendPreventDefault=!0,this.isPreventDefaultEvent=!0,this.rootDiv=null,this.renderObj=null,this.renderType=0,this.pause=!1,this.viewRect=new e.Rectangle,this.isMultiTouch=!1,this.isMultiMouse=!1,this.autoSteering=!1,this.autoResize=!1,this.desWidth=0,this.desHeight=0,this.divHeight=0,this.divWidth=0,this.bgColor="",this.scaleMode="onScale",this._flush=0,this._currentFlush=0,this._lastDpList={},this._rid=-1,this._floatDisplayList=[],this._ml=[],this._mp=[],this._mouseDownPoint={},this._mouseEventTypes={mousedown:"onMouseDown",mouseup:"onMouseUp",mousemove:"onMouseMove",touchstart:"onMouseDown",touchmove:"onMouseMove",touchend:"onMouseUp"},this.muliPoints=[],this._mP1=new e.Point,this._mP2=new e.Point,this.onMouseEvent=function(t){var i=this;if(i.isMultiTouch&&t.targetTouches)if(2==t.targetTouches.length){i._mP1.x=t.targetTouches[0].clientX-t.target.offsetLeft,i._mP1.y=t.targetTouches[0].clientY-t.target.offsetTop,i._mP2.x=t.targetTouches[1].clientX-t.target.offsetLeft,i._mP2.y=t.targetTouches[1].clientY-t.target.offsetTop;var r=Math.atan2(i._mP1.y-i._mP2.y,i._mP1.x-i._mP2.x)/Math.PI*180,a=e.Point.distance(i._mP1,i._mP2);if(i.muliPoints.push({p1:i._mP1,p2:i._mP2,angle:r,dis:a}),i.muliPoints.length>=2){i._touchEvent||(i._touchEvent=new e.TouchEvent(e.TouchEvent.ON_MULTI_TOUCH),i._touchEvent.target=i);var o=i.muliPoints.length;i._touchEvent.rotate=2*(i.muliPoints[o-1].angle-i.muliPoints[o-2].angle),i._touchEvent.scale=(i.muliPoints[o-1].dis-i.muliPoints[o-2].dis)/(i.divHeight>i.divWidth?i.desWidth:i.desHeight)*4,i._touchEvent.clientPoint1.x=i.muliPoints[o-1].p1.x*e.devicePixelRatio,i._touchEvent.clientPoint2.x=i.muliPoints[o-1].p2.x*e.devicePixelRatio,i._touchEvent.clientPoint1.y=i.muliPoints[o-1].p1.y*e.devicePixelRatio,i._touchEvent.clientPoint2.y=i.muliPoints[o-1].p2.y*e.devicePixelRatio,i.dispatchEvent(i._touchEvent),i.muliPoints=[]}}else i.muliPoints=[];if(!(i.isMultiMouse||t.targetTouches&&t.targetTouches.length>1)&&e.EventDispatcher._totalMEC>0){var s,l=void 0,u=i._mouseEventTypes[t.type],d=void 0,c=void 0,h=void 0,p=void 0,f=void 0,_=void 0;"pc"==e.osType?(t.identifier=0,l=[t]):l=t.changedTouches;for(var v=0;v<l.length;v++)if(f=0,d=[],_="m"+l[v].identifier,p=i._mp.length>0?i._mp.shift():new e.Point,p.x=(l[v].clientX-l[v].target.offsetLeft)*e.devicePixelRatio,p.y=(l[v].clientY-l[v].target.offsetTop)*e.devicePixelRatio,c=i.globalToLocal(p,e.DisplayObject._bp),e.EventDispatcher.getMouseEventCount()>0&&(i._ml[f]?(s=i._ml[f],s.type=u):(s=new e.MouseEvent(u),i._ml[f]=s),d.push(s),i._initMouseEvent(s,p,c,_),f++),"onMouseDown"==u?i._mouseDownPoint[_]=p:"onMouseUp"==u&&i._mouseDownPoint[_]&&e.Point.distance(i._mouseDownPoint[_],p)<20&&e.EventDispatcher.getMouseEventCount("onMouseClick")>0&&(i._ml[f]?(s=i._ml[f],s.type="onMouseClick"):(s=new e.MouseEvent("onMouseClick"),i._ml[f]=s),d.push(s),i._initMouseEvent(s,p,c,_),f++),f>0){var m=i.hitTestPoint(p,!0),g=[];if(m)for(;m;)!1===m.mouseChildren&&(g.length=0),g.push(m),m=m.parent;else g.push(i);var o=g.length;g.reverse();for(var y=0;y<o;y++){m=g[y];for(var b=0;b<f;b++)!1===d[b]._pd&&m.hasEventListener(d[b].type)&&(d[b].currentTarget=m,d[b].target=g[o-1],h=m.globalToLocal(p,e.DisplayObject._bp),d[b].localX=h.x,d[b].localY=h.y,m.dispatchEvent(d[b]))}if("onMouseDown"!=u){if((e.EventDispatcher.getMouseEventCount("onMouseOver")>0||e.EventDispatcher.getMouseEventCount("onMouseOut")>0)&&i._lastDpList[_]){var x=i._lastDpList[_].length,w=g.length;o=x>w?x:w;for(var E=!1,T=void 0,M=void 0,y=1;y<o;y++)E||i._lastDpList[_][y]!=g[y]&&(E=!0,i._ml[f]?(T=i._ml[f],T.type="onMouseOver"):(T=new e.MouseEvent("onMouseOver"),i._ml[f]=T),i._initMouseEvent(T,p,c,_),f++,i._ml[f]?(M=i._ml[f],M.type="onMouseOut"):(M=new e.MouseEvent("onMouseOut"),i._ml[f]=M),i._initMouseEvent(M,p,c,_)),E&&(i._lastDpList[_][y]&&!1===M._pd&&(m=i._lastDpList[_][y],m.hasEventListener("onMouseOut")&&(M.currentTarget=m,M.target=i._lastDpList[_][x-1],h=m.globalToLocal(p,e.DisplayObject._bp),M.localX=h.x,M.localY=h.y,m.dispatchEvent(M))),g[y]&&!1===T._pd&&(m=g[y],m.hasEventListener("onMouseOver")&&(T.currentTarget=m,T.target=g[w-1],h=m.globalToLocal(p,e.DisplayObject._bp),T.localX=h.x,T.localY=h.y,m.dispatchEvent(T))))}i._mp.push(p)}var F=n._dragDisplay;if(F&&F.stage&&F.parent){var L=F.x,C=F.y;h=F.parent.globalToLocal(p,e.DisplayObject._bp),F._isDragCenter?(L=h.x,C=h.y):(F._lastDragPoint.x!=Number.MAX_VALUE&&(L+=h.x-F._lastDragPoint.x,C+=h.y-F._lastDragPoint.y),F._lastDragPoint.x=h.x,F._lastDragPoint.y=h.y),h.x=L,h.y=C,0!=F._dragBounds.width&&(F._dragBounds.isPointIn(h)||(L<F._dragBounds.x?L=F._dragBounds.x:L>F._dragBounds.x+F._dragBounds.width&&(L=F._dragBounds.x+F._dragBounds.width),C<F._dragBounds.y?C=F._dragBounds.y:C>F._dragBounds.y+F._dragBounds.height&&(C=F._dragBounds.y+F._dragBounds.height))),F.x=L,F.y=C}"onMouseUp"==u?(F&&(F._lastDragPoint.x=Number.MAX_VALUE,F._lastDragPoint.y=Number.MAX_VALUE),delete i._mouseDownPoint[_],delete i._lastDpList[_]):i._lastDpList[_]=g}}"_a2x_canvas"==t.target.id&&i.isPreventDefaultEvent&&("touchend"==t.type&&"ios"==e.osType&&i.iosTouchendPreventDefault&&t.preventDefault(),("touchmove"==t.type||"touchstart"==t.type&&"android"==e.osType)&&t.preventDefault()),i._cp&&i.update()},this.setAlign=function(){var t=this,n=t.divHeight*e.devicePixelRatio,i=t.divWidth*e.devicePixelRatio,r=t.desHeight,a=t.desWidth;t.anchorX=a/2,t.anchorY=r/2;var o=n>i,s=r>a,l=1,u=1;if(t.x=(i-a)/2,t.y=(n-r)/2,t.autoSteering&&s!=o){var d=n;n=i,i=d}if("noScale"!=t.scaleMode)switch(l=n/r,u=i/a,t.scaleMode){case"noBorder":u>l?l=u:u=l;break;case"showAll":u<l?l=u:u=l;break;case"fixedWidth":l=u;break;case"fixedHeight":u=l}t.scaleX=u,t.scaleY=l,t.viewRect.x=(a-i/u)/2,t.viewRect.y=(r-n/l)/2,t.viewRect.width=a-2*t.viewRect.x,t.viewRect.height=r-2*t.viewRect.y,t.autoSteering?t.rotation=s==o?0:r>a?-90:90:t.rotation=0},this.resize=function(){var e=this,t=e.getRootDivWH(e.rootDiv);e._UI.UM=!0,e.divHeight=t.h,e.divWidth=t.w,e.renderObj.reSize(),e.setAlign(),e.update()};var u=this;this._instanceType="annie.Stage",u.stage=this;u.name="stageInstance_"+u.instanceId;var d=document.getElementById(i);u.renderType=l,u.desWidth=r,u.desHeight=a,u.rootDiv=d,u.setFrameRate(o),u.scaleMode=s,u.anchorX=r/2,u.anchorY=a/2,u.renderObj=new e.CanvasRender(u),u.renderObj.init(),window.addEventListener("resize",function(t){clearTimeout(u._rid),u._rid=setTimeout(function(){u.autoResize&&u.resize();var t=new e.Event("onResize");u.dispatchEvent(t)},300)}),setTimeout(function(){if(u.resize(),n.addUpdateObj(u),e.debug&&!n._isLoadedVConsole){var t=document.createElement("script");t.onload=function(){u.dispatchEvent(new e.Event("onInitStage")),t.onload=null},document.head.appendChild(t),t.src="libs/vConsole.min.js"}else u.dispatchEvent(new e.Event("onInitStage"))},100);var c=u.rootDiv,h=u.onMouseEvent.bind(u);"pc"!=e.osType?(c.addEventListener("touchstart",h,!1),c.addEventListener("touchmove",h,!1),c.addEventListener("touchend",h,!1)):(c.addEventListener("mousedown",h,!1),c.addEventListener("mousemove",h,!1),c.addEventListener("mouseup",h,!1))}return __extends(n,t),n.prototype.update=function(e){void 0===e&&(e=!1);var n=this;if(!n.pause){t.prototype.update.call(this,e);for(var i=n._floatDisplayList,r=i.length,a=0;a<r;a++)i[a].updateStyle()}},n.prototype.render=function(e){this.pause||(e.begin(),t.prototype.render.call(this,e))},n.prototype._initMouseEvent=function(e,t,n,i){e._pd=!1,e.clientX=t.x,e.clientY=t.y,e.stageX=n.x,e.stageY=n.y,e.identifier=i},n.prototype.flush=function(){var e=this;0==e._flush?(e.update(!0),e.render(e.renderObj)):0==e._currentFlush?(e.update(!0),e.render(e.renderObj),e._currentFlush=e._flush):e._currentFlush--},n.prototype.setFrameRate=function(e){var t=this;t._flush=60/e-1>>0,t._flush<0&&(t._flush=0)},n.prototype.getFrameRate=function(){return 60/(this._flush+1)},n.prototype.getRootDivWH=function(e){var t=e.style.width,n=e.style.height,i=document.body.clientWidth,r=document.body.clientHeight,a=parseInt(t),o=parseInt(n);return"NaN"==a.toString()?a=i:t.indexOf("%")>0&&(a*=i/100),"NaN"==o.toString()?o=r:n.indexOf("%")>0&&(o*=r/100),{w:a,h:o}},n.prototype.kill=function(){n.removeUpdateObj(this)},n.prototype.getBounds=function(){return this.viewRect},n.flushAll=function(){for(var e=n.allUpdateObjList.length,t=0;t<e;t++)n.allUpdateObjList[t]&&n.allUpdateObjList[t].flush();requestAnimationFrame(n.flushAll)},n.addUpdateObj=function(e){for(var t=!1,i=n.allUpdateObjList.length,r=0;r<i;r++)if(n.allUpdateObjList[r]===e){t=!0;break}t||n.allUpdateObjList.unshift(e)},n.removeUpdateObj=function(e){for(var t=n.allUpdateObjList.length,i=0;i<t;i++)if(n.allUpdateObjList[i]===e){n.allUpdateObjList.splice(i,1);break}},n._dragDisplay=null,n._isLoadedVConsole=!1,n.allUpdateObjList=[],n}(e.Sprite);e.Stage=t}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(t,n,i,r){void 0===t&&(t="black"),void 0===n&&(n=2),void 0===i&&(i=2),void 0===r&&(r=2),e.call(this),this.color="black",this.offsetX=2,this.offsetY=2,this.blur=2,this.type="Shadow";var a=this;a._instanceType="annie.ShadowFilter",a.offsetX=n,a.offsetY=i,a.blur=r,a.color=t}return __extends(t,e),t.prototype.toString=function(){var e=this;return e.type+e.offsetX+e.offsetY+e.blur+e.color},t.prototype.drawFilter=function(e){void 0===e&&(e=null)},t}(e.AObject);e.ShadowFilter=t;var n=function(e){function t(t,n,i,r,a,o,s,l){void 0===t&&(t=1),void 0===n&&(n=1),void 0===i&&(i=1),void 0===r&&(r=1),void 0===a&&(a=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===l&&(l=0),e.call(this),this.redMultiplier=0,this.redOffset=0,this.greenMultiplier=0,this.greenOffset=0,this.blueMultiplier=0,this.blueOffset=0,this.alphaMultiplier=0,this.alphaOffset=0,this.type="Color";var u=this;u._instanceType="annie.ColorFilter",u.redMultiplier=t,u.greenMultiplier=n,u.blueMultiplier=i,u.alphaMultiplier=r,u.redOffset=a,u.greenOffset=o,u.blueOffset=s,u.alphaOffset=l}return __extends(t,e),t.prototype.drawFilter=function(e){if(void 0===e&&(e=null),e)for(var t=this,n=e.data,i=n.length,r=0;r<i;r+=4)n[r]=n[r]*t.redMultiplier+t.redOffset,n[r+1]=n[r+1]*t.greenMultiplier+t.greenOffset,n[r+2]=n[r+2]*t.blueMultiplier+t.blueOffset,n[r+3]=n[r+3]*t.alphaMultiplier+t.alphaOffset},t.prototype.toString=function(){var e=this;return e.type+e.redMultiplier+e.greenMultiplier+e.blueMultiplier+e.alphaMultiplier+e.redOffset+e.greenOffset+e.blueOffset+e.alphaOffset},t}(e.AObject);e.ColorFilter=n;var i=function(e){function t(n,i,r,a){e.call(this),this.brightness=0,this.contrast=0,this.saturation=0,this.hue=0,this.type="ColorMatrix";var o=this;o._instanceType="annie.ColorMatrixFilter",o.brightness=n,o.contrast=i,o.saturation=r,o.hue=a,o.colorMatrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],n=o._cleanValue(n,255),0!=n&&o._multiplyMatrix([1,0,0,0,n,0,1,0,0,n,0,0,1,0,n,0,0,0,1,0,0,0,0,0,1]),i=this._cleanValue(i,100);var s;if(0!=i&&(i<0?s=127+i/100*127:(s=i%1,s=0==s?t.DELTA_INDEX[i]:t.DELTA_INDEX[i<<0]*(1-s)+t.DELTA_INDEX[1+(i<<0)]*s,s=127*s+127),o._multiplyMatrix([s/127,0,0,0,.5*(127-s),0,s/127,0,0,.5*(127-s),0,0,s/127,0,.5*(127-s),0,0,0,1,0,0,0,0,0,1])),0!=(r=this._cleanValue(r,100))){s=1+(r>0?3*r/100:r/100);var l=.3086,u=.6094,d=.082;o._multiplyMatrix([l*(1-s)+s,u*(1-s),d*(1-s),0,0,l*(1-s),u*(1-s)+s,d*(1-s),0,0,l*(1-s),u*(1-s),d*(1-s)+s,0,0,0,0,0,1,0,0,0,0,0,1])}if(0!=(a=this._cleanValue(a,180)/180*Math.PI)){var c=Math.cos(a),h=Math.sin(a),l=.213,u=.715,d=.072;o._multiplyMatrix([l+c*(1-l)+h*-l,u+c*-u+h*-u,d+c*-d+h*(1-d),0,0,l+c*-l+.143*h,u+c*(1-u)+.14*h,d+c*-d+-.283*h,0,0,l+c*-l+h*-(1-l),u+c*-u+h*u,d+c*(1-d)+h*d,0,0,0,0,0,1,0,0,0,0,0,1])}}return __extends(t,e),t.prototype.drawFilter=function(e){if(void 0===e&&(e=null),e)for(var t,n,i,r,a=e.data,o=a.length,s=this.colorMatrix,l=s[0],u=s[1],d=s[2],c=s[3],h=s[4],p=s[5],f=s[6],_=s[7],v=s[8],m=s[9],g=s[10],y=s[11],b=s[12],x=s[13],w=s[14],E=s[15],T=s[16],M=s[17],F=s[18],L=s[19],C=0;C<o;C+=4)t=a[C],n=a[C+1],i=a[C+2],r=a[C+3],a[C]=t*l+n*u+i*d+r*c+h,a[C+1]=t*p+n*f+i*_+r*v+m,a[C+2]=t*g+n*y+i*b+r*x+w,a[C+3]=t*E+n*T+i*M+r*F+L},t.prototype._multiplyMatrix=function(e){var t,n,i,r=[];for(t=0;t<5;t++){for(n=0;n<5;n++)r[n]=this.colorMatrix[n+5*t];for(n=0;n<5;n++){var a=0;for(i=0;i<5;i++)a+=e[n+5*i]*r[i];this.colorMatrix[n+5*t]=a}}},t.prototype._cleanValue=function(e,t){return Math.min(t,Math.max(-t,e))},t.prototype.toString=function(){var e=this;return e.type+e.brightness+e.hue+e.saturation+e.contrast},t.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],t}(e.AObject);e.ColorMatrixFilter=i;var r=function(e){function t(t,n,i){void 0===t&&(t=2),void 0===n&&(n=2),void 0===i&&(i=1),e.call(this),this.type="blur",this.blurX=0,this.blurY=0,this.quality=1;var r=this;r._instanceType="annie.BlurFilter",r.blurX=t,r.blurY=n,r.quality=i}return __extends(t,e),t.prototype.toString=function(){var e=this;return e.type+e.blurX+e.blurY+e.quality},t.prototype.drawFilter=function(e){void 0===e&&(e=null);var n=this,i=n.blurX>>1;if(isNaN(i)||i<0)return!1;var r=n.blurY>>1;if(isNaN(r)||r<0)return!1;if(0==i&&0==r)return!1;var a=n.quality;(isNaN(a)||a<1)&&(a=1),a|=0,a>3&&(a=3),a<1&&(a=1);var o=e.data,s=0,l=0,u=0,d=0,c=0,h=0,p=0,f=0,_=0,v=0,m=0,g=0,y=0,b=0,x=0,w=i+i+1|0,E=r+r+1|0,T=0|e.width,M=0|e.height,F=T-1|0,L=M-1|0,C=i+1|0,P=r+1|0,O={r:0,b:0,g:0,a:0},S=O;for(u=1;u<w;u++)S=S.n={r:0,b:0,g:0,a:0};S.n=O;var I={r:0,b:0,g:0,a:0},D=I;for(u=1;u<E;u++)D=D.n={r:0,b:0,g:0,a:0};D.n=I;for(var U=null,A=0|t.MUL_TABLE[i],R=0|t.SHG_TABLE[i],k=0|t.MUL_TABLE[r],j=0|t.SHG_TABLE[r];a-- >0;){p=h=0;var B=A,N=R;for(l=M;--l>-1;){for(f=C*(g=o[0|h]),_=C*(y=o[h+1|0]),v=C*(b=o[h+2|0]),m=C*(x=o[h+3|0]),S=O,u=C;--u>-1;)S.r=g,S.g=y,S.b=b,S.a=x,S=S.n;for(u=1;u<C;u++)d=h+((F<u?F:u)<<2)|0,f+=S.r=o[d],_+=S.g=o[d+1],v+=S.b=o[d+2],m+=S.a=o[d+3],S=S.n;for(U=O,s=0;s<T;s++)o[h++]=f*B>>>N,o[h++]=_*B>>>N,o[h++]=v*B>>>N,o[h++]=m*B>>>N,d=p+((d=s+i+1)<F?d:F)<<2,f-=U.r-(U.r=o[d]),_-=U.g-(U.g=o[d+1]),v-=U.b-(U.b=o[d+2]),m-=U.a-(U.a=o[d+3]),U=U.n;p+=T}for(B=k,N=j,s=0;s<T;s++){for(h=s<<2|0,f=P*(g=o[h])|0,_=P*(y=o[h+1|0])|0,v=P*(b=o[h+2|0])|0,m=P*(x=o[h+3|0])|0,D=I,u=0;u<P;u++)D.r=g,D.g=y,D.b=b,D.a=x,D=D.n;for(c=T,u=1;u<=r;u++)h=c+s<<2,
f+=D.r=o[h],_+=D.g=o[h+1],v+=D.b=o[h+2],m+=D.a=o[h+3],D=D.n,u<L&&(c+=T);if(h=s,U=I,a>0)for(l=0;l<M;l++)d=h<<2,o[d+3]=x=m*B>>>N,x>0?(o[d]=f*B>>>N,o[d+1]=_*B>>>N,o[d+2]=v*B>>>N):o[d]=o[d+1]=o[d+2]=0,d=s+((d=l+P)<L?d:L)*T<<2,f-=U.r-(U.r=o[d]),_-=U.g-(U.g=o[d+1]),v-=U.b-(U.b=o[d+2]),m-=U.a-(U.a=o[d+3]),U=U.n,h+=T;else for(l=0;l<M;l++)d=h<<2,o[d+3]=x=m*B>>>N,x>0?(x=255/x,o[d]=(f*B>>>N)*x,o[d+1]=(_*B>>>N)*x,o[d+2]=(v*B>>>N)*x):o[d]=o[d+1]=o[d+2]=0,d=s+((d=l+P)<L?d:L)*T<<2,f-=U.r-(U.r=o[d]),_-=U.g-(U.g=o[d+1]),v-=U.b-(U.b=o[d+2]),m-=U.a-(U.a=o[d+3]),U=U.n,h+=T}}},t.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],t.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],t}(e.AObject);e.BlurFilter=r}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(e){t.call(this),this.rootContainer=null,this._instanceType="annie.CanvasRender",this._stage=e}return __extends(n,t),n.prototype.begin=function(){var e=this,t=e.rootContainer;e._ctx.setTransform(1,0,0,1,0,0),""!=e._stage.bgColor?(e._ctx.fillStyle=e._stage.bgColor,e._ctx.fillRect(0,0,t.width,t.height)):e._ctx.clearRect(0,0,t.width,t.height)},n.prototype.beginMask=function(e){var t=this,n=!1;if(e.children&&e.children.length>0&&(e=e.children[0]),e._command&&e._command.length>0){t._ctx.save(),t._ctx.globalAlpha=0;var i=e.cMatrix;t._ctx.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty),e._drawShape(t._ctx,!0),t._ctx.restore(),n=!0}t._ctx.save(),n&&t._ctx.clip()},n.prototype.endMask=function(){this._ctx.restore()},n.prototype.draw=function(e){var t=this;if(!e._cp){var n=e._texture;if(n&&n.width>0&&n.height>0){var i=t._ctx;i.globalAlpha=e.cAlpha;var r=e.cMatrix;if(i.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty),e.rect&&!e._isCache){var a=e.rect;i.drawImage(n,a.x,a.y,a.width,a.height,0,0,a.width,a.height)}else i.translate(e._offsetX,e._offsetY),i.drawImage(n,0,0)}}},n.prototype.init=function(){var e=this;e.rootContainer||(e.rootContainer=document.createElement("canvas"),e._stage.rootDiv.appendChild(e.rootContainer),e.rootContainer.id="_a2x_canvas");var t=e.rootContainer;e._ctx=t.getContext("2d")},n.prototype.reSize=function(){var t=this,n=t.rootContainer;n.width=t._stage.divWidth*e.devicePixelRatio,n.height=t._stage.divHeight*e.devicePixelRatio,n.style.width=t._stage.divWidth+"px",n.style.height=t._stage.divHeight+"px"},n}(e.AObject);e.CanvasRender=t}(annie||(annie={}));var annie;!function(e){var t=function(t){function n(){t.call(this),this._req=null,this.headers=[],this.responseType=null,this.url="",this.method="get",this.data=null,this._fqs=function(e,t){var n=[];if(e)for(var i in e)n.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return t&&(n=n.concat(t)),n.join("&")},this._fus=function(e,t){var n=this;if(null==t||""==t)return e;var i=[],r=e.indexOf("?");if(-1!=r){var a=e.slice(r+1);return i=i.concat(a.split("&")),e.slice(0,r)+"?"+n._fqs(t,i)}return e+"?"+n._fqs(t,i)},this._instanceType="annie.URLLoader"}return __extends(n,t),n.prototype.loadCancel=function(){var e=this;e._req&&e._req.abort()},n.prototype.load=function(t,n){void 0===n&&(n="form");var i=this;i.loadCancel();var r=t.split("."),a=r[r.length-1],o=a.split("?")[0].toLocaleLowerCase();if(i.responseType="mp3"==o||"ogg"==o||"wav"==o?"sound":"jpg"==o||"jpeg"==o||"png"==o||"gif"==o?"image":"css"==o?"css":"mp4"==o?"video":"svg"==o?"svg":"xml"==o?"xml":"json"==o?"json":"txt"==o?"text":"js"==o||"swf"==o?"js":"unKnow","image"==i.responseType){var s=new e.Event("onComplete");s.data={type:i.responseType,response:null},i.dispatchEvent("onProgress",{loadedBytes:1,totalBytes:1});var l=0,u=function(e,t){var n;n=document.createElement("img"),n.onload=function(){n.onload=null,t(n)},n.crossOrigin="Anonymous",n.onerror=function(){if(l>2)return void u("data:image/gif;base64,R0lGODlhAwADAIABAL6+vv///yH5BAEAAAEALAAAAAADAAMAAAIDjA9WADs=",t);n=null,l++,u(e,t)},n.src=e};return void u(t,function(e){s.data.response=e,i.dispatchEvent(s)})}i._req||(i._req=new XMLHttpRequest);var d=i._req;d.withCredentials=!1,d.onprogress=function(e){!e||e.loaded>0&&0==e.total||i.dispatchEvent("onProgress",{loadedBytes:e.loaded,totalBytes:e.total})},d.onerror=function(e){if(++c>2)i.dispatchEvent("onError",{id:2,msg:e.message});else if(d.abort(),i.data)if(d.abort(),i.data)if("form"==n)d.setRequestHeader("Content-type","application/x-www-form-urlencoded;charset=UTF-8"),d.send(i._fqs(i.data,null));else{var t="application/json";"json"!=n&&(t="multipart/form-data"),d.setRequestHeader("Content-type",t+";charset=UTF-8"),d.send(i.data)}else d.send();else d.send()},d.onreadystatechange=function(t){var n=t.target;if(4==n.readyState)if(200==d.status||0==d.status){var r=new e.Event("onComplete"),a=n.response;r.data={type:i.responseType,response:null};var o=void 0;switch(i.responseType){case"css":o=document.createElement("link"),o.rel="stylesheet",o.href=i.url;break;case"sound":case"video":var s=void 0;"sound"==i.responseType?(s=document.createElement("AUDIO"),s.preload=!0,s.src=i.url,o=new e.Sound(i.url)):"video"==i.responseType&&(s=document.createElement("VIDEO"),s.preload=!0,s.src=i.url,o=new e.Video(s));break;case"json":o=JSON.parse(a);break;case"js":o="JS_CODE",e.Eval(a);break;case"text":case"unKnow":case"xml":default:o=a}r.data.response=o,i.data=null,i.responseType="",i.dispatchEvent(r)}else i.dispatchEvent("onError",{id:0,msg:"访问地址不存在"})};var c=0;if(i.data&&"get"==i.method.toLocaleLowerCase()?(i.url=i._fus(t,i.data),i.data=null):i.url=t,"image"==i.responseType||"sound"==i.responseType||"video"==i.responseType?d.responseType="blob":d.responseType="text",d.open(i.method,i.url,!0),i.headers.length>0){for(var h=0;h<i.headers.length;h+=2)d.setRequestHeader(i.headers[h],i.headers[h+1]);i.headers.length=0}if(i.data)if("form"==n)d.setRequestHeader("Content-type","application/x-www-form-urlencoded;charset=UTF-8"),d.send(i._fqs(i.data,null));else{var p="application/json";"json"!=n&&(p="multipart/form-data"),d.setRequestHeader("Content-type",p+";charset=UTF-8"),d.send(i.data)}else d.send()},n.prototype.addHeader=function(e,t){this.headers.push(e,t)},n}(e.EventDispatcher);e.URLLoader=t}(annie||(annie={}));var Flash2x;!function(Flash2x){function _loadConfig(){_JSONQueue.load(_domain+"resource/"+_loadSceneNames[_loadIndex]+"/"+_loadSceneNames[_loadIndex]+".res.json?t="+_time)}function onCFGComplete(e){var t=e.data.response;if(_currentConfig.push(t),_totalLoadRes+=t.length,_loadIndex++,_loadSceneNames[_loadIndex])_loadConfig();else{_loadIndex=0,_loadSinglePer=1/_totalLoadRes;var n=document.createElement("div");n.classList.add("hide"),document.querySelector("body").appendChild(n),_currentConfig.map(function(e){e.map(function(e){if("image"==e.type){var t=document.createElement("img");t.setAttribute("crossorigin","anonymous"),t.src=_domain+e.src,n.appendChild(t)}})}),_loadRes()}}function _onRESProgress(e){_progressCallback&&_progressCallback(100*(_loadPer+e.data.loadedBytes/e.data.totalBytes*_loadSinglePer)>>0)}function _onRESComplete(e){var t=_loadSceneNames[_loadIndex];if(Flash2x._isReleased){if("f2xShare"==t)return _currentConfig.shift(),_loadSceneNames.shift(),void _loadRes();var n=Flash2x,i=n[t+"Res"];for(var r in i){var a;i[r].indexOf("audio/")>0?a=new annie.Sound(i[r]):i[r].indexOf("image/")>0?(a=new Image,a.src=i[r]):a=JSON.parse(i[r]),Flash2x.res[t][r]=a}delete n[t+"Res"]}else"js"!=e.data.type&&"css"!=e.data.type&&(Flash2x.res[t][_currentConfig[_loadIndex][0].id]=e.data.response);_checkComplete()}function _checkComplete(){if(_loadedLoadRes++,_loadPer=_loadedLoadRes/_totalLoadRes,_currentConfig[_loadIndex].shift(),_currentConfig[_loadIndex].length>0)_loadRes();else{var e={};e.sceneName=_loadSceneNames[_loadIndex],_loadIndex++,e.sceneId=_loadIndex,e.sceneTotal=_loadSceneNames.length,_loadIndex==_loadSceneNames.length?(_isLoading=!1,setTimeout(function(){_completeCallback(e)},100)):(_completeCallback(e),_loadRes()),Flash2x.res[e.sceneName]._f2x_had_loaded_scene=!0}}function _loadRes(){var e=_domain+_currentConfig[_loadIndex][0].src;Flash2x._isReleased&&(_loaderQueue.responseType="js",e+="?v="+Flash2x._isReleased),_loaderQueue.load(e)}function isLoadedScene(e){return!(void 0==Flash2x.res[e]||null==Flash2x.res[e]||!Flash2x.res[e]._f2x_had_loaded_scene)}function unLoadScene(sceneName){delete Flash2x.res[sceneName];var scene=eval(sceneName);for(var i in scene)delete scene[i];eval(sceneName+"=null;")}function getMediaByName(e,t){var n=Flash2x.res;return n[e][t]?n[e][t]:null}function b(e,t){var n=Flash2x.res;if(n[e][t])return new annie.Bitmap(n[e][t]);for(var i=0;n[e]["F2xSSIMG"+i];){var r=n[e]["F2xSSIMGData"+i];if(void 0!=r[t]){!0;var a=r[t],o=n[e]["F2xSSIMG"+i];return new annie.Bitmap(o,a)}i++}return null}function d(e,t,n){if(void 0===t&&(t=null),void 0===n&&(n=null),t&&(void 0!=t.x&&(e.x=t.x),void 0!=t.y&&(e.y=t.y),void 0!=t.a&&(e.scaleX=t.a),void 0!=t.b&&(e.scaleY=t.b),void 0!=t.r&&(e.rotation=t.r),void 0!=t.c&&(e.skewX=t.c),void 0!=t.d&&(e.skewY=t.d),void 0!=t.o&&(e.alpha=t.o),void 0!=t.v&&(e.visible=t.v)),n&&n.length>0){for(var i=0,r=[];void 0!=n[i];)if(0==n[i])r.push(new ColorFilter(n[i+1],n[i+2],n[i+3],n[i+4],n[i+5],n[i+6],n[i+7],n[i+8])),i+=9;else if(1==n[i])r.push(new BlurFilter(n[i+1],n[i+2],n[i+3])),i+=4;else if(2==n[i]){var a=.5*(n[i+1]+n[i+2]),o=Shape.getRGBA(n[i+4],n[i+5]),s=n[i+7]*Math.cos(n[i+6]/180*Math.PI),l=n[i+7]*Math.sin(n[i+6]/180*Math.PI);r.push(new ShadowFilter(o,s,l,a)),i+=8}else if(3==n[i]){var u=.5*(n[i+1]+n[i+2]),o=Shape.getRGBA(n[i+4],n[i+5]);r.push(new ShadowFilter(o,0,0,u)),i+=6}else 4==n[i]&&(r.push(new ColorMatrixFilter(n[i+1],n[i+2],n[i+3],n[i+4])),i+=5);e.filters=r}}function t(e,t,n,i,r,a,o,s,l,u,d,c,h,p,f){void 0===c&&(c=!1),void 0===h&&(h=!1),void 0===p&&(p="single"),void 0===f&&(f=!1);var _;return 0==e||1==e?(_=new annie.TextField,_.text=t,_.font=r,_.size=n,_.lineWidth=s+2*o,_.lineHeight=u,_.textAlign=d,_.italic=c,_.bold=h,_.color=i,_.lineType=p,_.border=f):(_=new annie.InputText(p),_.initInfo(t,s+2*o,l+2*a,i,d,n,r,f,u/n),c&&(_.italic=!0),h&&(_.bold=!0)),_}function sb(e,t){var n="_f2x_s"+t;if(Flash2x.res[e][n])return Flash2x.res[e][n];var i=null,r=b(e,t);return r?(i=r.rect?annie.Bitmap.convertToImage(r,!1):r.bitmapData,Flash2x.res[e][n]=i,i):(trace("error:矢量位图填充时,未找到位图资源!"),null)}function s(e,t,n){var i=new annie.Shape;return t&&(0==t.type?i.beginFill(t.color):1==t.type?i.beginRadialGradientFill(t.gradient[0],t.gradient[1],t.points):2==t.type?i.beginLinearGradientFill(t.gradient[0],t.gradient[1],t.points):i.beginBitmapFill(sb(t.bitmapScene,t.bitmapName),t.matrix)),n&&(0==n.type?i.beginStroke(n.color,n.lineWidth,n.caps,n.joints,n.miter):1==n.type?i.beginRadialGradientStroke(n.gradient[0],n.gradient[1],n.points,n.lineWidth,n.caps,n.joints,n.miter):2==n.type?i.beginLinearGradientStroke(n.gradient[0],n.gradient[1],n.points,n.lineWidth,n.caps,n.joints,n.miter):i.beginBitmapStroke(sb(n.bitmapScene,n.bitmapName),n.matrix,n.lineWidth,n.caps,n.joints,n.miter)),0==e.type?i.decodePath(e.data):1==e.type?i.drawRoundRect(e.data.x,e.data.y,e.data.w,e.data.h,e.data.topLeftRadius,e.data.topRightRadius,e.data.bottomLeftRadius,e.data.bottomRightRadius):i.drawEllipse(e.data.x,e.data.y,e.data.w,e.data.h),t&&i.endFill(),n&&i.endStroke(),i}function ajax(e){var t=new URLLoader;t.addHeader("X-Requested-With","XMLHttpRequest"),t.method=void 0==e.type?"get":e.type,t.data=void 0==e.data?null:e.data,t.responseType=void 0==e.responseType?"text":e.responseType,void 0!=e.success&&t.addEventListener(annie.Event.COMPLETE,e.success),void 0!=e.error&&t.addEventListener(annie.Event.ERROR,e.error),t.load(e.url)}function jsonp(e,t,n,i){var r=window;1==t&&(r[n]=i);var a=document.createElement("script"),o=document.getElementsByTagName("head")[0];a.onload=function(e){0==t&&i(r[n]),e.path[0].src="",r[n]=null,delete r[n],o.removeChild(e.path[0])},o.appendChild(a);var s;s=e.indexOf("?")>0?"&":"?",a.src=e+s+"a_n_n_i_e="+Math.random()+"&callback="+n}function getQueryString(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?decodeURIComponent(n[2]):null}var URLLoader=annie.URLLoader,Event=annie.Event,ColorFilter=annie.ColorFilter,Shape=annie.Shape,BlurFilter=annie.BlurFilter,ShadowFilter=annie.ShadowFilter,ColorMatrixFilter=annie.ColorMatrixFilter;Flash2x._isReleased=!1,Flash2x._shareSceneList=[],Flash2x.res={};var _isLoading,_loadSceneNames,_domain,_loadIndex,_totalLoadRes,_loadedLoadRes,_completeCallback,_progressCallback,_JSONQueue,_loaderQueue,_isInited,_currentConfig,_time,_loadPer,_loadSinglePer;Flash2x.loadScene=function(e,t,n,i){if(void 0===i&&(i=""),_isLoading&&(_JSONQueue.loadCancel(),_loaderQueue.loadCancel()),_loadSceneNames=[],_domain=i,"string"==typeof e)if(isLoadedScene(e)){var r={};r.sceneName=e,r.sceneId=1,r.sceneTotal=1,n(r)}else Flash2x.res[e]={},_loadSceneNames.push(e);else for(var a=e.length,o=0,s=0;s<a;s++)if(isLoadedScene(e[s])){var r={};r.sceneName=e[s],r.sceneId=++o,r.sceneTotal=a,n(r)}else Flash2x.res[e[s]]={},_loadSceneNames.push(e[s]);if(0!=_loadSceneNames.length)if(_isInited||(_time=(new Date).getTime(),_JSONQueue=new URLLoader,_JSONQueue.addEventListener(Event.COMPLETE,onCFGComplete),_loaderQueue=new URLLoader,_loaderQueue.addEventListener(Event.COMPLETE,_onRESComplete),_loaderQueue.addEventListener(Event.PROGRESS,_onRESProgress),_isInited=!0),_loadPer=0,_loadIndex=0,_totalLoadRes=0,_loadedLoadRes=0,_isLoading=!0,_completeCallback=n,_progressCallback=t,_currentConfig=[],Flash2x._isReleased){if(Flash2x._shareSceneList.length>0&&!isLoadedScene("f2xShare"))for(var s=0;s<_loadSceneNames.length;s++)if(Flash2x._shareSceneList.indexOf(_loadSceneNames[s])>=0){_loadSceneNames.unshift("f2xShare");break}_loadIndex=0,_totalLoadRes=_loadSceneNames.length,_loadSinglePer=1/_totalLoadRes;for(var s=0;s<_totalLoadRes;s++)_currentConfig.push([{src:"src/"+_loadSceneNames[s]+".swf"}]);_loadRes()}else _loadConfig()},Flash2x.isLoadedScene=isLoadedScene,Flash2x.unLoadScene=unLoadScene,Flash2x.getMediaByName=getMediaByName,Flash2x.b=b,Flash2x.d=d,Flash2x.t=t,Flash2x.sb=sb,Flash2x.s=s,Flash2x.ajax=ajax,Flash2x.jsonp=jsonp,Flash2x.getQueryString=getQueryString}(Flash2x||(Flash2x={}));var annie;!function(e){var t=!0,n=function(e){function t(){e.call(this),this.currentFrame=0,this.totalFrames=0,this._isLoop=0,this._delay=0,this._isFront=!0,this._cParams=null,this._loop=!1}return __extends(t,e),t.prototype.init=function(e,t,n,i){if(void 0===i&&(i=!0),t<=0||"number"!=typeof t)throw new Error("annie.Tween.to()或者annie.Tween.from()方法的第二个参数一定要是大于0的数字");var r=this;r.currentFrame=1;var a=60*t>>0;r.totalFrames=a>0?a:1,r.target=e,r._isTo=i,r._isLoop=0,r._startData={},r._disData={},r._delay=0,r._isFront=!0,r._ease=null,r._update=null,r._cParams=null,r._loop=!1,r._completeFun=null;for(var o in n)switch(o){case"useFrame":1==n[o]&&(r.totalFrames=t);break;case"yoyo":!1===n[o]?r._isLoop=0:!0===n[o]?r._isLoop=Number.MAX_VALUE:r._isLoop=n[o];break;case"delay":n.useFrame?r._delay=n[o]:r._delay=60*n[o]>>0;break;case"ease":r._ease=n[o];break;case"onUpdate":r._update=n[o];break;case"onComplete":r._completeFun=n[o];break;case"completeParams":r._cParams=n[o];break;case"loop":r._loop=n[o];break;default:"number"==typeof n[o]&&(i?(r._startData[o]=e[o],r._disData[o]=n[o]-e[o]):(r._startData[o]=n[o],r._disData[o]=e[o]-n[o],e[o]=n[o]))}},t.prototype.update=function(){var e=this;if(e._isFront&&e._delay>0)return void e._delay--;var t=e.currentFrame/e.totalFrames;if(!(t<0||t>1)){e._ease&&(t=e._ease(t));var n=!1;for(var r in e._disData)n=!0,e.target[r]=e._startData[r]+e._disData[r]*t;if(!n)return void i.kill(e.instanceId);e._update&&e._update(t);var a=e._completeFun,o=e._cParams;e._isFront?++e.currentFrame>e.totalFrames&&(e._loop?e.currentFrame=1:e._isLoop>0?(e._isFront=!1,e.currentFrame=e.totalFrames,e._isLoop--):i.kill(e.instanceId),a&&a(o)):--e.currentFrame<0&&(e._isLoop>0?(e._isFront=!0,e.currentFrame=1):i.kill(e.instanceId),a&&a(o))}},t}(e.AObject);e.TweenObj=n;var i=function(){function i(){}return i.to=function(e,t,n){return i.createTween(e,t,n,!0)},i.from=function(e,t,n){return i.createTween(e,t,n,!1)},i.createTween=function(t,r,a,o){for(var s,l=i._tweenList.length,u=0;u<l;u++)if(s=i._tweenList[u],t==s.target)for(var d in s._startData)void 0!=a[d]&&(delete s._startData[d],delete s._disData[d]);return l=i._tweenPool.length,l>0?(s=i._tweenPool.shift(),s._instanceId=e.AObject._object_id++):s=new n,i._tweenList.push(s),s.init(t,r,a,o),s.instanceId},i.killAll=function(){for(var e,t=i._tweenList.length,n=0;n<t;n++)e=i._tweenList[n],e.target=null,e._completeFun=null,e._cParams=null,e._update=null,e._ease=null,e._loop=!1,i._tweenPool.push(e);i._tweenList.length=0},i.kill=function(e){for(var t,n=i._tweenList.length,r=0;r<n;r++)if(t=i._tweenList[r],t.instanceId==e){t.target=null,t._completeFun=null,t._cParams=null,t._update=null,t._ease=null,t._loop=null,i._tweenPool.push(t),i._tweenList.splice(r,1);break}},i.quadraticIn=function(e){return e*e},i.quadraticOut=function(e){return e*(2-e)},i.quadraticInOut=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},i.cubicIn=function(e){return e*e*e},i.cubicOut=function(e){return--e*e*e+1},i.cubicInOut=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},i.quarticIn=function(e){return e*e*e*e},i.quarticOut=function(e){return 1- --e*e*e*e},i.quarticInOut=function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},i.quinticIn=function(e){return e*e*e*e*e},i.quinticOut=function(e){return--e*e*e*e*e+1},i.quinticInOut=function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},i.sinusoidalIn=function(e){return 1-Math.cos(e*Math.PI/2)},i.sinusoidalOut=function(e){return Math.sin(e*Math.PI/2)},i.sinusoidalInOut=function(e){return.5*(1-Math.cos(Math.PI*e))},i.exponentialIn=function(e){return 0===e?0:Math.pow(1024,e-1)},i.exponentialOut=function(e){return 1===e?1:1-Math.pow(2,-10*e)},i.exponentialInOut=function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},i.circularIn=function(e){return 1-Math.sqrt(1-e*e)},i.circularOut=function(e){return Math.sqrt(1- --e*e)},i.circularInOut=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},i.elasticIn=function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},i.elasticOut=function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},i.elasticInOut=function(e){return 0===e?0:1===e?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1)},i.backIn=function(e){var t=1.70158;return e*e*((t+1)*e-t)},i.backOut=function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},i.backInOut=function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)},i.bounceIn=function(e){return 1-i.bounceOut(1-e)},i.bounceOut=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},i.bounceInOut=function(e){return e<.5?.5*i.bounceIn(2*e):.5*i.bounceOut(2*e-1)+.5},i.flush=function(){if(t)for(var e=i._tweenList.length,n=e-1;n>=0;n--)i._tweenList[n]?i._tweenList[n].update():i._tweenList.splice(n,1);t=!t},i._tweenPool=[],i._tweenList=[],i}();e.Tween=i}(annie||(annie={}));var annie;!function(e){var t=function(e){function t(n,i){void 0===i&&(i=0),e.call(this),this._currentCount=0,this._delay=0,this._frameDelay=0,this._currentFrameDelay=0,this._repeatCount=0,this._running=!1,n<=0&&(n=1);var r=this;r._delay=n,r._frameDelay=Math.ceil(.001*n*60),r._repeatCount=i,t._timerList.push(r)}return __extends(t,e),t.prototype.reset=function(){var e=this;e._running=!1,e._currentCount=0,e._currentFrameDelay=0},t.prototype.start=function(){var e=this;e._running=!0,e._currentCount==e._repeatCount&&(e._currentCount=0)},t.prototype.stop=function(){this._running=!1},Object.defineProperty(t.prototype,"currentCount",{get:function(){return this._currentCount},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delay",{get:function(){return this._delay},set:function(e){this._delay=e,this._frameDelay=Math.ceil(.001*e*60)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repeatCount",{get:function(){return this._repeatCount},set:function(e){e<0&&(e=0),this._repeatCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"running",{get:function(){return this._running},enumerable:!0,configurable:!0}),t.prototype.kill=function(){for(var e=t._timerList.length,n=this,i=0;i<e;i++)if(t._timerList[i]._instanceId==n._instanceId){t._timerList.splice(i,1);break}},t.prototype.update=function(){var e=this;e._running&&++e._currentFrameDelay==e._frameDelay&&(e._repeatCount&&e._currentCount++,e._currentFrameDelay=0,e.dispatchEvent("onTimer"),e._repeatCount&&e._currentCount==e._repeatCount&&(e._running=!1,e.dispatchEvent("onTimerComplete")))},t.flush=function(){for(var e=t._timerList.length,n=e-1;n>=0;n--)t._timerList[n]?t._timerList[n].update():t._timerList.splice(n,1)},t._timerList=[],t}(e.EventDispatcher);e.Timer=t}(annie||(annie={}));var annie;!function(e){function t(e){window.location.href=e}function n(e){var t=new XMLHttpRequest;t.open("get",e,!0),t.send()}e.Eval=eval.bind(window),e.debug=!1,e.version="1.1.3",e.osType=function(){var e=navigator.userAgent.toLocaleLowerCase(),t=/android/,n=/iphone|ipod|ipad/;return t.test(e)?"android":n.test(e)?"ios":"pc"}(),e.devicePixelRatio=window.devicePixelRatio?window.devicePixelRatio:1,e.StageScaleMode={EXACT_FIT:"exactFit",NO_BORDER:"noBorder",NO_SCALE:"noScale",SHOW_ALL:"showAll",FIXED_WIDTH:"fixedWidth",FIXED_HEIGHT:"fixedHeight"},e.navigateToURL=t,e.sendToURL=n;var i=null;e.toDisplayDataURL=function(t,n,r,a){void 0===n&&(n=null),void 0===r&&(r=null),void 0===a&&(a=""),i||(i=new e.CanvasRender(null)),i._stage=t,i.rootContainer=e.DisplayObject._canvas;var o={p:t.parent,x:t.x,y:t.y,scX:t.scaleX,scY:t.scaleY,r:t.rotation,skX:t.skewX,skY:t.skewY};t.parent=null,t.x=t.y=0,t.scaleX=t.scaleY=1,t.rotation=t.skewX=t.skewY=0;var s=t.getBounds(),l=n?n.width:s.width,u=n?n.height:s.height;return t.x=n?-n.x:-s.x,t.y=n?-n.y:-s.y,t._offsetX=n?n.x:s.x,t._offsetY=n?n.y:s.y,i.rootContainer.width=l,i.rootContainer.height=u,i._ctx=i.rootContainer.getContext("2d"),""==a?i._ctx.clearRect(0,0,l,u):(i._ctx.fillStyle=a,i._ctx.fillRect(0,0,l,u)),t._cp=!0,t.update(),t.render(i),t._cp=!0,t.parent=o.p,t.x=o.x,t.y=o.y,t.scaleX=o.scX,t.scaleY=o.scY,t.rotation=o.r,t.skewX=o.skX,t.skewY=o.skY,t.update(),r||(r={type:"png"}),i.rootContainer.toDataURL("image/"+r.type,r.quality)},e.getStagePixels=function(t,n){var i=t.localToGlobal(new e.Point(n.x,n.y));return t.renderObj.rootContainer.getContext("2d").getImageData(i.x,i.y,n.width,n.height)}}(annie||(annie={}));var trace=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];for(var n in arguments)console.log(arguments[n])},globalDispatcher=new annie.EventDispatcher,F2xContainer=annie.Sprite,F2xMovieClip=annie.MovieClip,F2xText=annie.TextField,F2xInputText=annie.InputText,F2xBitmap=annie.Bitmap,F2xShape=annie.Shape;annie.Stage.addUpdateObj(annie.Tween),annie.Stage.addUpdateObj(annie.Timer),annie.Stage.flushAll();
=======
var __extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},annie;!function(t){var e=function(){function t(){this._instanceId=0,this._instanceType="annie.AObject",this._instanceId=t._object_id++}return Object.defineProperty(t.prototype,"instanceId",{get:function(){return this._instanceId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"instanceType",{get:function(){return this._instanceType},enumerable:!0,configurable:!0}),t._object_id=0,t}();t.AObject=e;var n=function(e){function n(){e.call(this),this.eventTypes={},this.eventTypes1={},this._instanceType="annie.EventDispatcher"}return __extends(n,e),n.getMouseEventCount=function(t){void 0===t&&(t="");var e=0;if(""==t)for(var i in n._MECO)0==i.indexOf("onMouse")&&(e+=n._MECO[i]);else n._MECO[t]&&(e=n._MECO[t]);return e},n.prototype.addEventListener=function(t,e,n){if(void 0===n&&(n=!0),!t)throw new Error("添加侦听的type值为undefined");if(!e)throw new Error("侦听回调函数不能为null");var i=this,r=i.eventTypes;n||(r=i.eventTypes1),r[t]||(r[t]=[]),r[t].indexOf(e)<0&&(r[t].unshift(e),0==t.indexOf("onMouse")&&i._changeMouseCount(t,!0))},n.prototype._changeMouseCount=function(t,e){var i=e?1:-1;n._MECO[t]||(n._MECO[t]=0),n._MECO[t]+=i,n._MECO[t]<0&&(n._MECO[t]=0),n._totalMEC+=i},n.prototype.dispatchEvent=function(e,n,i){void 0===n&&(n=null),void 0===i&&(i=!0);var r=this;"string"==typeof e&&(r._defaultEvent?r._defaultEvent.reset(e,r):r._defaultEvent=new t.Event(e),e=r._defaultEvent);var o=r.eventTypes[e.type];if(i||(o=r.eventTypes1[e.type]),o){var a=o.length;null==e.target&&(e.target=r),null!=n&&(e.data=n);for(var s=a-1;s>=0;s--)e._pd||(o[s]?o[s](e):o.splice(s,1));return!0}return!1},n.prototype.hasEventListener=function(t,e){void 0===e&&(e=!0);var n=this;if(e){if(n.eventTypes[t]&&n.eventTypes[t].length>0)return!0}else if(n.eventTypes1[t]&&n.eventTypes1[t].length>0)return!0;return!1},n.prototype.removeEventListener=function(t,e,n){void 0===n&&(n=!0);var i=this,r=i.eventTypes[t];if(n||(r=i.eventTypes1[t]),r)for(var o=r.length,a=o-1;a>=0;a--)r[a]===e&&(r.splice(a,1),0==t.indexOf("onMouse")&&i._changeMouseCount(t,!1))},n.prototype.removeAllEventListener=function(){var t=this;for(var e in t.eventTypes)if(0==e.indexOf("onMouse"))for(var n=0;n<t.eventTypes[e].length;n++)t._changeMouseCount(e,!1);for(var e in t.eventTypes1)if(0==e.indexOf("onMouse"))for(var n=0;n<t.eventTypes1[e].length;n++)t._changeMouseCount(e,!1);t.eventTypes1={},t.eventTypes={}},n.prototype.destroy=function(){var t=this;t.removeAllEventListener(),t.eventTypes=null},n._MECO={},n._totalMEC=0,n}(e);t.EventDispatcher=n}(annie||(annie={}));var annie;!function(t){var e=function(t){function e(e){t.call(this),this.type="",this.target=null,this.data=null,this._bpd=!1,this._pd=!1,this._instanceType="annie.Event",this.type=e}return __extends(e,t),e.prototype.stopImmediatePropagation=function(){this._pd=!0},e.prototype.stopPropagation=function(){this._bpd=!0},e.prototype.destroy=function(){var t=this;t.target=null,t.data=null},e.prototype.reset=function(t,e){var n=this;n.target=e,n._pd=!1,n._bpd=!1,n.type=t},e.RESIZE="onResize",e.ON_RUN_CHANGED="onRunChanged",e.ON_PLAY_UPDATE="onPlayUpdate",e.ON_PLAY_END="onPlayEnd",e.ON_PLAY_START="onPlayStart",e.ON_FLIP_START="onFlipStart",e.ON_FLIP_STOP="onFlipStop",e.ON_SCROLL_TO_HEAD="onScrollToHead",e.ON_SCROLL_STOP="onScrollStop",e.ON_SCROLL_START="onScrollStart",e.ON_SCROLL_TO_END="onScrollToEnd",e.ON_SLIDE_START="onSlideStart",e.ON_SLIDE_END="onSlideEnd",e.ON_INIT_STAGE="onInitStage",e.ADD_TO_STAGE="onAddToStage",e.REMOVE_TO_STAGE="onRemoveToStage",e.ENTER_FRAME="onEnterFrame",e.END_FRAME="onEndFrame",e.CALL_FRAME="onCallFrame",e.COMPLETE="onComplete",e.PROGRESS="onProgress",e.ERROR="onError",e.ABORT="onAbort",e.START="onStart",e.TIMER="onTimer",e.TIMER_COMPLETE="onTimerComplete",e}(t.AObject);t.Event=e}(annie||(annie={}));var annie;!function(t){var e=function(t){function e(e){t.call(this,e),this.clientX=0,this.clientY=0,this.stageX=0,this.stageY=0,this.localX=0,this.localY=0,this.currentTarget=null,this.identifier=0,this._instanceType="annie.MouseEvent"}return __extends(e,t),e.prototype.updateAfterEvent=function(){this.target.stage._cp=!0},e.prototype.destroy=function(){this.currentTarget=null,t.prototype.destroy.call(this)},e.MOUSE_DOWN="onMouseDown",e.MOUSE_UP="onMouseUp",e.CLICK="onMouseClick",e.MOUSE_MOVE="onMouseMove",e.MOUSE_OVER="onMouseOver",e.MOUSE_OUT="onMouseOut",e}(t.Event);t.MouseEvent=e}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(n){e.call(this,n),this.clientPoint1=new t.Point,this.clientPoint2=new t.Point,this.scale=0,this.rotate=0,this._instanceType="annie.TouchEvent"}return __extends(n,e),n.prototype.updateAfterEvent=function(){this.target.stage._cp=!0},n.prototype.destroy=function(){var t=this;t.clientPoint1=null,t.clientPoint2=null,e.prototype.destroy.call(this)},n.ON_MULTI_TOUCH="onMultiTouch",n}(t.Event);t.TouchEvent=e}(annie||(annie={}));var annie;!function(t){var e=function(t){function e(e,n){void 0===e&&(e=0),void 0===n&&(n=0),t.call(this),this.x=0,this.y=0;var i=this;i._instanceType="annie.Point",i.x=e,i.y=n}return __extends(e,t),e.prototype.destroy=function(){},e.distance=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=t.length;return 4==n?Math.sqrt((t[0]-t[2])*(t[0]-t[2])+(t[1]-t[3])*(t[1]-t[3])):2==n?Math.sqrt((t[0].x-t[1].x)*(t[0].x-t[1].x)+(t[0].y-t[1].y)*(t[0].y-t[1].y)):void 0},e}(t.AObject);t.Point=e}(annie||(annie={}));var annie;!function(t){function e(t){switch(t){case r:case-o:return 0;case i:case-i:return-1;case o:case-r:return 0;default:return Math.cos(t)}}function n(t){switch(t){case r:case-o:return 1;case i:case-i:return 0;case o:case-r:return-1;default:return Math.sin(t)}}var i=Math.PI,r=i>>1,o=i+r,a=Math.PI/180,s=function(i){function r(e,n,r,o,a,s){void 0===e&&(e=1),void 0===n&&(n=0),void 0===r&&(r=0),void 0===o&&(o=1),void 0===a&&(a=0),void 0===s&&(s=0),i.call(this),this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.transformPoint=function(e,n,i){void 0===i&&(i=null);var r=this;return i||(i=new t.Point),i.x=e*r.a+n*r.c+r.tx,i.y=e*r.b+n*r.d+r.ty,i},this.prepend=function(t){var e=this,n=t.a,i=t.b,r=t.c,o=t.d,a=t.tx,s=t.ty,l=e.a,u=e.c,c=e.tx;e.a=n*l+r*e.b,e.b=i*l+o*e.b,e.c=n*u+r*e.d,e.d=i*u+o*e.d,e.tx=n*c+r*e.ty+a,e.ty=i*c+o*e.ty+s};var l=this;l._instanceType="annie.Matrix",l.a=e,l.b=n,l.c=r,l.d=o,l.tx=a,l.ty=s}return __extends(r,i),r.prototype.clone=function(){var t=this;return new r(t.a,t.b,t.c,t.d,t.tx,t.ty)},r.prototype.setFrom=function(t){var e=this;e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e.tx=t.tx,e.ty=t.ty},r.prototype.identity=function(){var t=this;t.a=t.d=1,t.b=t.c=t.tx=t.ty=0},r.prototype.invert=function(){var t=this,e=new r(t.a,t.b,t.c,t.d,t.tx,t.ty),n=t.a,i=t.b,o=t.c,a=t.d,s=t.tx,l=t.ty;if(0==i&&0==o)return 0==n||0==a?e.a=e.d=e.tx=e.ty=0:(n=e.a=1/n,a=e.d=1/a,e.tx=-n*s,e.ty=-a*l),e;var u=n*a-i*o;if(0==u)return e.identity(),e;u=1/u;var c=e.a=a*u;return i=e.b=-i*u,o=e.c=-o*u,a=e.d=n*u,e.tx=-(c*s+o*l),e.ty=-(i*s+a*l),e},r.prototype.createBox=function(t,i,r,o,s,l,u,c,h){var d=this;if(0!=s?l=u=s%360:(l%=360,u%=360),0==l&&0==u)d.a=r,d.b=d.c=0,d.d=o;else{l*=a,u*=a;var p=e(l),f=n(l);l==u?(d.a=p*r,d.b=f*r):(d.a=e(u)*r,d.b=n(u)*r),d.c=-f*o,d.d=p*o}d.tx=t+c-(c*d.a+h*d.c),d.ty=i+h-(c*d.b+h*d.d)},r.isEqual=function(t,e){return t.tx==e.tx&&t.ty==e.ty&&t.a==e.a&&t.b==e.b&&t.c==e.c&&t.d==e.d},r.prototype.concat=function(t){var e=this,n=e.a,i=e.b,r=e.c,o=e.d,a=e.tx,s=e.ty,l=t.a,u=t.b,c=t.c,h=t.d,d=t.tx,p=t.ty;e.a=n*l+i*c,e.b=n*u+i*h,e.c=r*l+o*c,e.d=r*u+o*h,e.tx=a*l+s*c+d,e.ty=a*u+s*h+p},r.prototype.rotate=function(t){var e=this,n=Math.sin(t),i=Math.cos(t),r=e.a,o=e.b,a=e.c,s=e.d,l=e.tx,u=e.ty;e.a=r*i-o*n,e.b=r*n+o*i,e.c=a*i-s*n,e.d=a*n+s*i,e.tx=l*i-u*n,e.ty=l*n+u*i},r.prototype.scale=function(t,e){var n=this;n.a*=t,n.d*=e,n.c*=t,n.b*=e,n.tx*=t,n.ty*=e},r.prototype.translate=function(t,e){var n=this;n.tx+=t,n.ty+=e},r.prototype.destroy=function(){},r}(t.AObject);t.Matrix=s}(annie||(annie={}));var annie;!function(t){var e=function(t){function e(e,n,i,r){void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=0),t.call(this),this.x=0,this.y=0,this.width=0,this.height=0;var o=this;o._instanceType="annie.Rectangle",o.x=e,o.y=n,o.height=r,o.width=i}return __extends(e,t),e.prototype.isPointIn=function(t){var e=this;return t.x>=e.x&&t.x<=e.x+e.width&&t.y>=e.y&&t.y<=e.y+e.height},e.createFromRects=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];if(0==t.length)return null;if(1==t.length)return t[0];for(var n=t[0],i=n.x,r=n.y,o=n.width,a=n.height,s=void 0,l=void 0,u=void 0,c=void 0,h=1;h<t.length;h++)s=i+o,u=r+a,l=t[h].x+t[h].width,c=t[h].y+t[h].height,(i>t[h].x||0==s)&&(i=t[h].x),(r>t[h].y||0==u)&&(r=t[h].y),s<l&&(s=l),u<c&&(u=c),n.x=i,n.y=r,n.width=s-i,n.height=u-r;return n},e.createFromPoints=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=e[0].x,r=e[0].y,o=e[0].x,a=e[0].y,s=1;s<e.length;s++)null!=e[s]&&(i>e[s].x&&(i=e[s].x),r>e[s].y&&(r=e[s].y),o<e[s].x&&(o=e[s].x),a<e[s].y&&(a=e[s].y));return t.x=i,t.y=r,t.width=o-i,t.height=a-r,t},e.createRectform2Point=function(t,e,n){var i=e.x,r=e.y,o=e.x,a=e.y;i>n.x&&(i=n.x),r>n.y&&(r=n.y),o<n.x&&(o=n.x),a<n.y&&(a=n.y),t.x=i,t.y=r,t.width=o-i,t.height=a-r},e.testRectCross=function(t,e){var n,i,r,o;return n=t.x+t.width/2,i=t.y+t.height/2,r=e.x+e.width/2,o=e.y+e.height/2,Math.abs(n-r)<=t.width/2+e.width/2&&Math.abs(i-o)<=t.height/2+e.height/2},e.prototype.destroy=function(){},e}(t.AObject);t.Rectangle=e}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(){e.call(this),this._UI={UD:!1,UM:!0,UA:!0,UF:!1},this.stage=null,this.parent=null,this.cAlpha=1,this.cMatrix=new t.Matrix,this.mouseEnable=!0,this.cFilters=[],this.name="",this._x=0,this._y=0,this._scaleX=1,this._scaleY=1,this._rotation=0,this._alpha=1,this._skewX=0,this._skewY=0,this._anchorX=0,this._anchorY=0,this._visible=!0,this._matrix=new t.Matrix,this._mask=null,this._filters=[],this._cp=!0,this._dragBounds=new t.Rectangle,this._isDragCenter=!1,this._lastDragPoint=new t.Point,this._texture=null,this._offsetX=0,this._offsetY=0,this._bounds=new t.Rectangle,this._drawRect=new t.Rectangle,this._a2x_sounds=null,this._a2x_res_obj={},this._instanceType="annie.DisplayObject"}return __extends(n,e),Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(t){this._setProperty("_x",t,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(t){this._setProperty("_y",t,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scaleX",{get:function(){return this._scaleX},set:function(t){this._setProperty("_scaleX",t,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scaleY",{get:function(){return this._scaleY},set:function(t){this._setProperty("_scaleY",t,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._setProperty("_rotation",t,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"alpha",{get:function(){return this._alpha},set:function(t){this._setProperty("_alpha",t,1)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"skewX",{get:function(){return this._skewX},set:function(t){this._setProperty("_skewX",t,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"skewY",{get:function(){return this._skewY},set:function(t){this._setProperty("_skewY",t,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"anchorX",{get:function(){return this._anchorX},set:function(t){this._setProperty("_anchorX",t,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"anchorY",{get:function(){return this._anchorY},set:function(t){this._setProperty("_anchorY",t,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visible",{get:function(){return this._visible},set:function(t){this._setProperty("_visible",t,0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"matrix",{get:function(){return this._matrix},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mask",{get:function(){return this._mask},set:function(t){t!=this.mask&&(this._mask=t,t&&(t._isUseToMask=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filters",{get:function(){return this._filters},set:function(t){this._setProperty("_filters",t,2)},enumerable:!0,configurable:!0}),n.prototype.globalToLocal=function(t,e){return void 0===e&&(e=null),this.cMatrix.invert().transformPoint(t.x,t.y,e)},n.prototype.localToGlobal=function(t,e){void 0===e&&(e=null);var n=this;return n.parent?n.parent.cMatrix.transformPoint(t.x,t.y,e):n.cMatrix.transformPoint(t.x,t.y,e)},n.prototype.startDrag=function(e,n){void 0===e&&(e=!1),void 0===n&&(n=null);var i=this;if(!i.stage)return void trace("The DisplayObject is not on stage");t.Stage._dragDisplay=i,i._isDragCenter=e,i._lastDragPoint.x=Number.MAX_VALUE,i._lastDragPoint.y=Number.MAX_VALUE,n?(i._dragBounds.x=n.x,i._dragBounds.y=n.y,i._dragBounds.width=n.width,i._dragBounds.height=n.height):(i._dragBounds.x=0,i._dragBounds.y=0,i._dragBounds.width=0,i._dragBounds.height=0)},n.prototype.stopDrag=function(){t.Stage._dragDisplay==this&&(t.Stage._dragDisplay=null)},n.prototype.hitTestPoint=function(t,e){void 0===e&&(e=!1);var i=this;if(!i.visible)return null;if(e&&!i.mouseEnable)return null;if(e){if(i.getBounds().isPointIn(i.globalToLocal(t,n._bp)))return i}else if(i.getBounds().isPointIn(t))return i;return null},n.prototype.getBounds=function(){return this._bounds},n.prototype.getDrawRect=function(){var e=this,i=e.getBounds();if(e._mask){var r=e._mask.getDrawRect();i.x<r.x&&(i.x=r.x),i.y<r.y&&(i.y=r.y),i.width>r.width&&(i.width=r.width),i.height>r.height&&(i.height=r.height)}return e.matrix.transformPoint(i.x,i.y,n._p1),e.matrix.transformPoint(i.x+i.width,i.y,n._p2),e.matrix.transformPoint(i.x+i.width,i.y+i.height,n._p3),e.matrix.transformPoint(i.x,i.y+i.height,n._p4),t.Rectangle.createFromPoints(e._drawRect,n._p1,n._p2,n._p3,n._p4),e._drawRect},n.prototype.update=function(t){void 0===t&&(t=!0);var e=this,n=e._UI;if(e._cp&&(n.UM=n.UA=n.UF=!0,e._cp=!1),n.UM&&e._matrix.createBox(e._x,e._y,e._scaleX,e._scaleY,e._rotation,e._skewX,e._skewY,e._anchorX,e._anchorY),e.parent){var i=e.parent._UI;i.UM&&(n.UM=!0),i.UA&&(n.UA=!0),i.UF&&(n.UF=!0)}if(n.UM&&(e.cMatrix.setFrom(e._matrix),e.parent&&e.cMatrix.prepend(e.parent.cMatrix)),n.UA&&(e.cAlpha=e._alpha,e.parent&&(e.cAlpha*=e.parent.cAlpha)),n.UF){e.cFilters.length=0;var r=e._filters;if(r)for(var o=r.length,a=0;a<o;a++)e.cFilters.push(r[a]);if(e.parent&&e.parent.cFilters.length>0)for(var o=e.parent.cFilters.length,s=e.parent.cFilters,a=o-1;a>=0;a--)e.cFilters.unshift(s[a])}e.hasEventListener("onEnterFrame")&&e.dispatchEvent("onEnterFrame")},n.prototype.render=function(t){var e=this,n=e.cFilters,i=n.length,r=-1;if(i)for(var o=0;o<i;o++)if("Shadow"==e.cFilters[o].type){r=o;break}if(r>=0){var a=t._ctx;a.shadowBlur=n[r].blur,a.shadowColor=n[r].color,a.shadowOffsetX=n[r].offsetX,a.shadowOffsetY=n[r].offsetY,t.draw(e),a.shadowBlur=0,a.shadowOffsetX=0,a.shadowOffsetY=0}else t.draw(e)},n.prototype._onDispatchBubbledEvent=function(t){var e=this;if("onRemoveToStage"!=t||e.stage){e.stage=e.parent.stage;var n=e._a2x_sounds,i=e._a2x_res_class;if("onRemoveToStage"==t){if(e.dispatchEvent(t),e.stage=null,n&&n.length>0)for(var r=0;r<n.length;r++)n[r].stop();"annie.MovieClip"==e._instanceType&&i&&i.tf>1&&(e._curFrame=1,e._lastFrame=0,e._isPlaying=!0,e._isFront=!0)}else if("onAddToStage"==t){if(n&&n.length>0&&"annie.Sprite"==e._instanceType)for(var r=0;r<n.length;r++)n[r].play(0);e.dispatchEvent(t)}}},Object.defineProperty(n.prototype,"width",{get:function(){return this.getWH().width},set:function(t){var e=this,n=e.width;if(t>0&&n>0){var i=t/n;e.scaleX*=i}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.getWH().height},set:function(t){var e=this,n=e.height;if(t>0&&n>0){var i=t/n;e.scaleY*=i}},enumerable:!0,configurable:!0}),n.prototype.getWH=function(){var t=this;t.update();var e=t.getDrawRect();return{width:e.width,height:e.height}},n.prototype._setProperty=function(t,e,n){var i=this;if(i[t]!=e){i[t]=e;var r=i._UI;0==n?r.UM=!0:1==n?r.UA=!0:2==n?r.UF=!0:3==n&&(r.UD=!0)}},n.prototype.addSound=function(t){var e=this;e._a2x_sounds||(e._a2x_sounds=[]);var n=e._a2x_sounds;return n.push(t),n.length-1},n.prototype.removeSound=function(t){var e=this,n=e._a2x_sounds;n&&(t>0?n.length>t&&n.splice(t,1):n.length=0)},n.prototype.destroy=function(){var t=this;t._a2x_sounds=null,t._a2x_res_obj=null,t.mask=null,t.filters=null,t.parent=null,t.stage=null,t._bounds=null,t._drawRect=null,t._dragBounds=null,t._lastDragPoint=null,t.cFilters=null,t._matrix=null,t.cMatrix=null,t._UI=null,t._texture=null,e.prototype.destroy.call(this)},n._bp=new t.Point,n._p1=new t.Point,n._p2=new t.Point,n._p3=new t.Point,n._p4=new t.Point,n._canvas=window.document.createElement("canvas"),n}(t.EventDispatcher);t.DisplayObject=e}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(t,n){void 0===t&&(t=null),void 0===n&&(n=null),e.call(this),this._bitmapData=null,this._realCacheImg=null,this.rect=null,this._isCache=!1,this.hitTestWidthPixel=!1;var i=this;i._instanceType="annie.Bitmap",i.rect=n,i.bitmapData=t}return __extends(n,e),Object.defineProperty(n.prototype,"bitmapData",{get:function(){return this._bitmapData},set:function(t){var e=this;e._setProperty("_bitmapData",t,3),t?(e._bounds.width=e.rect?e.rect.width:t.width,e._bounds.height=e.rect?e.rect.height:t.height):e._bounds.width=e._bounds.height=0},enumerable:!0,configurable:!0}),n.prototype.update=function(t){void 0===t&&(t=!1);var n=this;if(n._visible){e.prototype.update.call(this,t);var i=n._bitmapData;if((n._UI.UD||n._UI.UF)&&i){if(0==i.width||0==i.height)return;if(n._UI.UD=!1,n.cFilters.length>0){n._realCacheImg||(n._realCacheImg=window.document.createElement("canvas"));var r=n._realCacheImg,o=n.rect,a=o?o.width:i.width,s=o?o.height:i.height,l=a+20,u=s+20;r.width=l,r.height=u;var c=r.getContext("2d");c.clearRect(0,0,l,u),c.translate(10,10),c.shadowBlur=0,c.shadowColor="#0",c.shadowOffsetX=0,c.shadowOffsetY=0,o?c.drawImage(n._bitmapData,o.x,o.y,a,s,0,0,a,s):c.drawImage(n._bitmapData,0,0);var h=n.cFilters,d=h.length;if(d>0){for(var p=c.getImageData(0,0,l,u),f=0;f<d;f++)h[f].drawFilter(p);c.putImageData(p,0,0)}n._texture=n._realCacheImg,n._offsetX=-10,n._offsetY=-10,n._isCache=!0}else n._isCache=!1,n._offsetX=0,n._offsetY=0,n._texture=i;var _=void 0,v=void 0;n.rect?(_=n.rect.width,v=n.rect.height):(_=n._texture.width+2*n._offsetX,v=n._texture.height+2*n._offsetY),n._bounds.width=_,n._bounds.height=v}n._UI.UF=!1,n._UI.UM=!1,n._UI.UA=!1}},n.convertToImage=function(t,e){if(void 0===e&&(e=!0),t.rect){var n=window.document.createElement("canvas"),i=t.rect.width,r=t.rect.height;n.width=i,n.height=r;var o=n.getContext("2d"),a=t.rect;if(o.drawImage(t.bitmapData,a.x,a.y,i,r,0,0,i,r),e){var s=new Image;return s.src=n.toDataURL(),s}return n}return t.bitmapData},n.prototype.hitTestPoint=function(e,n){void 0===n&&(n=!1);var i=this;if(n&&!i.mouseEnable)return null;var r=i.globalToLocal(e);if(r.x+=i._offsetX,r.y+=i._offsetY,i.getBounds().isPointIn(r)){if(!i.hitTestWidthPixel)return i;var o=i._texture;if(!o||0==o.width||0==o.height)return null;var a=t.DisplayObject._canvas;a.width=1,a.height=1;var s=a.getContext("2d");if(s.clearRect(0,0,1,1),i.rect&&(r.x+=i.rect.x,r.y+=i.rect.y),s.setTransform(1,0,0,1,-r.x,-r.y),s.drawImage(o,0,0),s.getImageData(0,0,1,1).data[3]>0)return i}return null},n.prototype.destroy=function(){var t=this;t._bitmapData=null,t._realCacheImg=null,t.rect=null,e.prototype.destroy.call(this)},n}(t.DisplayObject);t.Bitmap=e}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(){e.call(this),this._command=[],this.hitTestWidthPixel=!0,this.beginRadialGradientFill=function(t,e){this._fill(n.getGradientColor(t,e))},this.beginRadialGradientStroke=function(t,e,i,r,o,a){void 0===i&&(i=1),void 0===r&&(r=0),void 0===o&&(o=0),void 0===a&&(a=10),this._stroke(n.getGradientColor(t,e),i,r,o,a)},this._isUseToMask=!1,this.decodePath=function(t){for(var e=this,n=["moveTo","lineTo","quadraticCurveTo","bezierCurveTo","closePath"],i=t.length,r=0;r<i;r++)0==t[r]||1==t[r]?(e.addDraw(n[t[r]],[t[r+1],t[r+2]]),r+=2):(e.addDraw(n[t[r]],[t[r+1],t[r+2],t[r+3],t[r+4]]),r+=4)},this._instanceType="annie.Shape",this._texture=window.document.createElement("canvas")}return __extends(n,e),n.getGradientColor=function(e,i){var r,o=t.DisplayObject._canvas.getContext("2d");r=4==e.length?o.createLinearGradient(e[0],e[1],e[2],e[3]):o.createRadialGradient(e[0],e[1],0,e[2],e[3],e[4]);for(var a=0,s=i.length;a<s;a++)r.addColorStop(i[a][0],n.getRGBA(i[a][1],i[a][2]));return r},n.getBitmapStyle=function(e){return t.DisplayObject._canvas.getContext("2d").createPattern(e,"repeat")},n.getRGBA=function(t,e){if(0==t.indexOf("0x")&&(t=t.replace("0x","#")),t.length<7&&(t="#000000"),1!=e){t="rgba("+parseInt("0x"+t.substr(1,2))+","+parseInt("0x"+t.substr(3,2))+","+parseInt("0x"+t.substr(5,2))+","+e+")"}return t},n.prototype.addDraw=function(t,e){var n=this;n._UI.UD=!0,n._command[n._command.length]=[1,t,e]},n.prototype.drawRoundRect=function(t,e,n,i,r,o,a,s){void 0===r&&(r=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0);var l=(n<i?n:i)/2,u=0,c=0,h=0,d=0;r<0&&(r*=u=-1),r>l&&(r=l),o<0&&(o*=c=-1),o>l&&(o=l),s<0&&(s*=h=-1),s>l&&(s=l),a<0&&(a*=d=-1),a>l&&(a=l);var p=this._command;p[p.length]=[1,"moveTo",[t+n-o,e]],p[p.length]=[1,"arcTo",[t+n+o*c,e-o*c,t+n,e+o,o]],p[p.length]=[1,"lineTo",[t+n,e+i-s]],p[p.length]=[1,"arcTo",[t+n+s*h,e+i+s*h,t+n-s,e+i,s]],p[p.length]=[1,"lineTo",[t+a,e+i]],p[p.length]=[1,"arcTo",[t-a*d,e+i+a*d,t,e+i-a,a]],p[p.length]=[1,"lineTo",[t,e+r]],p[p.length]=[1,"arcTo",[t-r*u,e-r*u,t+r,e,r]],p[p.length]=[1,"closePath",[]]},n.prototype.moveTo=function(t,e){this._command[this._command.length]=[1,"moveTo",[t,e]]},n.prototype.lineTo=function(t,e){this._command[this._command.length]=[1,"lineTo",[t,e]]},n.prototype.arcTo=function(t,e){this._command[this._command.length]=[1,"arcTo",[t,e]]},n.prototype.quadraticCurveTo=function(t,e,n,i){this._command[this._command.length]=[1,"quadraticCurveTo",[t,e,n,i]]},n.prototype.bezierCurveTo=function(t,e,n,i,r,o){this._command[this._command.length]=[1,"bezierCurveTo",[t,e,n,i,r,o]]},n.prototype.closePath=function(){this._command[this._command.length]=[1,"closePath",[]]},n.prototype.drawRect=function(t,e,n,i){var r=this._command;r[r.length]=[1,"moveTo",[t,e]],r[r.length]=[1,"lineTo",[t+n,e]],r[r.length]=[1,"lineTo",[t+n,e+i]],r[r.length]=[1,"lineTo",[t,e+i]],r[r.length]=[1,"closePath",[]]},n.prototype.drawArc=function(t,e,n,i,r){this._command[this._command.length]=[1,"arc",[t,e,n,i/180*Math.PI,r/180*Math.PI]]},n.prototype.drawCircle=function(t,e,n){this._command[this._command.length]=[1,"arc",[t,e,n,0,2*Math.PI]]},n.prototype.drawEllipse=function(t,e,n,i){var r=.5522848,o=n/2*r,a=i/2*r,s=t+n,l=e+i,u=t+n/2,c=e+i/2,h=this._command;h[h.length]=[1,"moveTo",[t,c]],h[h.length]=[1,"bezierCurveTo",[t,c-a,u-o,e,u,e]],h[h.length]=[1,"bezierCurveTo",[u+o,e,s,c-a,s,c]],h[h.length]=[1,"bezierCurveTo",[s,c+a,u+o,l,u,l]],h[h.length]=[1,"bezierCurveTo",[u-o,l,t,c+a,t,c]]},n.prototype.clear=function(){var t=this;t._command=[],t._UI.UD=!0,t._texture&&(t._texture.width=0,t._texture.height=0),t._offsetX=0,t._offsetY=0,t._bounds.width=0,t._bounds.height=0},n.prototype.beginFill=function(t){this._fill(t)},n.prototype.beginLinearGradientFill=function(t,e){this._fill(n.getGradientColor(t,e))},n.prototype.beginBitmapFill=function(t,e){var i=this;e&&(i._isBitmapFill=e),i._fill(n.getBitmapStyle(t))},n.prototype._fill=function(t){var e=this._command;e[e.length]=[0,"fillStyle",t],e[e.length]=[1,"beginPath",[]],this._UI.UD=!0},n.prototype.beginStroke=function(t,e,n,i,r){void 0===e&&(e=1),void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=0),this._stroke(t,e,n,i,r)},n.prototype.beginLinearGradientStroke=function(t,e,i,r,o,a){void 0===i&&(i=1),void 0===r&&(r=0),void 0===o&&(o=0),void 0===a&&(a=10),this._stroke(n.getGradientColor(t,e),i,r,o,a)},n.prototype.beginBitmapStroke=function(t,e,i,r,o,a){void 0===i&&(i=1),void 0===r&&(r=0),void 0===o&&(o=0),void 0===a&&(a=10);var s=this;e&&(s._isBitmapStroke=e),s._stroke(n.getBitmapStyle(t),i,r,o,a)},n.prototype._stroke=function(t,e,i,r,o){var a=this._command;a[a.length]=[0,"lineWidth",e],a[a.length]=[0,"lineCap",n._caps[i]],a[a.length]=[0,"lineJoin",n._joins[r]],a[a.length]=[0,"miterLimit",o],a[a.length]=[0,"strokeStyle",t],a[a.length]=[1,"beginPath",[]],this._UI.UD=!0},n.prototype.endFill=function(){var t=this,e=t._command,n=t._isBitmapFill;n&&(e[e.length]=[2,"setTransform",n]),e[e.length]=[1,"fill",[]],n&&(t._isBitmapFill=null)},n.prototype.endStroke=function(){var t=this,e=t._command,n=t._isBitmapStroke;n&&(e[e.length]=[2,"setTransform",n]),e[e.length]=[1,"stroke",[]],n&&(t._isBitmapStroke=null)},n.prototype.update=function(t){void 0===t&&(t=!1);var n=this;if(n._visible){if(e.prototype.update.call(this,t),n._UI.UD||n._UI.UF){var i=n._command.length,r=void 0,o=void 0,a=void 0,s=void 0,l=void 0;if(i>0){var u=void 0,c=0,h=0,d=0;for(l=0;l<i;l++)if(u=n._command[l],1==u[0]){if("moveTo"==u[1]||"lineTo"==u[1]||"arcTo"==u[1]||"bezierCurveTo"==u[1])void 0==r&&(r=u[2][0]),void 0==o&&(o=u[2][1]),void 0==a&&(a=u[2][0]),void 0==s&&(s=u[2][1]),"bezierCurveTo"==u[1]?(r=Math.min(r,u[2][0],u[2][2],u[2][4]),o=Math.min(o,u[2][1],u[2][3],u[2][5]),a=Math.max(a,u[2][0],u[2][2],u[2][4]),s=Math.max(s,u[2][1],u[2][3],u[2][5]),c=u[2][4],h=u[2][5]):(r=Math.min(r,u[2][0]),o=Math.min(o,u[2][1]),a=Math.max(a,u[2][0]),s=Math.max(s,u[2][1]),c=u[2][0],h=u[2][1]);else if("quadraticCurveTo"==u[1]){var p=.5*(c+u[2][0]),f=.5*(h+u[2][1]),_=.5*(u[2][0]+u[2][2]),v=.5*(u[2][1]+u[2][3]);void 0==r&&(r=p),void 0==o&&(o=f),void 0==a&&(a=p),void 0==s&&(s=f),r=Math.min(r,p,_,u[2][2]),o=Math.min(o,f,v,u[2][3]),a=Math.max(a,p,_,u[2][2]),s=Math.max(s,f,v,u[2][3]),c=u[2][2],h=u[2][3]}else if("arc"==u[1]){var y=u[2][0],g=u[2][1],m=u[2][2],b=y-m,x=g-m,w=y+m,E=g+m;void 0==r&&(r=b),void 0==o&&(o=x),void 0==a&&(a=w),void 0==s&&(s=E),r=Math.min(r,b),o=Math.min(o,x),a=Math.max(a,w),s=Math.max(s,E)}}else"lineWidth"==u[1]&&d<u[2]&&(d=u[2]);if(void 0!=r||d>0){void 0==r&&(r=0,o=0),r-=20+d>>1,o-=20+d>>1,a+=20+d>>1,s+=20+d>>1;var T=a-r,P=s-o;if(n._offsetX=r,n._offsetY=o,n._bounds.x=r+10,n._bounds.y=o+10,n._bounds.width=T-20,n._bounds.height=P-20,!n._isUseToMask){var M=n._texture,O=M.getContext("2d");M.width=T,M.height=P,O.clearRect(0,0,T,P),O.setTransform(1,0,0,1,-r,-o),n._drawShape(O);var L=n.cFilters,C=L.length;if(C>0){for(var D=O.getImageData(0,0,T,P),S=0;S<C;S++)L[S].drawFilter(D);O.putImageData(D,0,0)}}}}n._UI.UD=!1}n._UI.UM=!1,n._UI.UA=!1,n._UI.UF=!1}},n.prototype._drawShape=function(t){for(var e,n=this,i=n._command,r=i.length,o=n._offsetX,a=n._offsetY,s=0;s<r;s++)if(e=i[s],e[0]>0){var l=e[2].length;if(0==l)t[e[1]]();else if(2==l)t[e[1]](e[2][0],e[2][1]);else if(4==l)t[e[1]](e[2][0],e[2][1],e[2][2],e[2][3]);else if(5==l)t[e[1]](e[2][0],e[2][1],e[2][2],e[2][3],e[2][4]);else if(6==l){var u=e[2][4],c=e[2][5];2==e[0]&&(u-=o,c-=a),t[e[1]](e[2][0],e[2][1],e[2][2],e[2][3],u,c)}}else t[e[1]]=e[2]},n.prototype.hitTestPoint=function(e,n){void 0===n&&(n=!1);var i=this;if(n&&!i.mouseEnable)return null;var r=e;if(n&&(r=i.globalToLocal(e)),i.getBounds().isPointIn(r)){if(i._isUseToMask||!i.hitTestWidthPixel)return i;var o=i._texture;if(!o||0==o.width||0==o.height)return null;var a=t.DisplayObject._canvas;a.width=1,a.height=1,r.x-=i._offsetX,r.y-=i._offsetY;var s=a.getContext("2d");if(s.clearRect(0,0,1,1),s.setTransform(1,0,0,1,-r.x,-r.y),s.drawImage(o,0,0),s.getImageData(0,0,1,1).data[3]>0)return i}return null},n.prototype.changeColor=function(t){for(var e=this,n=e._command.length,i=e._command,r=0;r<n;r++)0==i[r][0]&&("fillStyle"==i[r][1]&&t.fillColor&&i[r][2]!=t.fillColor&&(i[r][2]=t.fillColor,e._UI.UD=!0),"strokeStyle"==i[r][1]&&t.strokeColor&&i[r][2]!=t.strokeColor&&(i[r][2]=t.strokeColor,e._UI.UD=!0),"lineWidth"==i[r][1]&&t.lineWidth&&i[r][2]!=t.lineWidth&&(i[r][2]=t.lineWidth,e._UI.UD=!0))},n.prototype.render=function(t){this._isUseToMask||e.prototype.render.call(this,t)},n.prototype.destroy=function(){var t=this;t._command=null,t._isBitmapStroke=null,t._isBitmapFill=null,e.prototype.destroy.call(this)},n._caps=["butt","round","square"],n._joins=["miter","round","bevel"],n}(t.DisplayObject);t.Shape=e}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(){e.call(this),this._a2x_res_class=null,this._a2x_res_children=[],this.mouseChildren=!0,this.children=[],this._instanceType="annie.Sprite"}return __extends(n,e),n.prototype.destroy=function(){for(var t=this,n=0;n<t.children.length;n++)t.children[n].destroy();t._a2x_res_children=null,t._a2x_res_class=null,t.children=null,e.prototype.destroy.call(this)},Object.defineProperty(n.prototype,"cacheAsBitmap",{get:function(){return this._cacheAsBitmap},set:function(e){var n=this;n._texture||(n._texture=new Image),e?n._texture.src=t.toDisplayDataURL(n):(n._texture.src="",n._offsetX=0,n._offsetY=0),n._cacheAsBitmap=e},enumerable:!0,configurable:!0}),n.prototype.addChild=function(t){this.addChildAt(t,this.children.length)},n.prototype.removeChild=function(t){for(var e=this,n=e.children.length,i=0;i<n;i++)if(e.children[i]==t){e.removeChildAt(i);break}},n._getElementsByName=function(t,e,i,r,o){var a=e.children.length;if(a>0)for(var s,l=void 0,u=0;u<a;u++){if(l=e.children[u],(s=l.name)&&""!=s&&t.test(s)&&(o[o.length]=l,i))return;r&&null!=l.children&&n._getElementsByName(t,l,i,r,o)}},n.prototype.getChildByName=function(t,e,i){if(void 0===e&&(e=!0),void 0===i&&(i=!1),!t)return null;var r,o=this;r="string"==typeof t?new RegExp("^"+t+"$"):t;var a=[];n._getElementsByName(r,o,e,i,a);var s=a.length;return 0==s?null:1==s?a[0]:a},n.prototype.addChildAt=function(t,e){if(t){var n,i=this,r=i==t.parent;if(t.parent)if(r){n=i.children.length;for(var o=0;o<n;o++)if(i.children[o]==t){i.children.splice(o,1);break}}else t.parent.removeChild(t);t.parent=i,n=i.children.length,e>=n?i.children[i.children.length]=t:0==e?i.children.unshift(t):i.children.splice(e,0,t),i.stage&&!r&&(t._cp=!0,t._onDispatchBubbledEvent("onAddToStage"))}},n.prototype.getChildAt=function(t){return this.children.length-1>=t?this.children[t]:null},n.prototype.getChildIndex=function(t){for(var e=this,n=e.children.length,i=0;i<n;i++)if(e.children[i]==t)return i;return-1},n.prototype.swapChild=function(t,e){var n=this,i=-1,r=-1,o=n.children.length;if(i="number"==typeof t?t:n.getChildIndex(t),r="number"==typeof e?e:n.getChildIndex(e),i==r||i<0||i>=o||r<0||r>=o)return!1;var a=n.children[i];return n.children[i]=n.children[r],n.children[r]=a,!0},n.prototype._onDispatchBubbledEvent=function(t){var n=this,i=n.children.length;if("onRemoveToStage"!=t||n.stage){n.stage=n.parent.stage;for(var r=0;r<i;r++)n.children[r]._onDispatchBubbledEvent(t);e.prototype._onDispatchBubbledEvent.call(this,t)}},n.prototype.removeChildAt=function(t){var e,n=this,i=n.children.length-1;i<0||(e=t==i?n.children.pop():0==t?n.children.shift():n.children.splice(t,1)[0],e._onDispatchBubbledEvent("onRemoveToStage"),e.parent=null)},n.prototype.removeAllChildren=function(){for(var t=this,e=t.children.length,n=e-1;n>=0;n--)t.removeChildAt(0)},n.prototype.update=function(t){void 0===t&&(t=!0);var n=this;if(n._visible&&!n._cacheAsBitmap){e.prototype.update.call(this,t);for(var i=n.children.length,r=i-1;r>=0;r--)n.children[r].update(t);n._UI.UM=!1,n._UI.UA=!1,n._UI.UF=!1}},n.prototype.hitTestPoint=function(e,n){void 0===n&&(n=!1);var i=this;if(!i._visible)return null;if(n&&!i.mouseEnable)return null;if(i._cacheAsBitmap){var r=i.globalToLocal(e),o=i._texture;if(!o||0==o.width||0==o.height)return null
;var a=t.DisplayObject._canvas;a.width=1,a.height=1,r.x-=i._offsetX,r.y-=i._offsetY;var s=a.getContext("2d");if(s.clearRect(0,0,1,1),s.setTransform(1,0,0,1,-r.x,-r.y),s.drawImage(o,0,0),s.getImageData(0,0,1,1).data[3]>0)return i}else for(var l=i.children.length,u=void 0,c=void 0,h=l-1;h>=0;h--)if(c=i.children[h],!c._isUseToMask&&(!c.mask||c.mask.parent!=c.parent||c.mask.hitTestPoint(e,n))&&(u=c.hitTestPoint(e,n)))return u;return null},n.prototype.getBounds=function(){var e=this,n=e._bounds;if(n.x=0,n.y=0,n.width=0,n.height=0,e._cacheAsBitmap)e._texture&&(n.x=e._offsetX,n.y=e._offsetY,n.width=e._texture.width,n.height=e._texture.height);else{var i=e.children.length;if(i>0){for(var r=0;r<i;r++)e.children[r].visible&&t.Rectangle.createFromRects(n,e.children[r].getDrawRect());if(e.mask&&e.mask.parent==e.parent){var o=e.mask.getDrawRect();n.x<o.x&&(n.x=o.x),n.y<o.y&&(n.y=o.y),n.width>o.width&&(n.width=o.width),n.height>o.height&&(n.height=o.height)}}}return n},n.prototype.render=function(t){var n=this;if(!n._cp)if(n._cacheAsBitmap)e.prototype.render.call(this,t);else if(n.cAlpha>0&&n._visible){for(var i=void 0,r=void 0,o=n.children.length,a=0;a<o;a++)r=n.children[a],r.cAlpha>0&&r._visible&&(i?r.mask&&r.mask.parent==r.parent?r.mask!=i&&(t.endMask(),i=r.mask,t.beginMask(i)):(t.endMask(),i=null):r.mask&&r.mask.parent==r.parent&&(i=r.mask,t.beginMask(i)),r.render(t));i&&t.endMask()}},n}(t.DisplayObject);t.Sprite=e}(annie||(annie={}));var annie;!function(t){var e=function(t){function e(e,n){t.call(this),this.media=null,this.type="",this.isPlaying=!1,this._loop=1,this._repeate=1;var i=this;i._instanceType="annie.Media","string"==typeof e?(i.media=document.createElement(n),i.media.src=e):i.media=e,i._SBWeixin=i._weixinSB.bind(i),i.media.addEventListener("ended",function(){(i._loop=-1)?i.play(0):(i._loop--,i._loop>0?i.play(0,i._loop):i.stop()),i.dispatchEvent("onPlayEnd")}.bind(i)),i.type=n.toLocaleUpperCase(),i.media.addEventListener("timeupdate",function(){i.dispatchEvent("onPlayUpdate",{currentTime:i.media.currentTime})}),i.media.addEventListener("play",function(){i.dispatchEvent("onPlayStart")})}return __extends(e,t),e.prototype.play=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this;0==e?n._loop=this._repeate:(n._loop=e,n._repeate=e);try{n.media.currentTime=t}catch(t){trace(t)}var i=window;if(i.WeixinJSBridge)try{i.WeixinJSBridge.invoke("getNetworkType",{},n._SBWeixin)}catch(t){n.media.play()}else n.media.play();n.isPlaying=!0},e.prototype._weixinSB=function(){this.media.play()},e.prototype.stop=function(){var t=this;t.media.pause(),t.media.currentTime=0,t.isPlaying=!1},e.prototype.pause=function(t){void 0===t&&(t=!0);var e=this;t?(e.media.pause(),e.isPlaying=!1):(e.media.play(),e.isPlaying=!0)},Object.defineProperty(e.prototype,"volume",{get:function(){return this.media.volume},set:function(t){var e=this;e.media.volume=t,e.media.muted=0==t},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){var e=this;e.media.pause(),e.media=null,t.prototype.destroy.call(this)},e}(t.EventDispatcher);t.Media=e}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(i){e.call(this,i,"Audio");var r=this;r._instanceType="annie.Sound",t.Sound._soundList.push(r),r.volume=n._volume}return __extends(n,e),n.prototype.destroy=function(){for(var n=t.Sound._soundList.length,i=n-1;i>=0;i--)t.Sound._soundList[i]&&t.Sound._soundList[i]!=this||t.Sound._soundList.splice(i,1);e.prototype.destroy.call(this)},n.prototype.stop2=function(){var t=this;t.isPlaying&&t.media.pause()},n.prototype.play2=function(){var t=this;t.isPlaying&&t.media.play()},n.stopAllSounds=function(){for(var e=t.Sound._soundList.length,n=e-1;n>=0;n--)t.Sound._soundList[n]?t.Sound._soundList[n].stop2():t.Sound._soundList.splice(n,1)},n.resumePlaySounds=function(){for(var e=t.Sound._soundList.length,n=e-1;n>=0;n--)t.Sound._soundList[n]?t.Sound._soundList[n].play2():t.Sound._soundList.splice(n,1)},n.setAllSoundsVolume=function(e){for(var i=t.Sound._soundList.length,r=i-1;r>=0;r--)t.Sound._soundList[r]?t.Sound._soundList[r].volume=e:t.Sound._soundList.splice(r,1);n._volume=e},n._soundList=[],n._volume=1,n}(t.Media);t.Sound=e}(annie||(annie={}));var annie;!function(t){var e=function(t){function e(e,n,i){void 0===n&&(n=0),void 0===i&&(i=0),t.call(this,e,"Video");var r=this;r._instanceType="annie.Video",r.media.setAttribute("playsinline","true"),r.media.setAttribute("webkit-playsinline","true"),r.media.setAttribute("x-webkit-airplay","true"),r.media.setAttribute("x5-video-player-type","h5"),r.media.poster="",r.media.preload="auto",r.media.controls=!1,n&&i&&(r.media.width=n,r.media.height=i)}return __extends(e,t),e}(t.Media);t.Video=e}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(){e.call(this),this._curFrame=1,this._lastFrameObj=null,this._isPlaying=!0,this._isFront=!0,this._lastFrame=0,this._a2x_script=null,this._isButton=!1,this._clicked=!1,this._maskList=[];var t=this;t._instanceType="annie.MovieClip",null==t._a2x_res_class&&(t._a2x_res_class={tf:1})}return __extends(n,e),Object.defineProperty(n.prototype,"currentFrame",{get:function(){return this._curFrame},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isPlaying",{get:function(){return this._isPlaying},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isFront",{get:function(){return this._isFront},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"totalFrames",{get:function(){return this._a2x_res_class.tf},enumerable:!0,configurable:!0}),n.prototype.stop=function(){this._isPlaying=!1},n.prototype.addFrameScript=function(t,e){var n=this;void 0==n._a2x_script&&(n._a2x_script={}),n._a2x_script[t]=e},n.prototype.removeFrameScript=function(t){var e=this;void 0!=e._a2x_script&&(e._a2x_script[t]=null)},Object.defineProperty(n.prototype,"isButton",{get:function(){return this._isButton},enumerable:!0,configurable:!0}),n.prototype.initButton=function(){var t=this;!t._isButton&&t._a2x_res_class.tf>1&&(t.mouseChildren=!1,t.addEventListener("onMouseDown",t._mouseEvent.bind(t)),t.addEventListener("onMouseUp",t._mouseEvent.bind(t)),t.addEventListener("onMouseOut",t._mouseEvent.bind(t)),t.gotoAndStop(1),t._isButton=!0)},Object.defineProperty(n.prototype,"clicked",{get:function(){return this._clicked},set:function(t){var e=this;t!=e._clicked&&(t&&e._mouseEvent({type:"onMouseDown"}),e._clicked=t)},enumerable:!0,configurable:!0}),n.prototype._mouseEvent=function(t){var e=this;if(!e._clicked){var n=2;"onMouseDown"==t.type?e._curFrame>2&&(n=3):n=1,e.gotoAndStop(n)}},n.prototype.getCurrentLabel=function(){var t=this;return t._a2x_res_class.tf>1&&t._a2x_res_class.l[t._curFrame-1]?t._a2x_res_class.l[t._curFrame-1]:null},n.prototype.nextFrame=function(){var t=this;t._curFrame<t.totalFrames&&t._curFrame++,t._isPlaying=!1},n.prototype.prevFrame=function(){var t=this;t._curFrame>1&&t._curFrame--,t._isPlaying=!1},n.prototype.gotoAndStop=function(t){var e=this;e._isPlaying=!1;var n=e._a2x_res_class;"string"==typeof t?t=void 0!=n.label[t]?n.label[t]:e._curFrame:"number"==typeof t&&(t>n.tf&&(t=n.tf),t<1&&(t=1)),e._curFrame=t},n.prototype.play=function(t){void 0===t&&(t=!0);var e=this;e._isPlaying=!0,e._isFront=t},n.prototype.gotoAndPlay=function(t,e){void 0===e&&(e=!0);var n=this;n._isFront=e,n._isPlaying=!0;var i=n._a2x_res_class;"string"==typeof t?t=void 0!=i.label[t]?i.label[t]:n._curFrame:"number"==typeof t&&(t>i.tf&&(t=i.tf),t<1&&(t=1)),n._curFrame=t},n.prototype.update=function(n){void 0===n&&(n=!0);var i=this;if(!i._cacheAsBitmap&&n&&i._a2x_res_class.tf>1){var r=!1;if(i._lastFrame!=i._curFrame?(r=!0,i._lastFrame=i._curFrame):i._isPlaying&&(r=!0,i._isFront?++i._curFrame>i._a2x_res_class.tf&&(i._curFrame=1):--i._curFrame<1&&(i._curFrame=i._a2x_res_class.tf),i._lastFrame=i._curFrame),r){var o=i._a2x_res_children,a=i._a2x_res_class,s=null,l=i._lastFrameObj;if(a.timeLine[i._curFrame-1]>=0&&(s=a.f[a.timeLine[i._curFrame-1]]),l!=s){if(l){var u=null;u=l.c?l.c:{};var c=null;c=s&&s.c?s.c:{};for(var h in u)void 0==c[h]&&i.removeChild(o[u[h].o-1]);for(var h in c)if(void 0==u[h])if(void 0==c[h].at)i.addChildAt(o[c[h].o-1],0);else if(0==c[h].at)i.addChild(o[c[h].o-1]);else for(var d=0;d<i.children.length;d++)if(i.children[d]==o[c[h].at-1]){i.addChildAt(o[c[h].o-1],d);break}}else if(s.c)for(var d in s.c)i.addChildAt(o[s.c[d].o-1],0);if(s){i._maskList.length=0;var p=i._maskList;if(s.c)for(var d in s.c)t.d(o[s.c[d].o-1],s.c[d]),void 0!=s.c[d].ma&&(s.c[d].ma!=s.c[d].o&&p.push(o[s.c[d].ma-1],o[s.c[d].o-1]),o[s.c[d].o-1]._isUseToMask=!0),void 0!=s.c[d].n&&(i[s.c[d].n]=o[s.c[d].o-1],o[s.c[d].o-1].name=s.c[d].n);if(p.length>0)for(var f=!1,d=0;d<i.children.length;d++){if(i.children[d]==p[0])f=!0;else if(i.children[d]==p[1]&&(f=!1,p.splice(0,2),0==p.length))break;f&&(i.children[d].mask=p[1])}}}i._lastFrameObj=s;var _=i._curFrame-1,v=a.s[_];if(v)for(var y in v)o[y-1]._repeatCount=v[y],o[y-1].play();var g=!1;if(i._a2x_script&&void 0!=(v=i._a2x_script[_])&&(null!=v&&v(),g=!0),g||(v=a.a[_])&&i[v[0]](v[1]),i.hasEventListener(t.Event.CALL_FRAME)&&(v=a.e[_]))for(var d=0;d<v.length;d++)i.dispatchEvent(t.Event.CALL_FRAME,{frameIndex:i._curFrame,frameName:v[d]});(1==i._curFrame&&!i._isFront||i._curFrame==i._a2x_res_class.tf&&i._isFront)&&i.hasEventListener(t.Event.END_FRAME)&&i.dispatchEvent(t.Event.END_FRAME,{frameIndex:i._curFrame,frameName:"endFrame"})}}e.prototype.update.call(this,n)},n.prototype.destroy=function(){var t=this;t._lastFrameObj=null,t._a2x_script=null,t._maskList=null,e.prototype.destroy.call(this)},n}(t.Sprite);t.MovieClip=e}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(){e.call(this),this.htmlElement=null,this._isAdded=!1;var n=this;n._instanceType="annie.FloatDisplay",n.addEventListener(t.Event.REMOVE_TO_STAGE,function(t){n.htmlElement&&(n.htmlElement.style.display="none")}),n.addEventListener(t.Event.ADD_TO_STAGE,function(t){if(n.htmlElement){var e=n.htmlElement.style;n._isAdded?n.htmlElement&&n.visible&&(e.display="block"):(n._isAdded=!0,n.stage.rootDiv.insertBefore(n.htmlElement,n.stage.rootDiv.childNodes[0]),n.stage._floatDisplayList.push(n))}})}return __extends(n,e),n.prototype.init=function(t){var e,n=this;e="string"==typeof t?document.getElementById(t):"annie.Video"==t._instanceType?t.media:t;var i=e.style;i.position="absolute",i.display="none",i.transformOrigin=i.WebkitTransformOrigin="0 0 0";var r=n.getStyle(e,"width"),o=n.getStyle(e,"height"),a=0,s=0;r.indexOf("px")&&(a=parseInt(r)),o.indexOf("px")&&(s=parseInt(o)),n._bounds.width=a,n._bounds.height=s,n.htmlElement=e},n.prototype.getStyle=function(t,e){if(t.style[e])return t.style[e];if(document.defaultView&&document.defaultView.getComputedStyle){e=e.replace(/([A-Z])/g,"-$1"),e=e.toLowerCase();var n=document.defaultView.getComputedStyle(t,"");return n&&n.getPropertyValue(e)}return null},n.prototype.updateStyle=function(){var e=this,n=e.htmlElement;if(n){var i=n.style,r=e._visible;if(r)for(var o=e.parent;o;){if(!o._visible){r=!1;break}o=o.parent}var a=r?"block":"none";if(a!=i.display&&(i.display=a),r||e._UI.UM||e._UI.UA||e._UI.UF){if(e._UI.UM){var s=e.cMatrix,l=t.devicePixelRatio;i.transform=i.webkitTransform="matrix("+(s.a/l).toFixed(4)+","+(s.b/l).toFixed(4)+","+(s.c/l).toFixed(4)+","+(s.d/l).toFixed(4)+","+(s.tx/l).toFixed(4)+","+(s.ty/l).toFixed(4)+")"}e._UI.UA&&(i.opacity=e.cAlpha),e._UI.UF=!1,e._UI.UM=!1,e._UI.UA=!1}}},n.prototype.destroy=function(){var t=this,n=t.htmlElement;n&&(n.style.display="none",n.parentNode&&n.parentNode.removeChild(n),t._isAdded=!1,t.htmlElement=null);for(var i=t.stage._floatDisplayList,r=i.length,o=0;o<r;o++)if(i[o]==t){i.splice(o,1);break}e.prototype.destroy.call(this)},n}(t.DisplayObject);t.FloatDisplay=e}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(){e.call(this),this._textAlign="left",this._textAlpha=1,this._textHeight=0,this._lineSpacing=14,this._textWidth=120,this._lineType="single",this._text="",this._font="Arial",this._size=12,this._color="#fff",this._italic=!1,this._bold=!1,this._border=!1,this.realLines=[],this._instanceType="annie.TextField",this._texture=window.document.createElement("canvas")}return __extends(n,e),Object.defineProperty(n.prototype,"textAlign",{get:function(){return this._textAlign},set:function(t){this._setProperty("_textAlign",t,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textAlpha",{get:function(){return this._textAlpha},set:function(t){this._setProperty("_textAlpha",t,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textHeight",{get:function(){return this._textHeight},set:function(t){this._setProperty("_textHeight",t,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineSpacing",{get:function(){return this._lineSpacing},set:function(t){this._setProperty("_lineSpacing",t,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textWidth",{get:function(){return this._textWidth},set:function(t){this._setProperty("_textWidth",t,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineType",{get:function(){return this._lineType},set:function(t){this._setProperty("_lineType",t,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){return this._text},set:function(t){this._setProperty("_text",t,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"font",{get:function(){return this._font},set:function(t){this._setProperty("_font",t,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this._size},set:function(t){this._setProperty("_size",t,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"color",{get:function(){return this._color},set:function(t){this._setProperty("_color",t,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"italic",{get:function(){return this._italic},set:function(t){this._setProperty("_italic",t,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bold",{get:function(){return this._bold},set:function(t){this._setProperty("_bold",t,3)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"border",{get:function(){return this._border},set:function(t){this._setProperty("_border",t,3)},enumerable:!0,configurable:!0}),n.prototype._prepContext=function(e){var n=this,i=n.size||12;i+="px ",i+=n.font,n._bold&&(i="bold "+i),n._italic&&(i="italic "+i),e.font=i,e.textAlign=n._textAlign||"left",e.textBaseline="top",e.fillStyle=t.Shape.getRGBA(n._color,n._textAlpha)},n.prototype.getTextWidth=function(t){void 0===t&&(t=0);var e=this;return e.update(),e._texture.getContext("2d").measureText(e.realLines[t]).width},Object.defineProperty(n.prototype,"lines",{get:function(){return this.realLines.length},enumerable:!0,configurable:!0}),n.prototype._getMeasuredWidth=function(t){return this._texture.getContext("2d").measureText(t).width},n.prototype.update=function(t){void 0===t&&(t=!1),e.prototype.update.call(this,t);var n=this;if(n._visible){if(n._UI.UD||n._UI.UF){n._text+="";var i=n._texture,r=i.getContext("2d"),o=n._text.toString().split(/(?:\r\n|\r|\n)/),a=[];n.realLines=a,n._prepContext(r);var s=n._lineSpacing;if(n._text.indexOf("\n")<0&&"single"==n.lineType){a[a.length]=o[0];var l=o[0];if(n._getMeasuredWidth(l)>n._textWidth)for(var u=n._getMeasuredWidth(l[0]),c=l[0],h=0,d=l.length,p=1;p<d;p++){if(h=r.measureText(l[p]).width,(u+=h)>n._textWidth){a[0]=c;break}c+=l[p]}}else for(var f=0,_=o.length;f<_;f++){var l=o[f];if(l){for(var u=n._getMeasuredWidth(l[0]),c=l[0],h=0,d=l.length,p=1;p<d;p++)h=r.measureText(l[p]).width,u+=h,u>n._textWidth?(a[a.length]=c,c=l[p],u=h):c+=l[p];a[a.length]=c}}var v=s*a.length,y=n._textWidth,g=0;"center"==n._textAlign?g=.5*y:"right"==n._textAlign&&(g=y),i.width=y+20,i.height=v+20,r.clearRect(0,0,i.width,i.width),n.border&&(r.beginPath(),r.strokeStyle="#000",r.lineWidth=1,r.strokeRect(10.5,10.5,y,v),r.closePath()),r.setTransform(1,0,0,1,g+10,10),n._prepContext(r);for(var f=0;f<a.length;f++)r.fillText(a[f],0,f*s,y);var m=n.cFilters,b=m.length;if(b>0){for(var x=r.getImageData(0,0,y,v),f=0;f<b;f++)m[f].drawFilter(x);r.putImageData(x,0,0)}n._offsetX=-10,n._offsetY=-10,n._UI.UD=!1,n._bounds.height=v,n._bounds.width=y}n._UI.UM=!1,n._UI.UA=!1,n._UI.UF=!1}},n.prototype.getBounds=function(){return this._bounds},n}(t.DisplayObject);t.TextField=e}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(i){void 0===i&&(i=0),e.call(this),this.inputType=0,this.isAutoDownKeyBoard=!0;var r=null,o=this;o._instanceType="annie.InputText",i<2?(r=document.createElement("input"),r.type=n._inputTypeList[i]):(r=document.createElement("textarea"),r.style.resize="none",r.style.overflow="hidden"),o.inputType=i;var a=function(){o.isAutoDownKeyBoard&&"pc"!=t.osType&&o.htmlElement&&o.htmlElement.blur()}.bind(o);o.addEventListener(t.Event.REMOVE_TO_STAGE,function(e){o.stage.removeEventListener(t.MouseEvent.MOUSE_UP,a)}),o.addEventListener(t.Event.ADD_TO_STAGE,function(e){o.stage.addEventListener(t.MouseEvent.MOUSE_UP,a)}),o.init(r)}return __extends(n,e),n.prototype.init=function(t){e.prototype.init.call(this,t);var n=this;n.htmlElement.style.outline="none",n.htmlElement.style.borderWidth="thin",n.htmlElement.style.borderColor="#000"},n.prototype.initInfo=function(t,e,n,i,r,o,a){var s=this;s.htmlElement.placeholder=t,s.htmlElement.style.font=i+"px "+r,s.htmlElement.style.color=e,s.htmlElement.style.textAlign=n,s.border=o,2==s.inputType&&(s.htmlElement.style.lineHeight=a+"px")},Object.defineProperty(n.prototype,"lineSpacing",{get:function(){return parseInt(this.htmlElement.style.lineHeight)},set:function(t){this.htmlElement.style.lineHeight=t+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bold",{get:function(){return"bold"==this.htmlElement.style.fontWeight},set:function(t){var e=this.htmlElement.style;e.fontWeight=t?"bold":"normal"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"italic",{get:function(){return"italic"==this.htmlElement.style.fontStyle},set:function(t){var e=this.htmlElement.style;e.fontStyle=t?"italic":"normal"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textHeight",{get:function(){return parseInt(this.htmlElement.style.height)},set:function(t){this.htmlElement.style.height=t+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textWidth",{get:function(){return parseInt(this.htmlElement.style.width)},set:function(t){this.htmlElement.style.width=t+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"color",{get:function(){return this.htmlElement.style.color},set:function(t){this.htmlElement.style.color=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"border",{get:function(){return"none"!=this.htmlElement.style.borderStyle},set:function(t){var e=this;t?(e.htmlElement.style.borderStyle="inset",e.htmlElement.style.backgroundColor="#fff"):(e.htmlElement.style.borderStyle="none",e.htmlElement.style.backgroundColor="transparent")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){var t=this;if(t.htmlElement)return t.htmlElement.value},set:function(t){var e=this;e.htmlElement&&(e.htmlElement.value=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxCharacters",{get:function(){var t=this.htmlElement.getAttribute("maxlength");return null===t?0:t},set:function(t){this.htmlElement.setAttribute("maxlength",t)},enumerable:!0,configurable:!0}),n._inputTypeList=["input","password","textarea"],n}(t.FloatDisplay);t.InputText=e}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(i,r,o,a,s,l){void 0===i&&(i="annieEngine"),void 0===r&&(r=640),void 0===o&&(o=1040),void 0===a&&(a=30),void 0===s&&(s="fixedHeight"),void 0===l&&(l=0),e.call(this),this.iosTouchendPreventDefault=!0,this.isPreventDefaultEvent=!0,this.rootDiv=null,this.renderObj=null,this.renderType=0,this.viewRect=new t.Rectangle,this.isMultiTouch=!1,this.isMultiMouse=!1,this.autoSteering=!1,this.autoResize=!1,this.desWidth=0,this.desHeight=0,this.divHeight=0,this.divWidth=0,this.bgColor="",this._scaleMode="onScale",this._flush=0,this._currentFlush=0,this._lastDpList={},this._rid=-1,this._floatDisplayList=[],this._ml=[],this._mp=[],this._mouseDownPoint={},this._mouseEventTypes={mousedown:"onMouseDown",mouseup:"onMouseUp",mousemove:"onMouseMove",touchstart:"onMouseDown",touchmove:"onMouseMove",touchend:"onMouseUp"},this.muliPoints=[],this._mP1=new t.Point,this._mP2=new t.Point,this.resize=function(){var t=this,e=t.getRootDivWH(t.rootDiv);t._UI.UM=!0,t.divHeight=e.h,t.divWidth=e.w,t.renderObj.reSize(),t.setAlign(),t.update()};var u=this;this._instanceType="annie.Stage",t.Stage._stageList[i]=u,u.stage=this;u.name="stageInstance_"+u.instanceId;var c=document.getElementById(i);u.renderType=l,u.desWidth=r,u.desHeight=o,u.rootDiv=c,u.setFrameRate(a),u._scaleMode=s,u.anchorX=r>>1,u.anchorY=o>>1,u.renderObj=new t.CanvasRender(u),u.renderObj.init(),window.addEventListener("resize",function(e){clearTimeout(u._rid),u._rid=setTimeout(function(){u.autoResize&&u.resize();var e=new t.Event("onResize");u.dispatchEvent(e)},300)}),setTimeout(function(){if(u.resize(),n.addUpdateObj(u),t.debug&&!n._isLoadedVConsole){var e=document.createElement("script");e.onload=function(){u.dispatchEvent(new t.Event("onInitStage")),e.onload=null},document.head.appendChild(e),e.src="libs/vConsole.min.js"}else u.dispatchEvent(new t.Event("onInitStage"))},100);var h=u.rootDiv,d=u.onMouseEvent.bind(u);"pc"!=t.osType?(h.addEventListener("touchstart",d,!1),h.addEventListener("touchmove",d,!1),h.addEventListener("touchend",d,!1)):(h.addEventListener("mousedown",d,!1),h.addEventListener("mousemove",d,!1),h.addEventListener("mouseup",d,!1))}return __extends(n,e),n.getStage=function(e){return void 0===e&&(e="annieEngine"),t.Stage._stageList[e]},Object.defineProperty(n,"pause",{get:function(){return this._pause},set:function(e){this._pause=e,e!=this._pause&&(e?t.Sound.stopAllSounds():t.Sound.resumePlaySounds(),t.globalDispatcher.dispatchEvent("onStagePause",{pause:e}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(t){var e=this;t!=e._scaleMode&&(e._scaleMode=t,e.setAlign())},enumerable:!0,configurable:!0}),n.prototype.update=function(t){void 0===t&&(t=!0);var n=this;e.prototype.update.call(this,t);for(var i=n._floatDisplayList,r=i.length,o=0;o<r;o++)i[o].updateStyle()},n.prototype.render=function(t){t.begin(),e.prototype.render.call(this,t)},n.prototype._initMouseEvent=function(t,e,n,i){t._pd=!1,t._bpd=!1,t.clientX=e.x,t.clientY=e.y,t.stageX=n.x,t.stageY=n.y,t.identifier=i},n.prototype.flush=function(){var t=this;0==t._flush?(t.update(!0),t.render(t.renderObj)):0==t._currentFlush?(t.update(!0),t.render(t.renderObj),t._currentFlush=t._flush):t._currentFlush--},n.prototype.setFrameRate=function(t){var e=this;e._flush=60/t-1>>0,e._flush<0&&(e._flush=0)},n.prototype.getFrameRate=function(){return 60/(this._flush+1)},n.prototype.getRootDivWH=function(t){var e=t.style.width,n=t.style.height,i=document.body.clientWidth,r=document.body.clientHeight,o=parseInt(e),a=parseInt(n);return"NaN"==o.toString()?o=i:e.indexOf("%")>0&&(o*=i/100),"NaN"==a.toString()?a=r:n.indexOf("%")>0&&(a*=r/100),{w:o,h:a}},n.prototype.kill=function(){n.removeUpdateObj(this)},n.prototype.onMouseEvent=function(e){var i=this,r=n._dragDisplay;if(i.isMultiTouch&&e.targetTouches&&e.targetTouches.length>1){if(2==e.targetTouches.length){i._mP1.x=e.targetTouches[0].clientX-e.target.offsetLeft,i._mP1.y=e.targetTouches[0].clientY-e.target.offsetTop,i._mP2.x=e.targetTouches[1].clientX-e.target.offsetLeft,i._mP2.y=e.targetTouches[1].clientY-e.target.offsetTop;var o=Math.atan2(i._mP1.y-i._mP2.y,i._mP1.x-i._mP2.x)/Math.PI*180,a=t.Point.distance(i._mP1,i._mP2);if(i.muliPoints.push({p1:i._mP1,p2:i._mP2,angle:o,dis:a}),i.muliPoints.length>=2){i._touchEvent||(i._touchEvent=new t.TouchEvent(t.TouchEvent.ON_MULTI_TOUCH),i._touchEvent.target=i);var s=i.muliPoints.length;i._touchEvent.rotate=2*(i.muliPoints[s-1].angle-i.muliPoints[s-2].angle),i._touchEvent.scale=(i.muliPoints[s-1].dis-i.muliPoints[s-2].dis)/(i.divHeight>i.divWidth?i.desWidth:i.desHeight)*4,i._touchEvent.clientPoint1.x=i.muliPoints[s-1].p1.x*t.devicePixelRatio,i._touchEvent.clientPoint2.x=i.muliPoints[s-1].p2.x*t.devicePixelRatio,i._touchEvent.clientPoint1.y=i.muliPoints[s-1].p1.y*t.devicePixelRatio,i._touchEvent.clientPoint2.y=i.muliPoints[s-1].p2.y*t.devicePixelRatio,i.dispatchEvent(i._touchEvent),i.muliPoints.shift()}}else i.muliPoints.length=0;r&&(r._lastDragPoint.x=Number.MAX_VALUE,r._lastDragPoint.y=Number.MAX_VALUE),i._mouseDownPoint={},i._lastDpList={}}else if(i.muliPoints.length>0&&(i._touchEvent.rotate=0,i._touchEvent.scale=0,i._touchEvent.clientPoint1.x=0,i._touchEvent.clientPoint2.x=0,i._touchEvent.clientPoint1.y=0,i._touchEvent.clientPoint2.y=0,i.dispatchEvent(i._touchEvent),i.muliPoints.length=0),t.EventDispatcher._totalMEC>0){var l,u=void 0,c=i._mouseEventTypes[e.type],h=void 0,d=void 0,p=void 0,f=void 0,_=void 0,v=void 0;"pc"==t.osType?(e.identifier=0,u=[e]):u=i.isMultiMouse?e.changedTouches:[e.changedTouches[0]];for(var y=0;y<u.length;y++)if(_=0,h=[],v="m"+u[y].identifier,f=i._mp.length>0?i._mp.shift():new t.Point,f.x=(u[y].clientX-u[y].target.offsetLeft)*t.devicePixelRatio,f.y=(u[y].clientY-u[y].target.offsetTop)*t.devicePixelRatio,d=i.globalToLocal(f,t.DisplayObject._bp),t.EventDispatcher.getMouseEventCount()>0&&(i._ml[_]?(l=i._ml[_],l.type=c):(l=new t.MouseEvent(c),i._ml[_]=l),h[h.length]=l,i._initMouseEvent(l,f,d,v),_++),"onMouseDown"==c?i._mouseDownPoint[v]=f:"onMouseUp"==c&&i._mouseDownPoint[v]&&t.Point.distance(i._mouseDownPoint[v],f)<20&&t.EventDispatcher.getMouseEventCount("onMouseClick")>0&&(i._ml[_]?(l=i._ml[_],l.type="onMouseClick"):(l=new t.MouseEvent("onMouseClick"),i._ml[_]=l),h[h.length]=l,i._initMouseEvent(l,f,d,v),_++),_>0){var g=i.hitTestPoint(f,!0),m=[];if(g)for(;g;)!1===g.mouseChildren&&(m.length=0),m[m.length]=g,g=g.parent;else m[m.length]=i;for(var s=m.length,b=s-1;b>=0;b--){g=m[b];for(var x=0;x<_;x++)h[x]._bpd||g.hasEventListener(h[x].type)&&(h[x].currentTarget=g,h[x].target=m[0],p=g.globalToLocal(f,t.DisplayObject._bp),h[x].localX=p.x,h[x].localY=p.y,g.dispatchEvent(h[x]))}m.reverse();for(var b=s-1;b>=0;b--){g=m[b];for(var x=0;x<_;x++)h[x]._bpd||g.hasEventListener(h[x].type)&&(h[x].currentTarget=g,h[x].target=m[_-1],p=g.globalToLocal(f,t.DisplayObject._bp),h[x].localX=p.x,h[x].localY=p.y,g.dispatchEvent(h[x],null,!1))}if("onMouseDown"!=c){if((t.EventDispatcher.getMouseEventCount("onMouseOver")>0||t.EventDispatcher.getMouseEventCount("onMouseOut")>0)&&i._lastDpList[v]){var w=i._lastDpList[v].length,E=m.length;s=w>E?w:E;for(var T=!1,P=void 0,M=void 0,b=1;b<s;b++)T||i._lastDpList[v][b]!=m[b]&&(T=!0,i._ml[_]?(P=i._ml[_],P.type="onMouseOver"):(P=new t.MouseEvent("onMouseOver"),i._ml[_]=P),i._initMouseEvent(P,f,d,v),_++,i._ml[_]?(M=i._ml[_],M.type="onMouseOut"):(M=new t.MouseEvent("onMouseOut"),i._ml[_]=M),i._initMouseEvent(M,f,d,v)),T&&(i._lastDpList[v][b]&&(M._bpd||(g=i._lastDpList[v][b],g.hasEventListener("onMouseOut")&&(M.currentTarget=g,M.target=i._lastDpList[v][w-1],p=g.globalToLocal(f,t.DisplayObject._bp),M.localX=p.x,M.localY=p.y,g.dispatchEvent(M)))),m[b]&&(P._bpd||(g=m[b],g.hasEventListener("onMouseOver")&&(P.currentTarget=g,P.target=m[E-1],p=g.globalToLocal(f,t.DisplayObject._bp),P.localX=p.x,P.localY=p.y,g.dispatchEvent(P)))))}i._mp[i._mp.length]=f}if(r&&r.stage&&r.parent){var O=r.x,L=r.y;p=r.parent.globalToLocal(f,t.DisplayObject._bp),r._isDragCenter?(O=p.x,L=p.y):(r._lastDragPoint.x!=Number.MAX_VALUE&&(O+=p.x-r._lastDragPoint.x,L+=p.y-r._lastDragPoint.y),r._lastDragPoint.x=p.x,r._lastDragPoint.y=p.y),p.x=O,p.y=L,0!=r._dragBounds.width&&(r._dragBounds.isPointIn(p)||(O<r._dragBounds.x?O=r._dragBounds.x:O>r._dragBounds.x+r._dragBounds.width&&(O=r._dragBounds.x+r._dragBounds.width),L<r._dragBounds.y?L=r._dragBounds.y:L>r._dragBounds.y+r._dragBounds.height&&(L=r._dragBounds.y+r._dragBounds.height))),r.x=O,r.y=L}"onMouseUp"==c?(r&&(r._lastDragPoint.x=Number.MAX_VALUE,r._lastDragPoint.y=Number.MAX_VALUE),delete i._mouseDownPoint[v],delete i._lastDpList[v]):i._lastDpList[v]=m}}"_a2x_canvas"==e.target.id&&i.isPreventDefaultEvent&&("touchend"==e.type&&"ios"==t.osType&&i.iosTouchendPreventDefault&&e.preventDefault(),("touchmove"==e.type||"touchstart"==e.type&&"android"==t.osType)&&e.preventDefault()),i._cp&&i.update()},n.prototype.setAlign=function(){var e=this,n=e.divHeight*t.devicePixelRatio,i=e.divWidth*t.devicePixelRatio,r=e.desHeight,o=e.desWidth;e.anchorX=o>>1,e.anchorY=r>>1;var a=n>i,s=r>o,l=1,u=1;if(e.x=i-o>>1,e.y=n-r>>1,e.autoSteering&&s!=a){var c=n;n=i,i=c}if("noScale"!=e._scaleMode)switch(l=n/r,u=i/o,e._scaleMode){case"noBorder":u>l?l=u:u=l;break;case"showAll":u<l?l=u:u=l;break;case"fixedWidth":l=u;break;case"fixedHeight":u=l}e.scaleX=u,e.scaleY=l,e.viewRect.x=o-i/u>>1,e.viewRect.y=r-n/l>>1,e.viewRect.width=o-2*e.viewRect.x,e.viewRect.height=r-2*e.viewRect.y,e.autoSteering?e.rotation=s==a?0:r>o?-90:90:e.rotation=0},n.prototype.getBounds=function(){return this.viewRect},n.flushAll=function(){if(!n._pause)for(var t=n.allUpdateObjList.length,e=0;e<t;e++)n.allUpdateObjList[e]&&n.allUpdateObjList[e].flush();requestAnimationFrame(n.flushAll)},n.addUpdateObj=function(t){for(var e=!1,i=n.allUpdateObjList.length,r=0;r<i;r++)if(n.allUpdateObjList[r]===t){e=!0;break}e||n.allUpdateObjList.unshift(t)},n.removeUpdateObj=function(t){for(var e=n.allUpdateObjList.length,i=0;i<e;i++)if(n.allUpdateObjList[i]===t){n.allUpdateObjList.splice(i,1);break}},n.prototype.destroy=function(){var t=this;n.removeUpdateObj(t),t.rootDiv=null,t._floatDisplayList=null,t.renderObj=null,t.viewRect=null,t._lastDpList=null,t._touchEvent=null,t.muliPoints=null,t._mP1=null,t._mP2=null,t._ml=null,e.prototype.destroy.call(this)},n._stageList={},n._pause=!1,n._dragDisplay=null,n._isLoadedVConsole=!1,n.allUpdateObjList=[],n}(t.Sprite);t.Stage=e}(annie||(annie={}));var annie;!function(t){var e=function(t){function e(e,n,i,r){void 0===e&&(e="black"),void 0===n&&(n=2),void 0===i&&(i=2),void 0===r&&(r=2),t.call(this),this.color="black",this.offsetX=2,this.offsetY=2,this.blur=2,this.type="Shadow";var o=this;o._instanceType="annie.ShadowFilter",o.offsetX=n,o.offsetY=i,o.blur=r,o.color=e}return __extends(e,t),e.prototype.toString=function(){var t=this;return t.type+t.offsetX+t.offsetY+t.blur+t.color},e.prototype.drawFilter=function(t){void 0===t&&(t=null)},e.prototype.destroy=function(){},e}(t.AObject);t.ShadowFilter=e;var n=function(t){function e(e){t.call(this),this.redMultiplier=0,this.redOffset=0,this.greenMultiplier=0,this.greenOffset=0,this.blueMultiplier=0,this.blueOffset=0,this.alphaMultiplier=0,this.alphaOffset=0,this.type="Color";var n=this;n._instanceType="annie.ColorFilter",n.redMultiplier=e[0],n.greenMultiplier=e[1],n.blueMultiplier=e[2],n.alphaMultiplier=e[3],n.redOffset=e[4],n.greenOffset=e[5],n.blueOffset=e[6],n.alphaOffset=e[7]}return __extends(e,t),e.prototype.drawFilter=function(t){if(void 0===t&&(t=null),t)for(var e=this,n=t.data,i=n.length,r=0;r<i;r+=4)n[r]=n[r]*e.redMultiplier+e.redOffset,n[r+1]=n[r+1]*e.greenMultiplier+e.greenOffset,n[r+2]=n[r+2]*e.blueMultiplier+e.blueOffset,n[r+3]=n[r+3]*e.alphaMultiplier+e.alphaOffset},e.prototype.toString=function(){var t=this;return t.type+t.redMultiplier+t.greenMultiplier+t.blueMultiplier+t.alphaMultiplier+t.redOffset+t.greenOffset+t.blueOffset+t.alphaOffset},e.prototype.destroy=function(){},e}(t.AObject);t.ColorFilter=n;var i=function(t){function e(n,i,r,o){t.call(this),this.brightness=0,this.contrast=0,this.saturation=0,this.hue=0,this.type="ColorMatrix";var a=this;a._instanceType="annie.ColorMatrixFilter",a.brightness=n,a.contrast=i,a.saturation=r,a.hue=o,a.colorMatrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],n=a._cleanValue(n,255),
0!=n&&a._multiplyMatrix([1,0,0,0,n,0,1,0,0,n,0,0,1,0,n,0,0,0,1,0,0,0,0,0,1]),i=this._cleanValue(i,100);var s;if(0!=i&&(i<0?s=127+i/100*127:(s=i%1,s=0==s?e.DELTA_INDEX[i]:e.DELTA_INDEX[i<<0]*(1-s)+e.DELTA_INDEX[1+(i<<0)]*s,s=127*s+127),a._multiplyMatrix([s/127,0,0,0,.5*(127-s),0,s/127,0,0,.5*(127-s),0,0,s/127,0,.5*(127-s),0,0,0,1,0,0,0,0,0,1])),0!=(r=this._cleanValue(r,100))){s=1+(r>0?3*r/100:r/100);var l=.3086,u=.6094,c=.082;a._multiplyMatrix([l*(1-s)+s,u*(1-s),c*(1-s),0,0,l*(1-s),u*(1-s)+s,c*(1-s),0,0,l*(1-s),u*(1-s),c*(1-s)+s,0,0,0,0,0,1,0,0,0,0,0,1])}if(0!=(o=this._cleanValue(o,180)/180*Math.PI)){var h=Math.cos(o),d=Math.sin(o),l=.213,u=.715,c=.072;a._multiplyMatrix([l+h*(1-l)+d*-l,u+h*-u+d*-u,c+h*-c+d*(1-c),0,0,l+h*-l+.143*d,u+h*(1-u)+.14*d,c+h*-c+-.283*d,0,0,l+h*-l+d*-(1-l),u+h*-u+d*u,c+h*(1-c)+d*c,0,0,0,0,0,1,0,0,0,0,0,1])}}return __extends(e,t),e.prototype.drawFilter=function(t){if(void 0===t&&(t=null),t)for(var e,n,i,r,o=t.data,a=o.length,s=this.colorMatrix,l=s[0],u=s[1],c=s[2],h=s[3],d=s[4],p=s[5],f=s[6],_=s[7],v=s[8],y=s[9],g=s[10],m=s[11],b=s[12],x=s[13],w=s[14],E=s[15],T=s[16],P=s[17],M=s[18],O=s[19],L=0;L<a;L+=4)e=o[L],n=o[L+1],i=o[L+2],r=o[L+3],o[L]=e*l+n*u+i*c+r*h+d,o[L+1]=e*p+n*f+i*_+r*v+y,o[L+2]=e*g+n*m+i*b+r*x+w,o[L+3]=e*E+n*T+i*P+r*M+O},e.prototype._multiplyMatrix=function(t){var e,n,i,r=[];for(e=0;e<5;e++){for(n=0;n<5;n++)r[n]=this.colorMatrix[n+5*e];for(n=0;n<5;n++){var o=0;for(i=0;i<5;i++)o+=t[n+5*i]*r[i];this.colorMatrix[n+5*e]=o}}},e.prototype._cleanValue=function(t,e){return Math.min(e,Math.max(-e,t))},e.prototype.toString=function(){var t=this;return t.type+t.brightness+t.hue+t.saturation+t.contrast},e.prototype.destroy=function(){this.colorMatrix=null},e.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],e}(t.AObject);t.ColorMatrixFilter=i;var r=function(t){function e(e,n,i){void 0===e&&(e=2),void 0===n&&(n=2),void 0===i&&(i=1),t.call(this),this.type="blur",this.blurX=0,this.blurY=0,this.quality=1;var r=this;r._instanceType="annie.BlurFilter",r.blurX=e,r.blurY=n,r.quality=i}return __extends(e,t),e.prototype.toString=function(){var t=this;return t.type+t.blurX+t.blurY+t.quality},e.prototype.drawFilter=function(t){void 0===t&&(t=null);var n=this,i=n.blurX>>1;if(isNaN(i)||i<0)return!1;var r=n.blurY>>1;if(isNaN(r)||r<0)return!1;if(0==i&&0==r)return!1;var o=n.quality;(isNaN(o)||o<1)&&(o=1),o|=0,o>3&&(o=3),o<1&&(o=1);var a=t.data,s=0,l=0,u=0,c=0,h=0,d=0,p=0,f=0,_=0,v=0,y=0,g=0,m=0,b=0,x=0,w=i+i+1|0,E=r+r+1|0,T=0|t.width,P=0|t.height,M=T-1|0,O=P-1|0,L=i+1|0,C=r+1|0,D={r:0,b:0,g:0,a:0},S=D;for(u=1;u<w;u++)S=S.n={r:0,b:0,g:0,a:0};S.n=D;var F={r:0,b:0,g:0,a:0},A=F;for(u=1;u<E;u++)A=A.n={r:0,b:0,g:0,a:0};A.n=F;for(var I=null,U=0|e.MUL_TABLE[i],R=0|e.SHG_TABLE[i],k=0|e.MUL_TABLE[r],j=0|e.SHG_TABLE[r];o-- >0;){p=d=0;var B=U,X=R;for(l=P;--l>-1;){for(f=L*(g=a[0|d]),_=L*(m=a[d+1|0]),v=L*(b=a[d+2|0]),y=L*(x=a[d+3|0]),S=D,u=L;--u>-1;)S.r=g,S.g=m,S.b=b,S.a=x,S=S.n;for(u=1;u<L;u++)c=d+((M<u?M:u)<<2)|0,f+=S.r=a[c],_+=S.g=a[c+1],v+=S.b=a[c+2],y+=S.a=a[c+3],S=S.n;for(I=D,s=0;s<T;s++)a[d++]=f*B>>>X,a[d++]=_*B>>>X,a[d++]=v*B>>>X,a[d++]=y*B>>>X,c=p+((c=s+i+1)<M?c:M)<<2,f-=I.r-(I.r=a[c]),_-=I.g-(I.g=a[c+1]),v-=I.b-(I.b=a[c+2]),y-=I.a-(I.a=a[c+3]),I=I.n;p+=T}for(B=k,X=j,s=0;s<T;s++){for(d=s<<2|0,f=C*(g=a[d])|0,_=C*(m=a[d+1|0])|0,v=C*(b=a[d+2|0])|0,y=C*(x=a[d+3|0])|0,A=F,u=0;u<C;u++)A.r=g,A.g=m,A.b=b,A.a=x,A=A.n;for(h=T,u=1;u<=r;u++)d=h+s<<2,f+=A.r=a[d],_+=A.g=a[d+1],v+=A.b=a[d+2],y+=A.a=a[d+3],A=A.n,u<O&&(h+=T);if(d=s,I=F,o>0)for(l=0;l<P;l++)c=d<<2,a[c+3]=x=y*B>>>X,x>0?(a[c]=f*B>>>X,a[c+1]=_*B>>>X,a[c+2]=v*B>>>X):a[c]=a[c+1]=a[c+2]=0,c=s+((c=l+C)<O?c:O)*T<<2,f-=I.r-(I.r=a[c]),_-=I.g-(I.g=a[c+1]),v-=I.b-(I.b=a[c+2]),y-=I.a-(I.a=a[c+3]),I=I.n,d+=T;else for(l=0;l<P;l++)c=d<<2,a[c+3]=x=y*B>>>X,x>0?(x=255/x,a[c]=(f*B>>>X)*x,a[c+1]=(_*B>>>X)*x,a[c+2]=(v*B>>>X)*x):a[c]=a[c+1]=a[c+2]=0,c=s+((c=l+C)<O?c:O)*T<<2,f-=I.r-(I.r=a[c]),_-=I.g-(I.g=a[c+1]),v-=I.b-(I.b=a[c+2]),y-=I.a-(I.a=a[c+3]),I=I.n,d+=T}}},e.prototype.destroy=function(){},e.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],e.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],e}(t.AObject);t.BlurFilter=r}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(t){e.call(this),this.rootContainer=null,this._instanceType="annie.CanvasRender",this._stage=t}return __extends(n,e),n.prototype.begin=function(){var t=this,e=t.rootContainer;t._ctx.setTransform(1,0,0,1,0,0),""!=t._stage.bgColor?(t._ctx.fillStyle=t._stage.bgColor,t._ctx.fillRect(0,0,e.width,e.height)):t._ctx.clearRect(0,0,e.width,e.height)},n.prototype.beginMask=function(t){var e=this;e._ctx.save(),e._ctx.globalAlpha=0;var n=t.cMatrix;e._ctx.setTransform(n.a,n.b,n.c,n.d,n.tx,n.ty),t._drawShape(e._ctx),e._ctx.clip()},n.prototype.endMask=function(){this._ctx.restore()},n.prototype.draw=function(t){var e=this;if(!t._cp){var n=t._texture;if(n&&n.width>0&&n.height>0){var i=e._ctx;i.globalAlpha=t.cAlpha;var r=t.cMatrix;if(i.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty),t.rect&&!t._isCache){var o=t.rect;i.drawImage(n,o.x,o.y,o.width,o.height,0,0,o.width,o.height)}else i.translate(t._offsetX,t._offsetY),i.drawImage(n,0,0)}}},n.prototype.init=function(){var t=this;t.rootContainer||(t.rootContainer=document.createElement("canvas"),t._stage.rootDiv.appendChild(t.rootContainer),t.rootContainer.id="_a2x_canvas");var e=t.rootContainer;t._ctx=e.getContext("2d")},n.prototype.reSize=function(){var e=this,n=e.rootContainer;n.width=e._stage.divWidth*t.devicePixelRatio,n.height=e._stage.divHeight*t.devicePixelRatio,n.style.width=e._stage.divWidth+"px",n.style.height=e._stage.divHeight+"px"},n.prototype.destroy=function(){var t=this;t.rootContainer=null,t._stage=null,t._ctx=null},n}(t.AObject);t.CanvasRender=e}(annie||(annie={}));var annie;!function(t){var e=function(e){function n(){e.call(this),this._req=null,this.headers=[],this.responseType=null,this.url="",this.method="get",this.data=null,this._fqs=function(t,e){var n=[];if(t)for(var i in t)n.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return e&&(n=n.concat(e)),n.join("&")},this._fus=function(t,e){var n=this;if(null==e||""==e)return t;var i=[],r=t.indexOf("?");if(-1!=r){var o=t.slice(r+1);return i=i.concat(o.split("&")),t.slice(0,r)+"?"+n._fqs(e,i)}return t+"?"+n._fqs(e,i)},this._instanceType="annie.URLLoader"}return __extends(n,e),n.prototype.loadCancel=function(){var t=this;t._req&&t._req.abort()},n.prototype.load=function(e,n){void 0===n&&(n="form");var i=this;if(i.loadCancel(),null==i.responseType||""==i.responseType){var r=e.split("."),o=r[r.length-1],a=o.split("?")[0].toLocaleLowerCase();i.responseType="mp3"==a||"ogg"==a||"wav"==a?"sound":"jpg"==a||"jpeg"==a||"png"==a||"gif"==a?"image":"css"==a?"css":"mp4"==a?"video":"svg"==a?"svg":"xml"==a?"xml":"json"==a?"json":"txt"==a?"text":"js"==a||"swf"==a?"js":"unKnow"}if(!i._req){i._req=new XMLHttpRequest;var s=i._req;s.withCredentials=!1,s.onprogress=function(t){!t||t.loaded>0&&0==t.total||i.dispatchEvent("onProgress",{loadedBytes:t.loaded,totalBytes:t.total})},s.onerror=function(t){if(++u>2)i.dispatchEvent("onError",{id:2,msg:t.message});else if(s.abort(),i.data)if("form"==n)s.setRequestHeader("Content-type","application/x-www-form-urlencoded;charset=UTF-8"),s.send(i._fqs(i.data,null));else{var e="application/json";"json"!=n&&(e="multipart/form-data"),s.setRequestHeader("Content-type",e+";charset=UTF-8"),s.send(i.data)}else s.send()},s.onreadystatechange=function(e){var n=e.target;if(4==n.readyState)if(200==s.status||0==s.status){var r=!1,o=new t.Event("onComplete"),a=n.response;o.data={type:i.responseType,response:null};var l=void 0;switch(i.responseType){case"css":l=document.createElement("link"),l.rel="stylesheet",l.href=i.url;break;case"image":case"sound":case"video":var u;"image"==i.responseType?(r=!0,u=document.createElement("img"),u.onload=function(){URL.revokeObjectURL(u.src),u.onload=null,i.dispatchEvent(o)},u.src=URL.createObjectURL(a)):"sound"==i.responseType?(u=document.createElement("AUDIO"),u.preload=!0,u.src=i.url):"video"==i.responseType&&(u=document.createElement("VIDEO"),u.preload=!0,u.src=i.url),l=u;break;case"json":l=JSON.parse(a);break;case"js":l="JS_CODE",t.Eval(a);break;case"text":case"unKnow":case"xml":default:l=a}o.data.response=l,i.data=null,i.responseType="",r||i.dispatchEvent(o)}else i.dispatchEvent("onError",{id:0,msg:"访问地址不存在"})}}var l=i._req,u=0;if(i.data&&"get"==i.method.toLocaleLowerCase()?(i.url=i._fus(e,i.data),i.data=null):i.url=e,"image"==i.responseType||"sound"==i.responseType||"video"==i.responseType?l.responseType="blob":l.responseType="text",l.open(i.method,i.url,!0),i.headers.length>0){for(var c=0;c<i.headers.length;c+=2)l.setRequestHeader(i.headers[c],i.headers[c+1]);i.headers.length=0}if(i.data)if("form"==n)l.setRequestHeader("Content-type","application/x-www-form-urlencoded;charset=UTF-8"),l.send(i._fqs(i.data,null));else{var h="application/json";"json"!=n&&(h="multipart/form-data"),l.setRequestHeader("Content-type",h+";charset=UTF-8"),l.send(i.data)}else l.send()},n.prototype.addHeader=function(t,e){this.headers.push(t,e)},n.prototype.destroy=function(){var t=this;t.loadCancel(),t.headers=null,t.data=null,e.prototype.destroy.call(this)},n}(t.EventDispatcher);t.URLLoader=e}(annie||(annie={}));var annie;!function(t){function e(){R.load(D+"resource/"+C[S]+"/"+C[S]+".res.json?t="+N)}function n(t){var n=t.data.response;B.push(n),F+=n.length,S++,C[S]?e():(S=0,Y=1/F,s())}function i(t){U&&U(100*(X+t.data.loadedBytes/t.data.totalBytes*Y)>>0)}function r(e,n){void 0===n&&(n=null);var i=null;for(var r in e)if(i=e[r],1==i.t){if(!i.f){i.f=[],i.tf=1;continue}if(i.tf>1)for(var o=i.f,a=o.length,s=null,l={},u={},c=0;c<a;c++)if(s=o[c].c){for(var h in s)if(0==c)l[h]=[s[h]][0];else if(3!=s[h].a&&(u[h]=s[h]),1!=s[h].a){if(2==s[h].a)for(var d in l[h])void 0==s[h][d]&&(s[h][d]=l[h][d]);else delete s[h];l[h]=null,delete l[h]}if(c>0){for(var d in l)s[d]=u[d]=l[d];l=u,u={}}}}else if(t._isReleased)if(2==e[r]){var p=new Image;p.src=n[r],n[r]=p}else if(5==e[r]){var f=new Audio;f.src=n[r],n[r]=f}}function o(e){var n=C[S];if(t._isReleased){if("f2xShare"==n)return B.shift(),C.shift(),void s();r(t.res[C[S]]._a2x_con,t.res[C[S]])}else if("js"!=e.data.type&&"css"!=e.data.type){var i=e.data.response;"_a2x_con"==B[S][0].id&&r(i),t.res[n][B[S][0].id]=i}a()}function a(){if(A++,X=A/F,B[S].shift(),t.res[C[S]]._f2x_had_loaded_scene=!0,B[S].length>0)s();else{var e={};e.sceneName=C[S],S++,e.sceneId=S,e.sceneTotal=C.length,S==C.length?(L=!1,setTimeout(function(){I(e)},100)):(I(e),s())}}function s(){var e=D+B[S][0].src;t._isReleased?(k.responseType="js",e+="?v="+t._isReleased):e+="?v="+N,k.load(e)}function l(e){return!(void 0==t.res[e]||null==t.res[e]||!t.res[e]._f2x_had_loaded_scene)}function u(e){delete t.res[e];var n=window,i=n[e];for(var r in i)delete i[r];delete n[e],i=null}function c(e,n){var i=t.res;return i[e][n]?i[e][n]:null}function h(e,n){return new t.Bitmap(t.res[e][n])}function d(t,e){if(t._a2x_res_obj!=e){var n=t._a2x_res_obj;if(void 0!=e.w&&(t.textWidth=e.w,t.textHeight=e.h),void 0!=e.tr&&1!=e.tr.length||(e.tr=[0,0,1,1,0,0]),n.tr!=e.tr&&(u=e.tr,t.x=u[0],t.y=u[1],t.scaleX=u[2],t.scaleY=u[3],t.skewX=u[4],t.skewY=u[5]),t.alpha=void 0==e.al?1:e.al,1==e.t&&t.initButton&&t.initButton(),n.fi!=e.fi)if(void 0!=e.fi){for(var i,r=[],o=void 0,a=0;a<e.fi.length;a++)switch(e.fi[a].t){case 0:i=.5*(e.fi[a].bx+e.fi[a].by),o=T.getRGBA(e.fi[a].c,e.fi[a].a);var s=e.fi[a].by*Math.cos(e.fi[a].r/180*Math.PI),l=e.fi[a].by*Math.sin(e.fi[a].r/180*Math.PI);r[r.length]=new M(o,s,l,i);break;case 1:r[r.length]=new P(e.fi[a].bx,e.fi[a].by,e.fi[a].q);break;case 2:i=.5*(e.fi[a].bx+e.fi[a].by),o=T.getRGBA(e.fi[a].c,e.fi[a].a),r[r.length]=new M(o,0,0,i);break;case 6:r[r.length]=new O(e.fi[a].b,e.fi[a].c,e.fi[a].s,e.fi[a].h);break;case 7:r[r.length]=new E(e.fi[a].cm)}t.filters=r}else t.filters=null;t._a2x_res_obj=e;var u}}function p(e,n){var i,r=t.res[e]._a2x_con[n],o=decodeURIComponent(r[9]),a=decodeURIComponent(r[4]),s=r[5],l=H[r[3]],u=W[r[2]],c=r[11],h=r[10],d=r[6],p=r[7],f=r[12],_=r[8];return 0==r[1]||1==r[1]?(i=new t.TextField,i.text=o,i.font=a,i.size=s,i.textAlign=l,i.lineType=u,i.italic=c,i.bold=h,i.color=d,i.textAlpha=p,i.border=f,i.lineSpacing=_):(i=new t.InputText(r[2]),i.initInfo(o,d,l,s,a,f,_),i.italic=c,i.bold=h),i}function f(e,n){var i="_f2x_s"+n;if(t.res[e][i])return t.res[e][i];var r=null,o=h(e,n);return o?(r=o.rect?t.Bitmap.convertToImage(o,!1):o.bitmapData,t.res[e][i]=r,r):(trace("error:矢量位图填充时,未找到位图资源!"),null)}function _(e,n){for(var i=t.res[e]._a2x_con[n][1],r=new t.Shape,o=0;o<i.length;o++)1==i[o][0]?(0==i[o][1]?r.beginFill(t.Shape.getRGBA(i[o][2][0],i[o][2][1])):1==i[o][1]?r.beginLinearGradientFill(i[o][2][0],i[o][2][1]):2==i[o][1]?r.beginRadialGradientFill(i[o][2][0],i[o][2][1]):r.beginBitmapFill(h(e,i[o][2][0]).bitmapData,i[o][2][1]),r.decodePath(i[o][3]),r.endFill()):(0==i[o][1]?r.beginStroke(t.Shape.getRGBA(i[o][2][0],i[o][2][1]),i[o][4],i[o][5],i[o][6],i[o][7]):1==i[o][1]?r.beginLinearGradientStroke(i[o][2][0],i[o][2][1],i[o][4],i[o][5],i[o][6],i[o][7]):2==i[o][1]?r.beginRadialGradientStroke(i[o][2][0],i[o][2][1],i[o][4],i[o][5],i[o][6],i[o][7]):r.beginBitmapStroke(h(e,i[o][2][0]).bitmapData,i[o][2][1],i[o][4],i[o][5],i[o][6],i[o][7]),r.decodePath(i[o][3]),r.endStroke());return r}function v(e,n){return new t.Sound(t.res[e][n])}function y(e){var n=new x;n.addHeader("X-Requested-With","XMLHttpRequest"),n.method=void 0==e.type?"get":e.type,n.data=void 0==e.data?null:e.data,n.responseType=void 0==e.responseType?"text":e.responseType,void 0!=e.success&&n.addEventListener(t.Event.COMPLETE,e.success),void 0!=e.error&&n.addEventListener(t.Event.ERROR,e.error),n.load(e.url)}function g(t,e,n,i){var r=window;1==e&&(r[n]=i);var o=document.createElement("script"),a=document.getElementsByTagName("head")[0];o.onload=function(t){0==e&&i(r[n]),t.path[0].src="",r[n]=null,delete r[n],a.removeChild(t.path[0])},a.appendChild(o);var s;s=t.indexOf("?")>0?"&":"?",o.src=t+s+"a_n_n_i_e="+Math.random()+"&callback="+n}function m(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(e);return null!=n?decodeURIComponent(n[2]):null}function b(e,n,i){var r=window,o=t.res[n],a=o._a2x_con,s=a[i];e._a2x_res_class=s;var l,u=!1;if(s.tf>1&&(u=!0,void 0==s.timeLine)){var c=s.f.length,f=[],y=c>0?s.f[0].i:s.tf,g=0;if(y>0)for(var m=0;m<y;m++)f[f.length]=-1;if(c>0)for(l=0;l<c;l++){g=l+1<c?s.f[l+1].i:s.tf,y=s.f[l].i;for(var m=0;m<g-y;m++)f[f.length]=l}s.timeLine=f,s.f||(s.f=[]),s.c||(s.c=[]),s.a||(s.a={}),s.s||(s.s={}),s.e||(s.e={});var x={};if(s.l)for(var w in s.l)for(var E=0;E<s.l[w].length;E++)x[s.l[w][E]]=parseInt(w);else s.l=[];s.label=x}if(s.c){var T=s.c,P=T.length,M=null,O=0,L=null,C=0;for(l=0;l<P;l++){if(0==T[l].indexOf("_$"))switch(O=Array.isArray(a[T[l]])?a[T[l]][0]:a[T[l]].t){case 1:M=a[T[l]].tf>1?new t.MovieClip:new t.Sprite,b(M,n,T[l]);break;case 2:M=h(n,T[l]);break;case 3:M=_(n,T[l]);break;case 4:M=p(n,T[l]);break;case 5:M=v(n,T[l]),e.addSound(M)}else M=new r[n][T[l]];if(e._a2x_res_children[e._a2x_res_children.length]=M,!u){var w=l+1;5==O?M._repeate=s.s[0][w]:(d(M,s.f[0].c[w]),void 0!=s.f[0].c[w].ma?(L=M,C=s.f[0].c[w].ma-1):L&&l<=C&&(M.mask=L,l==C&&(L=null)),void 0!=s.f[0].c[w].n&&(e[s.f[0].c[w].n]=M,M.name=s.f[0].c[w].n),e.addChildAt(M,0))}}}}var x=t.URLLoader,w=t.Event,E=t.ColorFilter,T=t.Shape,P=t.BlurFilter,M=t.ShadowFilter,O=t.ColorMatrixFilter;t._isReleased=!1,t._shareSceneList=[],t.res={};var L,C,D,S,F,A,I,U,R,k,j,B,X,Y,N=(new Date).getTime();t.loadScene=function(r,a,u,c){if(void 0===c&&(c=""),L&&(R.loadCancel(),k.loadCancel()),C=[],D=c,"string"==typeof r)if(l(r)){var h={};h.sceneName=r,h.sceneId=1,h.sceneTotal=1,u(h)}else t.res[r]={},C.push(r);else for(var d=r.length,p=0,f=0;f<d;f++)if(l(r[f])){var h={};h.sceneName=r[f],h.sceneId=++p,h.sceneTotal=d,u(h)}else t.res[r[f]]={},C.push(r[f]);if(0!=C.length)if(j||(t._isReleased&&trace("AnnieJS:https://github.com/flash2x/annieJS"),R=new x,R.addEventListener(w.COMPLETE,n),k=new x,k.addEventListener(w.COMPLETE,o),k.addEventListener(w.PROGRESS,i),j=!0),X=0,S=0,F=0,A=0,L=!0,I=u,U=a,B=[],t._isReleased){if(t._shareSceneList.length>0&&!l("f2xShare"))for(var f=0;f<C.length;f++)if(t._shareSceneList.indexOf(C[f])>=0){C.unshift("f2xShare");break}S=0,F=C.length,Y=1/F;for(var f=0;f<F;f++)B.push([{src:"src/"+C[f]+"/"+C[f]+".swf"}]);s()}else e()},t.isLoadedScene=l,t.unLoadScene=u,t.getResource=c,t.d=d;var W=["single","multiline"],H=["left","center","right"];t.sb=f,t.ajax=y,t.jsonp=g,t.getQueryString=m,t.initRes=b}(annie||(annie={}));var annie;!function(t){var e=!0,n=function(t){function e(){t.call(this),this.currentFrame=0,this.totalFrames=0,this._isLoop=0,this._delay=0,this._isFront=!0,this._cParams=null,this._loop=!1}return __extends(e,t),e.prototype.init=function(t,e,n,i){if(void 0===i&&(i=!0),e<=0||"number"!=typeof e)throw new Error("annie.Tween.to()或者annie.Tween.from()方法的第二个参数一定要是大于0的数字");var r=this;r.currentFrame=1;var o=60*e>>0;r.totalFrames=o>0?o:1,r.target=t,r._isTo=i,r._isLoop=0,r._startData={},r._disData={},r._delay=0,r._isFront=!0,r._ease=null,r._update=null,r._cParams=null,r._loop=!1,r._completeFun=null;for(var a in n)switch(a){case"useFrame":1==n[a]&&(r.totalFrames=e);break;case"yoyo":!1===n[a]?r._isLoop=0:!0===n[a]?r._isLoop=Number.MAX_VALUE:r._isLoop=n[a];break;case"delay":n.useFrame?r._delay=n[a]:r._delay=60*n[a]>>0;break;case"ease":r._ease=n[a];break;case"onUpdate":r._update=n[a];break;case"onComplete":r._completeFun=n[a];break;case"completeParams":r._cParams=n[a];break;case"loop":r._loop=n[a];break;default:"number"==typeof n[a]&&(i?(r._startData[a]=t[a],r._disData[a]=n[a]-t[a]):(r._startData[a]=n[a],r._disData[a]=t[a]-n[a],t[a]=n[a]))}},e.prototype.update=function(){var t=this;if(t._isFront&&t._delay>0)return void t._delay--;var e=t.currentFrame/t.totalFrames;if(!(e<0||e>1)){t._ease&&(e=t._ease(e));var n=!1;for(var r in t._disData)n=!0,t.target[r]=t._startData[r]+t._disData[r]*e;if(!n)return void i.kill(t.instanceId);t._update&&t._update(e);var o=t._completeFun,a=t._cParams;t._isFront?++t.currentFrame>t.totalFrames&&(t._loop?t.currentFrame=1:t._isLoop>0?(t._isFront=!1,t.currentFrame=t.totalFrames,t._isLoop--):i.kill(t.instanceId),o&&o(a)):--t.currentFrame<0&&(t._isLoop>0?(t._isFront=!0,t.currentFrame=1):i.kill(t.instanceId),o&&o(a))}},e.prototype.destroy=function(){var t=this;t._update=null,t._completeFun=null,t._ease=null},e}(t.AObject);t.TweenObj=n;var i=function(){function i(){}return i.to=function(t,e,n){return i.createTween(t,e,n,!0)},i.from=function(t,e,n){return i.createTween(t,e,n,!1)},i.createTween=function(e,r,o,a){for(var s,l=i._tweenList.length,u=0;u<l;u++)if(s=i._tweenList[u],e==s.target)for(var c in s._startData)void 0!=o[c]&&(delete s._startData[c],delete s._disData[c]);return l=i._tweenPool.length,l>0?(s=i._tweenPool.shift(),s._instanceId=t.AObject._object_id++):s=new n,i._tweenList.push(s),s.init(e,r,o,a),s.instanceId},i.killAll=function(){for(var t,e=i._tweenList.length,n=0;n<e;n++)t=i._tweenList[n],t.target=null,t._completeFun=null,t._cParams=null,t._update=null,t._ease=null,t._loop=!1,i._tweenPool.push(t);i._tweenList.length=0},i.kill=function(t){for(var e,n=i._tweenList.length,r=0;r<n;r++)if(e=i._tweenList[r],e.instanceId==t){e.target=null,e._completeFun=null,e._cParams=null,e._update=null,e._ease=null,e._loop=null,i._tweenPool.push(e),i._tweenList.splice(r,1);break}},i.quadraticIn=function(t){return t*t},i.quadraticOut=function(t){return t*(2-t)},i.quadraticInOut=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},i.cubicIn=function(t){return t*t*t},i.cubicOut=function(t){return--t*t*t+1},i.cubicInOut=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},i.quarticIn=function(t){return t*t*t*t},i.quarticOut=function(t){return 1- --t*t*t*t},i.quarticInOut=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},i.quinticIn=function(t){return t*t*t*t*t},i.quinticOut=function(t){return--t*t*t*t*t+1},i.quinticInOut=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},i.sinusoidalIn=function(t){return 1-Math.cos(t*Math.PI/2)},i.sinusoidalOut=function(t){return Math.sin(t*Math.PI/2)},i.sinusoidalInOut=function(t){return.5*(1-Math.cos(Math.PI*t))},i.exponentialIn=function(t){return 0===t?0:Math.pow(1024,t-1)},i.exponentialOut=function(t){return 1===t?1:1-Math.pow(2,-10*t)},i.exponentialInOut=function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},i.circularIn=function(t){return 1-Math.sqrt(1-t*t)},i.circularOut=function(t){return Math.sqrt(1- --t*t)},i.circularInOut=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},i.elasticIn=function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},i.elasticOut=function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},i.elasticInOut=function(t){return 0===t?0:1===t?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1)},i.backIn=function(t){var e=1.70158;return t*t*((e+1)*t-e)},i.backOut=function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},i.backInOut=function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},i.bounceIn=function(t){return 1-i.bounceOut(1-t)},i.bounceOut=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},i.bounceInOut=function(t){return t<.5?.5*i.bounceIn(2*t):.5*i.bounceOut(2*t-1)+.5},i.flush=function(){if(e)for(var t=i._tweenList.length,n=t-1;n>=0;n--)i._tweenList[n]?i._tweenList[n].update():i._tweenList.splice(n,1);e=!e},i._tweenPool=[],i._tweenList=[],i}();t.Tween=i}(annie||(annie={}));var annie;!function(t){var e=function(t){function e(n,i){void 0===i&&(i=0),t.call(this),this._currentCount=0,this._delay=0,this._frameDelay=0,this._currentFrameDelay=0,this._repeatCount=0,this._running=!1,n<=0&&(n=1);var r=this;r._delay=n,r._frameDelay=Math.ceil(.001*n*60),r._repeatCount=i,e._timerList.push(r)}return __extends(e,t),e.prototype.reset=function(){var t=this;t._running=!1,t._currentCount=0,t._currentFrameDelay=0},e.prototype.start=function(){var t=this;t._running=!0,t._currentCount==t._repeatCount&&(t._currentCount=0)},e.prototype.stop=function(){this._running=!1},Object.defineProperty(e.prototype,"currentCount",{get:function(){return this._currentCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delay",{get:function(){return this._delay},set:function(t){this._delay=t,this._frameDelay=Math.ceil(.001*t*60)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"repeatCount",{get:function(){return this._repeatCount},set:function(t){t<0&&(t=0),this._repeatCount=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"running",{get:function(){return this._running},enumerable:!0,configurable:!0}),e.prototype.kill=function(){for(var t=e._timerList.length,n=this,i=0;i<t;i++)if(e._timerList[i]._instanceId==n._instanceId){e._timerList.splice(i,1);break}},e.prototype.update=function(){var t=this;t._running&&++t._currentFrameDelay==t._frameDelay&&(t._repeatCount&&t._currentCount++,t._currentFrameDelay=0,t.dispatchEvent("onTimer"),t._repeatCount&&t._currentCount==t._repeatCount&&(t._running=!1,t.dispatchEvent("onTimerComplete")))},e.flush=function(){for(var t=e._timerList.length,n=t-1;n>=0;n--)e._timerList[n]?e._timerList[n].update():e._timerList.splice(n,1)},e.prototype.destroy=function(){this.kill(),t.prototype.destroy.call(this)},e._timerList=[],e}(t.EventDispatcher);t.Timer=e}(annie||(annie={}));var annie;!function(t){function e(t){window.location.href=t}function n(t){var e=new XMLHttpRequest;e.open("get",t,!0),e.send()}t.Eval=eval.bind(window),t.debug=!1,t.version="1.1.3",t.osType=function(){var t=navigator.userAgent.toLocaleLowerCase(),e=/android/,n=/iphone|ipod|ipad/;return e.test(t)?"android":n.test(t)?"ios":"pc"}(),t.globalDispatcher=new t.EventDispatcher,t.devicePixelRatio=window.devicePixelRatio?window.devicePixelRatio:1,t.StageScaleMode={EXACT_FIT:"exactFit",NO_BORDER:"noBorder",NO_SCALE:"noScale",SHOW_ALL:"showAll",FIXED_WIDTH:"fixedWidth",FIXED_HEIGHT:"fixedHeight"},t.navigateToURL=e,t.sendToURL=n;var i=null;t.toDisplayDataURL=function(e,n,r,o){void 0===n&&(n=null),void 0===r&&(r=null),void 0===o&&(o=""),i||(i=new t.CanvasRender(null)),i._stage=e,i.rootContainer=t.DisplayObject._canvas;var a={p:e.parent,x:e.x,y:e.y,scX:e.scaleX,scY:e.scaleY,r:e.rotation,skX:e.skewX,skY:e.skewY};e.parent=null,e.x=e.y=0,e.scaleX=e.scaleY=1,e.rotation=e.skewX=e.skewY=0;var s=e.getBounds(),l=n?n.width:s.width,u=n?n.height:s.height;return e.x=n?-n.x:-s.x,e.y=n?-n.y:-s.y,e._offsetX=n?n.x:s.x,e._offsetY=n?n.y:s.y,i.rootContainer.width=l,i.rootContainer.height=u,i._ctx=i.rootContainer.getContext("2d"),""==o?i._ctx.clearRect(0,0,l,u):(i._ctx.fillStyle=o,i._ctx.fillRect(0,0,l,u)),e._cp=!0,e.update(),e.render(i),e._cp=!0,e.parent=a.p,e.x=a.x,e.y=a.y,e.scaleX=a.scX,e.scaleY=a.scY,e.rotation=a.r,e.skewX=a.skX,e.skewY=a.skY,e.update(),r||(r={type:"png"}),i.rootContainer.toDataURL("image/"+r.type,r.quality)},t.getStagePixels=function(e,n){var i=e.localToGlobal(new t.Point(n.x,n.y));return e.renderObj.rootContainer.getContext("2d").getImageData(i.x,i.y,n.width,n.height)}}(annie||(annie={}));var trace=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];for(var n in arguments)console.log(arguments[n])};annie.Stage.addUpdateObj(annie.Tween),annie.Stage.addUpdateObj(annie.Timer),annie.Stage.flushAll();
>>>>>>> flash2x/master
